---
layout: 杂谈
title: 论游戏开发从代码到图像互动
date: 2023-12-05 08:36:17
tags:
---
# 只在大学学了点c皮毛的门外汉想问一下这些c++代码是怎么和那些图形界面联系起来的，一直无法理解命令行是怎么到游戏画面的?
<!--more-->
```
你好，我之前学过一些游戏开发，我尽量通俗地解答你的疑问

真实开发游戏时，我们既不会用非常原始的调用图形API来几乎从零开始做游戏，也不会只用游戏引擎提供的插件点点鼠标而不写一行代码。而是在游戏引擎提供的基础套件上用c++或c#这类的高级程序语言编写游戏逻辑。你用这些高级程序语言和游戏引擎打交道，游戏引擎负责和图形API打交道，图形API和你的CPU和显卡打交道。当然，游戏引擎也不只是封装了与图形相关的操作，也封装了很多游戏中都需要用到的物理操作，例如游戏物体中的碰撞系统，还封装了一些人机交互的操作例如和手柄键盘鼠标等外设打交道。诸如此类的，游戏引擎将大多数游戏都需要用到的操作封装起来方便程序员调用。

最简单的，在unity里面你想要让你按下w键时，你的人物以每秒5m的速度向z轴正方向跑，只需要在你的人物上挂一个继承了monobehaviour的脚本，在update函数里写下这么一行代码就行：

if（Input.Getkey("w")）
{
transform.z+=5*0.02//假设帧间隔为0.02秒，即每秒50帧
}
那么由于update函数每一帧执行一次，所以一秒后你的人物的位置确确实实地前进了5米。当然，这么干你会看到你的人物身体一动不动地匀速前进了5米，如果你需要让人物变速运动，以及让他能用上美术人员设计的奔跑动画，那就需要更复杂的代码来堆砌以完成复杂的游戏逻辑。总而言之，游戏引擎给你提供的是一个方便的框架。

游戏引擎并不是只有图形化的拖来拖去的鼠标操作，虽然unreal engine的蓝图和unity的一些插件确实能够让新手不用敲一行代码就写出一个看起来很棒的游戏，但封装层次越高，也就意味着丧失了更多的自由度。只是鼠标拖来拖去是满足不了很多场景下的开发需求的。

而另一个极端就是只采取像opengl这类的图形API从零开始做游戏。你可以把opengl简单地理解为一堆提供了与图形相关的函数。你可以调用这些函数在屏幕上画点，画线，画三角形，从而画出各种各样的多面体。


```

```
不太专业地说，就像你向命令行输出要标准输入输出API（像printf）一样，绘制图形也需要图形库API，比如OpenGL、DirectX等，代码负责描述要绘制的东西，通过这些API与硬件交互，比如交付给显卡，然后显卡就将代码描述的东西绘制出来，输出到屏幕上，当然，实际流程没那么简单，会有很多细节，这里只说个大概
```

[GTA罪恶都市源代码解读第一期（主函数、初始化逻辑）渲染引擎开发者解读R星代码_哔哩哔哩bilibili_罪恶都市](https://www.bilibili.com/video/BV1aG411i7nz/?spm_id_from=333.1007.tianma.2-2-5.click&vd_source=918e3cd28b5502ea4080d2a670fc82a8)

本文章来自b站视频下的评论。